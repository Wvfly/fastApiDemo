(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-26623538"],{"1aed":function(e,t,a){e.exports=a.p+"assets/img/data-service-report.36c497ba.png"},"3f5d":function(e,t,a){"use strict";a("5710")},5710:function(e,t,a){var i=a("e225");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("3111310c",i,!0,{sourceMap:!1,shadowMode:!1})},"5dc3":function(e,t,a){"use strict";a.r(t);a("386d"),a("8e6e"),a("ac6a"),a("456d");var i=a("ade3"),r=(a("96cf"),a("1da1")),s=a("0053"),n=a("80e1");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d,l,m,p,g,v={name:"ServiceManagement",data:function(){return{loading:!1,serviceGroupName:"",appidToken:"",searchUserId:"",createUserList:[],records:[],currentPage:1,currentSize:10,total:0,editId:null}},mounted:function(){this.getDataServiceGroupList(),this.getCreateUserList();var e=this.$route.query;e.id&&this.$refs.createOrEditDialog.openDialog(1,e.id)},methods:{getCreateUserList:function(){var e=this;this.$API.get(this.$URL.getDataServiceCreateUserList,{},(function(t){0==t.code?e.createUserList=t.data:e.$message.error(t.msg)}))},handleSizeChange:function(e){this.currentSize=e,this.getDataServiceGroupList()},handleCurrentChange:function(e){this.currentPage=e,this.getDataServiceGroupList()},newService:function(){this.$refs.createOrEditDialog.openDialog(0)},editService:function(e){this.$refs.createOrEditDialog.openDialog(1,e.id)},deleteService:function(e){var t=this;this.$confirm("你确定要删除服务组吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteDataServiceGroupById(e.id)})).catch((function(){}))},gotoList:function(e){this.$router.push("/dataServiceList"),localStorage.dataServiceGroupId=e.id},getDataServiceGroupList:(g=Object(r.a)(regeneratorRuntime.mark((function e(){var t,a,i,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(s.B)({current:this.currentPage,size:this.currentSize,serviceGroupName:this.serviceGroupName,appidToken:this.appidToken,searchUserId:this.searchUserId});case 3:t=e.sent,a=t.data.page,i=a.records,r=a.total,this.total=r,this.records=i,this.loading=!1;case 10:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)}),addDataServiceGroup:(p=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.b)(o({},this.form));case 2:0===e.sent.data.code&&(this.$message.success("创建数据服务组成功"),this.getDataServiceGroupList());case 5:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)}),editDataServiceGroup:(m=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.u)(o({id:t},this.form));case 2:0===e.sent.data.code&&(this.$message.success("编辑成功"),this.getDataServiceGroupList());case 5:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)}),getDataServiceGroupDetailById:(l=Object(r.a)(regeneratorRuntime.mark((function e(t){var a,i,r,n,c,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.A)(t);case 2:a=e.sent,i=a.data,r=i.code,n=i.data,c=n.serviceGroupDesc,o=n.serviceGroupName,d=n.roleId,0===r&&(this.form={serviceGroupDesc:c,serviceGroupName:o,roleId:d});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)}),deleteDataServiceGroupById:(d=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.s)(t);case 2:0===e.sent.data.code&&(this.$message.success("服务组删除成功"),this.getDataServiceGroupList());case 5:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)}),search:function(){this.currentPage=1,this.getDataServiceGroupList()},reset:function(){this.serviceGroupName="",this.appidToken="",this.searchUserId="",this.search()}},components:{CreateOrEditServiceGroup:n.a}},u=(a("3f5d"),a("2877")),f=Object(u.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"data-service-management"},[e._m(0),t("div",{staticClass:"management-list"},[t("div",{staticClass:"search-box"},[t("div",{staticClass:"search-box-left"},[t("el-select",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{filterable:"",clearable:"",placeholder:"请选择创建人"},model:{value:e.searchUserId,callback:function(t){e.searchUserId=t},expression:"searchUserId"}},e._l(e.createUserList,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1),t("el-input",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{placeholder:"请输入服务组名称"},model:{value:e.serviceGroupName,callback:function(t){e.serviceGroupName="string"==typeof t?t.trim():t},expression:"serviceGroupName"}}),t("el-input",{staticStyle:{"margin-left":"10px",width:"200px"},attrs:{placeholder:"请输入appId/Token"},model:{value:e.appidToken,callback:function(t){e.appidToken="string"==typeof t?t.trim():t},expression:"appidToken"}})],1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),t("el-button",{staticStyle:{"margin-left":"10px"},on:{click:e.reset}},[e._v("重置")])],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"search-list zt-scrollbar"},[t("div",{staticClass:"new-service",on:{click:e.newService}},[e._v("\n          +创建数据服务组\n        ")]),e._l(e.records,(function(a,i){return t("div",{key:i,staticClass:"service-item",on:{click:function(t){return e.gotoList(a)}}},[t("div",{staticClass:"item-top"},[t("div",{staticClass:"item-icon"}),t("div",{staticClass:"item-right"},[t("div",{staticClass:"item-title"},[a.serviceGroupName.length<=10?t("span",[e._v("\n                  "+e._s(a.serviceGroupName)+"\n                ")]):e._e(),t("el-tooltip",{attrs:{effect:"dark",content:a.serviceGroupName,placement:"top-start"}},[a.serviceGroupName.length>10?t("span",{staticClass:"desc"},[e._v(e._s(a.serviceGroupName))]):e._e()])],1),t("div",{staticClass:"item-content"},[t("div",[t("span",[e._v("创建人：")]),t("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(a.createName||""))]),t("br"),t("span",[e._v("最新编辑时间：")]),t("span",[e._v(e._s(a.updateTime))])]),t("div",{staticClass:"item-content-desc"},[a.serviceGroupDesc.length<=20?t("span",[e._v("\n                    描述："+e._s(a.serviceGroupDesc)+"\n                  ")]):e._e(),t("el-tooltip",{attrs:{effect:"dark",content:a.serviceGroupDesc,placement:"top-start"}},[a.serviceGroupDesc.length>20?t("span",{staticClass:"desc"},[e._v("描述："+e._s(a.serviceGroupDesc))]):e._e()])],1)])])]),t("div",{staticClass:"item-bottom"},[t("el-button",{attrs:{type:"text"},on:{click:function(t){return t.stopPropagation(),e.editService(a)}}},[t("i",{staticClass:"el-icon-edit edit"})]),t("el-divider",{attrs:{direction:"vertical"}}),t("el-button",{attrs:{type:"text"},on:{click:function(t){return t.stopPropagation(),e.deleteService(a)}}},[t("i",{staticClass:"el-icon-delete delete"})])],1)])}))],2),t("div",{staticClass:"pagation"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.currentSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),t("create-or-edit-service-group",{ref:"createOrEditDialog",on:{refresh:e.search}})],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"management-header"},[e("div",{staticClass:"management-header-left"},[e("div",{staticClass:"title"},[this._v("服务组管理")]),e("div",{staticClass:"management-content"},[this._v("数据服务采用项目制的形式进行开发，在服务管理中共同创建维护某一业务特性的服务API，服务组可共用一个Token认证，\n当然，API也可以单独认证Token。"),e("br"),this._v("创建服务组时选择的授权角色指的是针对不同角色看到的服务组也会不同。")])]),e("div",{staticClass:"management-header-right"})])}],!1,null,"0cf3d538",null);t.default=f.exports},"8aa2":function(e,t,a){e.exports=a.p+"assets/img/data-service-title.b162a6ce.png"},e225:function(e,t,a){var i=a("b041");(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-0cf3d538]{color:#1740dc}.success-color[data-v-0cf3d538]{color:#52c41a}.warning-color[data-v-0cf3d538]{color:#faad14}.error-color[data-v-0cf3d538]{color:#f5222d}.info-color[data-v-0cf3d538]{color:#909399}.border-color[data-v-0cf3d538]{border:1px solid #e5e6e9}.data-service-management[data-v-0cf3d538]{background:#f2f2f2}.data-service-management .rule-form[data-v-0cf3d538] .el-input,.data-service-management .rule-form[data-v-0cf3d538] .el-textarea{width:75%}.data-service-management .management-header[data-v-0cf3d538]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:10px;padding-right:20px;background:#fff}.data-service-management .management-header-left[data-v-0cf3d538]{-webkit-box-flex:1;-ms-flex:1;flex:1;padding:20px}.data-service-management .management-header-left .title[data-v-0cf3d538]{margin-bottom:10px;font-size:16px}.data-service-management .management-header-right[data-v-0cf3d538]{height:100px;width:200px;background:url("+i(a("8aa2"))+") no-repeat;background-size:100% 100%}.data-service-management .management-list[data-v-0cf3d538]{min-height:50px;background:#fff;padding:20px 10px;padding-top:10px}.data-service-management .management-list .search-box[data-v-0cf3d538]{padding-top:10px;padding-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.data-service-management .management-list .search-box-left label[data-v-0cf3d538]{margin-right:10px;font-size:12px}.data-service-management .management-list .search-box-left label[data-v-0cf3d538]:nth-child(3){margin-left:20px;margin-right:10px}.data-service-management .management-list .search-box[data-v-0cf3d538] .el-input{width:200px}.data-service-management .management-list .search-list[data-v-0cf3d538]{padding-top:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow:auto}@media screen and (min-width:1200px){.data-service-management .management-list .search-list .new-service[data-v-0cf3d538],.data-service-management .management-list .search-list .service-item[data-v-0cf3d538]{width:24%}}@media screen and (min-width:1600px){.data-service-management .management-list .search-list .new-service[data-v-0cf3d538],.data-service-management .management-list .search-list .service-item[data-v-0cf3d538]{max-width:19%}}@media screen and (max-width:1200px){.data-service-management .management-list .search-list .new-service[data-v-0cf3d538],.data-service-management .management-list .search-list .service-item[data-v-0cf3d538]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:24%;max-width:24.22%}}.data-service-management .management-list .search-list .new-service[data-v-0cf3d538]{height:184px;border:1px dashed #d9d9d9;border-radius:5px;margin-left:10px;margin-bottom:10px;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#999}.data-service-management .management-list .search-list .service-item[data-v-0cf3d538]{height:184px;margin-left:10px;margin-bottom:10px;border:1px solid #e5e6e9;cursor:pointer}.data-service-management .management-list .search-list .service-item[data-v-0cf3d538]:hover{-webkit-box-shadow:0 0 5px 5px #e9e9e9;box-shadow:0 0 5px 5px #e9e9e9}.data-service-management .management-list .search-list .service-item .item-top[data-v-0cf3d538]{position:relative;height:134px;padding:20px;display:-webkit-box;display:-ms-flexbox;display:flex}.data-service-management .management-list .search-list .service-item .item-top .item-icon[data-v-0cf3d538]{position:absolute;right:20px;top:20px;width:34px;height:27px;background:url("+i(a("1aed"))+") no-repeat;background-size:100% 100%}.data-service-management .management-list .search-list .service-item .item-top .item-right[data-v-0cf3d538]{height:100%;width:100%;font-size:12px;color:#8d8d8d;padding-left:15px}.data-service-management .management-list .search-list .service-item .item-top .item-right .item-title[data-v-0cf3d538]{width:90%;font-size:14px;font-weight:700;margin-bottom:10px;color:#000}.data-service-management .management-list .search-list .service-item .item-top .item-right .item-title span[data-v-0cf3d538]{display:block;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.data-service-management .management-list .search-list .service-item .item-top .item-right .item-content[data-v-0cf3d538]{line-height:20px}.data-service-management .management-list .search-list .service-item .item-top .item-right .item-content .item-content-desc[data-v-0cf3d538]{width:90%}.data-service-management .management-list .search-list .service-item .item-top .item-right .item-content .item-content-desc span[data-v-0cf3d538]{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.data-service-management .management-list .search-list .service-item .item-bottom[data-v-0cf3d538]{height:50px;background:#f0f1f3;border-bottom:1px solid #e5e6e9;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:30px;-webkit-box-pack:space-evenly;-ms-flex-pack:space-evenly;justify-content:space-evenly}.data-service-management .management-list .search-list .service-item .item-bottom .edit[data-v-0cf3d538]{font-size:16px;color:rgba(4,12,44,.45)}.data-service-management .management-list .search-list .service-item .item-bottom .edit[data-v-0cf3d538]:hover{color:#6781e4}.data-service-management .management-list .search-list .service-item .item-bottom .delete[data-v-0cf3d538]{font-size:16px;color:rgba(4,12,44,.45)}.data-service-management .management-list .search-list .service-item .item-bottom .delete[data-v-0cf3d538]:hover{color:#f1591c}",""])}}]);