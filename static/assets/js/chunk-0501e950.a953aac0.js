(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0501e950"],{"111a":function(e,t,o){"use strict";o("dc67")},aa3d:function(e,t,o){"use strict";o.r(t);o("7f7f"),o("386d"),o("8e6e"),o("ac6a"),o("456d");var a=o("ade3");function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}var n={data:function(){return{createPerList:[],tableData:[],dateValue:"",addRecordStatusList:[{value:null,text:"全部"},{value:2,text:"正在补录"},{value:3,text:"补录失败"},{value:4,text:"补录成功"}],totalCount:0,formInline:{addRecordName:"",addRecordStatus:null,createPer:"",addRecordRunTimeStart:"",addRecordRunTimeEnd:"",addRecordRunTimeOrder:null,page:1,limit:10}}},mounted:function(){this.getJobAddRecordJobAddRecordCreatePer(),this.getJobAddRecordInfoList()},methods:{logTableHandle:function(e){window.open(window.location.origin+"/#/jobAddRecordLogInfo?"+"id=".concat(e.row.id))},getJobAddRecordJobAddRecordCreatePer:function(){var e=this;this.$API.get(this.$URL.getJobAddRecordJobAddRecordCreatePer,{},(function(t){0==t.code?e.createPerList=t.data:e.$message.error(t.msg)}))},getJobAddRecordInfoList:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){Object(a.a)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},this.formInline);this.$API.post(this.$URL.getJobAddRecordInfoList,t,(function(t){0==t.code?(e.tableData=t.page.list,e.totalCount=t.page.totalCount):e.$message.error(t.msg)}))},getJobAddRecordDJobAddRecord:function(e){var t=this;this.$confirm("你确定要删除补录日志吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$API.post(t.$URL.getJobAddRecordDJobAddRecord+"?id="+e.id,{},(function(e){0==e.code?(t.getJobAddRecordInfoList(),t.$message.success("删除成功!")):t.$message.error(e.msg)}))})).catch((function(){}))},handleSortChange:function(e){"addRecordRunTime"===e.prop&&(this.formInline.addRecordRunTimeOrder=e.order?{ascending:"asc",descending:"desc"}[e.order]:null),this.getJobAddRecordInfoList()},sizeChangeHandle:function(e){this.formInline.limit=e,this.formInline.page=1,this.getJobAddRecordInfoList()},currentChangeHandle:function(e){this.formInline.page=e,this.getJobAddRecordInfoList()},search:function(){this.formInline.page=1,this.getJobAddRecordInfoList()},reset:function(){this.formInline.addRecordName="",this.formInline.addRecordStatus=null,this.formInline.createPer="",this.formInline.addRecordRunTimeStart="",this.formInline.addRecordRunTimeEnd="",this.dateValue="",this.search()},dateChange:function(e){this.formInline.addRecordRunTimeStart=(null==e?void 0:e.length)>0?e[0]:"",this.formInline.addRecordRunTimeEnd=(null==e?void 0:e.length)>0?e[1]:""}}},d=(o("111a"),o("2877")),l=Object(d.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"explore"},[t("h3",{staticClass:"title"},[e._v("数据补录日志")]),t("div",{staticStyle:{margin:"15px 10px 0"}},[t("el-form",{staticStyle:{"text-align":"right"},attrs:{inline:!0,model:e.formInline,size:"small"}},[t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入补录名称 "},model:{value:e.formInline.addRecordName,callback:function(t){e.$set(e.formInline,"addRecordName","string"==typeof t?t.trim():t)},expression:"formInline.addRecordName"}})],1),t("el-form-item",{staticClass:"date"},[t("el-date-picker",{staticStyle:{"margin-top":"2px",width:"310px"},attrs:{type:"datetimerange","range-separator":"~","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},on:{change:e.dateChange},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),t("el-form-item",[t("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择补录状态"},on:{change:e.search},model:{value:e.formInline.addRecordStatus,callback:function(t){e.$set(e.formInline,"addRecordStatus",t)},expression:"formInline.addRecordStatus"}},e._l(e.addRecordStatusList,(function(e){return t("el-option",{key:e.value+"u",attrs:{label:e.text,value:e.value}})})),1)],1),t("el-form-item",[t("el-select",{staticStyle:{width:"180px"},attrs:{filterable:"",clearable:"",placeholder:"请选择创建人"},on:{change:e.search},model:{value:e.formInline.createPer,callback:function(t){e.$set(e.formInline,"createPer",t)},expression:"formInline.createPer"}},e._l(e.createPerList,(function(e){return t("el-option",{key:e.id+"u",attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{staticClass:"btn-rt",staticStyle:{"margin-right":"0"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),t("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData},on:{"sort-change":e.handleSortChange}},[t("el-table-column",{attrs:{prop:"addRecordName","min-width":"200","show-overflow-tooltip":"",label:"补录名称"}}),t("el-table-column",{attrs:{prop:"createPerName","min-width":"200","show-overflow-tooltip":"",label:"创建人"}}),t("el-table-column",{attrs:{prop:"addRecordStatus","min-width":"200","show-overflow-tooltip":"",label:"补录状态"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("span",[e._v(e._s(1==o.row.addRecordStatus?"未提交":2==o.row.addRecordStatus?"正在补录":3==o.row.addRecordStatus?"补录失败":4==o.row.addRecordStatus?"补录成功":5==o.row.addRecordStatus?"补录停止":7==o.row.addRecordStatus?"等待补录":""))])]}}])},[t("template",{slot:"header"},[t("span",[e._v("补录状态")]),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top"}},[t("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n              补录状态说明："),t("br"),e._v("\n              补录失败：等全部补录实例都运行完成后，若补录任务中某个补录实例失败则补录状态为失败"),t("br"),e._v("\n              正在补录：补录任务中的补录实例正在运行。"),t("br"),e._v("\n              补录成功：等全部补录实例都运行完成后，补录任务中的全部补录实例运行成功则成功"),t("br")]),t("i",{staticClass:"icon icon-ic_remind",staticStyle:{"vertical-align":"middle","margin-left":"4px"}})])],1)],2),t("el-table-column",{attrs:{prop:"addRecordCost","min-width":"200","show-overflow-tooltip":"",label:"运行耗时"}}),t("el-table-column",{attrs:{prop:"addRecordRunTime","min-width":"200","show-overflow-tooltip":"",sortable:"custom",label:"开始时间"}}),t("el-table-column",{attrs:{prop:"addRecordEndTime","min-width":"180",label:"结束时间"}}),t("el-table-column",{attrs:{fixed:"right",width:"120","header-align":"right",align:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(o){return[t("el-button",{attrs:{disabled:1==o.row.addRecordStatus,type:"text",size:"small"},on:{click:function(t){return e.logTableHandle(o)}}},[e._v("查看日志")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.getJobAddRecordDJobAddRecord(o.row)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[10,20,50,100],"page-size":e.formInline.limit,total:e.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)])}),[],!1,null,"3969ea8a",null);t.default=l.exports},c8d7:function(e,t,o){(e.exports=o("2350")(!1)).push([e.i,".primary-color[data-v-3969ea8a]{color:#1740dc}.success-color[data-v-3969ea8a]{color:#52c41a}.warning-color[data-v-3969ea8a]{color:#faad14}.error-color[data-v-3969ea8a]{color:#f5222d}.info-color[data-v-3969ea8a]{color:#909399}.border-color[data-v-3969ea8a]{border:1px solid #e5e6e9}.explore[data-v-3969ea8a]{height:100%}.explore h3.title[data-v-3969ea8a]{font-size:16px;padding:12px 20px;font-weight:400;color:#040c2c;border-bottom:1px solid #e5e6e9}",""])},dc67:function(e,t,o){var a=o("c8d7");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,o("499e").default)("5d0540f6",a,!0,{sourceMap:!1,shadowMode:!1})}}]);