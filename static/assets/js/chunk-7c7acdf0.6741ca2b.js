(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7c7acdf0"],{"1a70":function(e,t,a){var o=a("5e0f");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,a("499e").default)("7a576299",o,!0,{sourceMap:!1,shadowMode:!1})},"5e0f":function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-7ba628af]{color:#1740dc}.success-color[data-v-7ba628af]{color:#52c41a}.warning-color[data-v-7ba628af]{color:#faad14}.error-color[data-v-7ba628af]{color:#f5222d}.info-color[data-v-7ba628af]{color:#909399}.border-color[data-v-7ba628af]{border:1px solid #e5e6e9}.eyes_ctrl_checkbox_filter_conter[data-v-7ba628af]{z-index:20000000}.eyes_ctrl_checkbox_filter_conter .list[data-v-7ba628af]{max-height:257px;overflow:auto}.eyes_ctrl_checkbox_filter_conter .list[data-v-7ba628af]::-webkit-scrollbar{width:4px}.eyes_ctrl_checkbox_filter_conter .list[data-v-7ba628af]::-webkit-scrollbar-thumb{background-color:rgba(4,12,44,.25)}.eyes_ctrl_checkbox_filter_conter .list li[data-v-7ba628af]{height:28px;line-height:28px}",""])},"8f6e":function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-1844fbc4]{color:#1740dc}.success-color[data-v-1844fbc4]{color:#52c41a}.warning-color[data-v-1844fbc4]{color:#faad14}.error-color[data-v-1844fbc4]{color:#f5222d}.info-color[data-v-1844fbc4]{color:#909399}.border-color[data-v-1844fbc4]{border:1px solid #e5e6e9}.operations_center_realtime .el-range-editor--small.el-input__inner[data-v-1844fbc4]{margin-top:1px}.operations_center_realtime h3[data-v-1844fbc4]{font-weight:400;color:#040c2c;padding:12px 20px;font-size:16px;border-bottom:1px solid #e5e6e9}.operations_center_realtime .conter[data-v-1844fbc4]{padding:20px}",""])},a0a9:function(e,t,a){var o=a("8f6e");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,a("499e").default)("502aa84a",o,!0,{sourceMap:!1,shadowMode:!1})},c82c:function(e,t,a){"use strict";a("ac6a");var o={props:{value:{type:Array,default:function(){return[]}}},model:{prop:"value",event:"change"},data:function(){return{checkAll:!0}},methods:{changeValue:function(){this.$emit("change",this.value);var e=0;this.value.forEach((function(t){t.isShow&&e++})),e==this.value.length?this.checkAll=!0:this.checkAll=!1},handleCheckAllChange:function(e){this.checkAll?this.value.forEach((function(e){e.isShow=!0})):this.value.forEach((function(e){e.isShow=!1}))}}},i=(a("e732"),a("2877")),r=Object(i.a)(o,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"eyes_ctrl_checkbox"},[t("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[t("el-button",{staticStyle:{padding:"3px 4px 6px 4px !important",background:"#f0f1f3"},attrs:{slot:"reference",icon:"icon icon-eye-fill",size:"mini"},slot:"reference"}),t("div",{staticClass:"eyes_ctrl_checkbox_filter_conter"},[t("ul",{staticClass:"list"},[t("el-checkbox",{on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._l(e.value,(function(a){return t("li",{key:a.label},[t("el-checkbox",{on:{change:e.changeValue},model:{value:a.isShow,callback:function(t){e.$set(a,"isShow",t)},expression:"item.isShow"}},[e._v(e._s(a.label))])],1)}))],2)])],1)],1)}),[],!1,null,"7ba628af",null);t.a=r.exports},d079:function(e,t,a){"use strict";a("a0a9")},e46b:function(e,t,a){"use strict";a.r(t);a("386d"),a("7f7f"),a("96cf");var o,i=a("1da1"),r=a("50f0"),l=a("c82c"),s={components:{filterTBHeader:r.a,eyeShow:l.a},data:function(){return{list:[],showTableList:[{label:"调度队列",isShow:!0},{label:"Duration",isShow:!0},{label:"运行时间",isShow:!0},{label:"创建人",isShow:!0}],form:{taskName:"",queueName:"",startTime:"",endTime:"",runState:"",projectId:"",page:1,limit:10},dateValue:"",page:{list:[]},isLoading:!1,procInfoList:[],scheduleList:[],stateList:[]}},computed:{schedules:function(){return this.scheduleList.map((function(e){return{text:e.name,value:e.id}}))},states:function(){return this.stateList.map((function(e){return{text:e.name,value:e.id}}))}},methods:{realTimeTaskHistoryList:(o=Object(i.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,this.http.post(this.$URL.realTimeTaskHistoryList,this.form);case 4:t=e.sent,a=t.data.data,this.isLoading=!1,this.form.page=a.currPage,this.form.limit=a.pageSize,this.page=a,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.isLoading=!1;case 15:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(){return o.apply(this,arguments)}),realTimeTaskHistoryCondition:function(){var e=this;this.isLoading=!0,this.$API.post(this.$URL.realTimeTaskHistoryCondition,{},(function(t){e.isLoading=!1,0==t.code?(e.procInfoList=t.data.projectList||[],e.scheduleList=t.data.queueNameList||[],e.stateList=t.data.runStateList||[]):e.$message.error(t.msg)}))},downloadTable:function(){var e=this;this.$API.downLoad(this.$URL.realTimeTaskHistoryDownload,this.form,(function(t){e.download(t.data,t.headers)}))},download:function(e,t){if(e){var a=window.URL.createObjectURL(new Blob([e])),o=document.createElement("a");o.style.display="none",o.href=a,o.setAttribute("download",decodeURI(t.filename)),document.body.appendChild(o),o.click()}},dateChange:function(e){this.form.startTime=(null==e?void 0:e.length)>0?e[0]:"",this.form.endTime=(null==e?void 0:e.length)>0?e[1]:""},search:function(){this.form.page=1,this.realTimeTaskHistoryList()},reset:function(){this.dateValue="",this.form.startTime="",this.form.endTime="",this.form.taskName="",this.form.projectId="",this.search()},sizeChangeHandle:function(e){this.form.limit=e,this.realTimeTaskHistoryList()},currentChangeHandle:function(e){this.form.page=e,this.realTimeTaskHistoryList()}},mounted:function(){this.realTimeTaskHistoryList(),this.realTimeTaskHistoryCondition()}},n=(a("d079"),a("2877")),c=Object(n.a)(s,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"operations_center_realtime"},[t("div",[t("h3",[e._v("实时任务运维")]),t("div",{staticClass:"conter"},[t("el-form",{attrs:{inline:!0,model:e.form}},[t("div",{staticClass:"fl zt-form"},[t("el-form-item",[t("el-button",{attrs:{size:"mini"},on:{click:e.downloadTable}},[e._v("下载")])],1)],1),t("div",{staticClass:"fr zt-form"},[t("el-form-item",[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.dateChange},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择项目名称",filterable:"",clearable:""},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.procInfoList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入实时任务名称"},model:{value:e.form.taskName,callback:function(t){e.$set(e.form,"taskName","string"==typeof t?t.trim():t)},expression:"form.taskName"}})],1),t("el-form-item",{staticStyle:{"margin-right":"0"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")]),t("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")]),t("eye-show",{staticStyle:{"margin-left":"10px"},attrs:{value:e.showTableList,list:e.list}})],1)],1)]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.page.list}},[t("el-table-column",{attrs:{label:"项目名称",prop:"procName","min-width":"200","show-overflow-tooltip":""}}),e.showTableList[0].isShow?t("el-table-column",{attrs:{prop:"queueName","min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(a){return[t("filter-t-b-header",{attrs:{label:"调度队列",filter:e.schedules,value:e.form.queueName},on:{"update:value":function(t){return e.$set(e.form,"queueName",t)},comfirm:e.search}})]}}],null,!1,1584771531)}):e._e(),t("el-table-column",{attrs:{label:"任务类型","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){var o=a.row;return[t("span",[e._v(e._s(1==o.taskType?"FLINK API":2==o.taskType?"FLINK SQL":3==o.taskType?"FLINK SQL DAG":"实时采集"))])]}}])}),t("el-table-column",{attrs:{label:"任务名称","min-width":"200","show-overflow-tooltip":"",prop:"taskName"}}),t("el-table-column",{attrs:{prop:"stateName","min-width":"110"},scopedSlots:e._u([{key:"header",fn:function(a){return[t("filter-t-b-header",{attrs:{label:"运行状态",filter:e.states,value:e.form.runState},on:{"update:value":function(t){return e.$set(e.form,"runState",t)},comfirm:e.search}})]}},{key:"default",fn:function(a){var o=a.row;return[t("span",[e._v(e._s(0==o.runState?"失败":1==o.runState?"成功":2==o.runState?"运行中":3==o.runState?"未运行":"停止"))])]}}])}),e.showTableList[1].isShow?t("el-table-column",{attrs:{label:"Duration","min-width":"180",prop:"duration"}}):e._e(),e.showTableList[2].isShow?t("el-table-column",{attrs:{label:"运行时间","min-width":"180",prop:"runTime"}}):e._e(),e.showTableList[3].isShow?t("el-table-column",{attrs:{label:"创建人",prop:"createPerName",align:"right","header-align":"right","show-overflow-tooltip":""}}):e._e()],1),t("el-pagination",{attrs:{"current-page":e.form.page,"page-sizes":[10,20,50,100],"page-size":e.form.limit,total:e.page.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)])])}),[],!1,null,"1844fbc4",null);t.default=c.exports},e732:function(e,t,a){"use strict";a("1a70")}}]);