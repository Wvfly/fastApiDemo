(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3ae2b7fc"],{"255e":function(t,e,n){t.exports=n.p+"assets/img/welcome.2a396ead.png"},"47be":function(t,e,n){"use strict";n.r(e);n("7f7f");var o=[function(){var t=this._self._c;return t("div",{staticClass:"img"},[t("img",{staticClass:"pic-404__parent",attrs:{src:n("255e"),alt:"404"}})])}],a=(n("ac6a"),n("0418")),i=n("00e7"),s=n.n(i),c={components:{Header:a.default},name:"chooseTenant",data:function(){return{options_tenant:[],dataForm:{tenantId:null}}},methods:{chooseTenant:function(){var t=this,e="";this.options_tenant.forEach((function(n){n.id==t.dataForm.tenantId&&(e=n)})),this.$API.post(this.$URL.loginNew,{username:e.username,tenantId:e.id},(function(n){if(0==n.code){var o={isLogin:!0,refresh:!1,userName:e.username,token:n.token,userId:n.userId,roleIds:n.roleIds,roleType:n.roleType,isMain:n.isMain,tenantAdmin:n.tenantAdmin};if(t.$store.commit("old/init",o),!n.activateMenu)return void t.$router.push("welcome");sessionStorage.setItem("defaulUrl",n.activateMenu.url),t.$router.push(n.activateMenu.url||"/")}else t.$message.error(n.msg)}))},confirm:function(){var t=this;this.$confirm("当前用户无租户信息, 请联系管理员添加","提示",{confirmButtonText:"确认并退出",showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,showCancelButton:!1,type:"warning"}).then((function(){s.a.delete("LtpaToken"),s.a.delete("SIAMTGT"),location.href=location.origin+"/system-center/api/redirect/out"})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},getTenantLogin:function(){var t=this;try{this.$API.post(this.$URL.getTenantLoginNew,{},(function(e){0==e.code?e.data&&e.data.length?1==e.data.length?(t.options_tenant=e.data,t.dataForm.tenantId=e.data[0].id,t.chooseTenant()):t.options_tenant=e.data:t.confirm():(t.confirm(),t.options_tenant=[],t.$message.error(e.msg))}))}catch(t){this.confirm()}},back:function(){this.$router.go(-1)},toLogin:function(){this.$router.push("/login")}},mounted:function(){this.getTenantLogin()}},r=(n("e955"),n("2877")),d=Object(r.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"chooseTenant"},[e("div",{staticClass:"chooseTenant-container"},[e("div",{staticClass:"top-tips"},[t._v("请选择租户登录")]),e("div",{staticClass:"btns"},[e("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择租户"},on:{change:t.chooseTenant},model:{value:t.dataForm.tenantId,callback:function(e){t.$set(t.dataForm,"tenantId",e)},expression:"dataForm.tenantId"}},t._l(t.options_tenant,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._m(0)])])}),o,!1,null,"7e8d53d6",null);e.default=d.exports},d315:function(t,e,n){(t.exports=n("2350")(!1)).push([t.i,".primary-color[data-v-7e8d53d6]{color:#1740dc}.success-color[data-v-7e8d53d6]{color:#52c41a}.warning-color[data-v-7e8d53d6]{color:#faad14}.error-color[data-v-7e8d53d6]{color:#f5222d}.info-color[data-v-7e8d53d6]{color:#909399}.border-color[data-v-7e8d53d6]{border:1px solid #e5e6e9}.chooseTenant[data-v-7e8d53d6]{height:100%}.chooseTenant-container[data-v-7e8d53d6]{height:100%;width:100%;background-color:#f8fcff}.chooseTenant-container .top-tips[data-v-7e8d53d6]{padding-top:50px;padding-bottom:20px;font-size:24px;font-weight:700}.chooseTenant-container .img[data-v-7e8d53d6]{margin:0 auto;display:inline-block;margin-top:140px}.chooseTenant-container .img img[data-v-7e8d53d6]{width:800px}.chooseTenant-container .btns[data-v-7e8d53d6]{font-weight:700;font-size:18px}.chooseTenant-container .pan-back-btn[data-v-7e8d53d6]{color:#fff;border:none!important}",""])},e955:function(t,e,n){"use strict";n("f25c")},f25c:function(t,e,n){var o=n("d315");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("499e").default)("4c406c7a",o,!0,{sourceMap:!1,shadowMode:!1})}}]);