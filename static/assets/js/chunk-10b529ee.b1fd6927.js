(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-10b529ee"],{"0296":function(e,t,a){var o=a("99a3");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,a("499e").default)("006db0dd",o,!0,{sourceMap:!1,shadowMode:!1})},"1a70":function(e,t,a){var o=a("5e0f");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,a("499e").default)("7a576299",o,!0,{sourceMap:!1,shadowMode:!1})},"55ac":function(e,t,a){"use strict";a.r(t);a("386d"),a("7f7f"),a("96cf");var o,r,i,l,n=a("1da1"),s=a("50f0"),c=a("c82c"),u={components:{filterTBHeader:s.a,eyeShow:c.a},data:function(){return{form:{name:"",queueName:"",jobStartTime:"",jobEndTime:"",state:"",proc_id:"",page:1,limit:10},dateValue:"",page:{list:[]},isLoading:!1,procInfoList:[],scheduleList:[],stateList:[],showTableList:[{label:"调度队列",isShow:!0},{label:"调度方式",isShow:!0},{label:"循环方式",isShow:!0},{label:"调度周期",isShow:!0},{label:"运行时间",isShow:!0},{label:"运行时长",isShow:!0},{label:"创建人",isShow:!0}]}},computed:{schedules:function(){return this.scheduleList.map((function(e){return{text:e,value:e}}))},states:function(){return this.stateList.map((function(e){return{text:e.name,value:e.state}}))}},methods:{jobRunHistoryAllLogList:(l=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.isLoading=!0,e.next=4,this.http.post(this.$URL.jobRunHistoryAllLogList,this.form);case 4:t=e.sent,a=t.data.page,this.form.page=a.currPage,this.form.limit=a.pageSize,this.page=a,this.isLoading=!1,e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return l.apply(this,arguments)}),procInfoLogProjectList:(i=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get(this.$URL.procInfoLogProjectList);case 3:t=e.sent,a=t.data.data,this.procInfoList=(null==a?void 0:a.length)>0?a:[],e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return i.apply(this,arguments)}),procInfoScheduleQueueList:(r=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get(this.$URL.procInfoScheduleQueueList);case 3:t=e.sent,a=t.data.data,this.scheduleList=(null==a?void 0:a.length)>0?a:[],e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return r.apply(this,arguments)}),procInfoStateList:(o=Object(n.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.http.get(this.$URL.procInfoStateList);case 3:t=e.sent,a=t.data.data,this.stateList=a,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return o.apply(this,arguments)}),downloadTable:function(){var e=this;this.$API.downLoad(this.$URL.jobRunHistoryDownload,this.form,(function(t){e.download(t.data,t.headers)}))},download:function(e,t){if(e){var a=window.URL.createObjectURL(new Blob([e])),o=document.createElement("a");o.style.display="none",o.href=a,o.setAttribute("download",decodeURI(t.filename)),document.body.appendChild(o),o.click()}},dateChange:function(e){this.form.jobStartTime=(null==e?void 0:e.length)>0?e[0]:"",this.form.jobEndTime=(null==e?void 0:e.length)>0?e[1]:""},search:function(){this.form.page=1,this.jobRunHistoryAllLogList()},reset:function(){this.dateValue="",this.form.name="",this.form.proc_id="",this.form.jobStartTime="",this.form.jobEndTime="",this.search()},sizeChangeHandle:function(e){this.form.limit=e,this.jobRunHistoryAllLogList()},currentChangeHandle:function(e){this.form.page=e,this.jobRunHistoryAllLogList()}},mounted:function(){this.jobRunHistoryAllLogList(),this.procInfoLogProjectList(),this.procInfoScheduleQueueList(),this.procInfoStateList()}},h=(a("7186"),a("2877")),f=Object(h.a)(u,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"operations_center_offline_taskop"},[t("div",[t("h3",[e._v("离线任务运维")]),t("div",{staticClass:"conter"},[t("el-form",{attrs:{inline:!0,model:e.form}},[t("div",{staticClass:"fl zt-form"},[t("el-form-item",[t("el-button",{attrs:{size:"mini"},on:{click:e.downloadTable}},[e._v("下载")])],1)],1),t("div",{staticClass:"fr zt-form"},[t("el-form-item",[t("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.dateChange},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择项目名称",filterable:"",clearable:""},model:{value:e.form.proc_id,callback:function(t){e.$set(e.form,"proc_id",t)},expression:"form.proc_id"}},e._l(e.procInfoList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入作业流/作业流依赖名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),t("el-form-item",{staticStyle:{"margin-right":"0"}},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("查询")]),t("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")]),t("eye-show",{staticStyle:{"margin-left":"10px"},model:{value:e.showTableList,callback:function(t){e.showTableList=t},expression:"showTableList"}})],1)],1)]),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.page.list}},[t("el-table-column",{attrs:{label:"项目名称",prop:"projectName","min-width":"200","show-overflow-tooltip":""}}),e.showTableList[0].isShow?t("el-table-column",{attrs:{prop:"queueName","min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(a){return[t("filter-t-b-header",{attrs:{label:"调度队列",filter:e.schedules,value:e.form.queueName},on:{"update:value":function(t){return e.$set(e.form,"queueName",t)},comfirm:e.search}})]}}],null,!1,1584771531)}):e._e(),t("el-table-column",{attrs:{label:"任务类型","min-width":"100","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){var o=a.row;return[t("span",[e._v(e._s(0===o.jobLogType?"作业流":"作业流依赖"))])]}}])}),t("el-table-column",{attrs:{label:"作业名称","min-width":"200","show-overflow-tooltip":"",prop:"jobName"}}),e.showTableList[1].isShow?t("el-table-column",{attrs:{label:"调度方式","min-width":"120",prop:"sheduleWay"}}):e._e(),e.showTableList[2].isShow?t("el-table-column",{attrs:{label:"循环方式","min-width":"120",prop:"cycleWay"}}):e._e(),e.showTableList[3].isShow?t("el-table-column",{attrs:{label:"调度周期","min-width":"120",prop:"cronName"}}):e._e(),e.showTableList[4].isShow?t("el-table-column",{attrs:{label:"运行时间","min-width":"180",prop:"beginTime"}}):e._e(),e.showTableList[5].isShow?t("el-table-column",{attrs:{label:"运行时长（秒）",prop:"costSecond","min-width":"120"}}):e._e(),t("el-table-column",{attrs:{prop:"stateName","min-width":"100"}},[t("template",{slot:"header"},[t("filter-t-b-header",{attrs:{label:"运行状态",filter:e.states,value:e.form.state},on:{"update:value":function(t){return e.$set(e.form,"state",t)},comfirm:e.search}})],1)],2),e.showTableList[6].isShow?t("el-table-column",{attrs:{label:"创建人",prop:"createPerName","header-align":"right",align:"right","show-overflow-tooltip":""}}):e._e()],1),t("el-pagination",{attrs:{"current-page":e.form.page,"page-sizes":[10,20,50,100],"page-size":e.form.limit,total:e.page.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)])])}),[],!1,null,"521e13f0",null);t.default=f.exports},"5e0f":function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-7ba628af]{color:#1740dc}.success-color[data-v-7ba628af]{color:#52c41a}.warning-color[data-v-7ba628af]{color:#faad14}.error-color[data-v-7ba628af]{color:#f5222d}.info-color[data-v-7ba628af]{color:#909399}.border-color[data-v-7ba628af]{border:1px solid #e5e6e9}.eyes_ctrl_checkbox_filter_conter[data-v-7ba628af]{z-index:20000000}.eyes_ctrl_checkbox_filter_conter .list[data-v-7ba628af]{max-height:257px;overflow:auto}.eyes_ctrl_checkbox_filter_conter .list[data-v-7ba628af]::-webkit-scrollbar{width:4px}.eyes_ctrl_checkbox_filter_conter .list[data-v-7ba628af]::-webkit-scrollbar-thumb{background-color:rgba(4,12,44,.25)}.eyes_ctrl_checkbox_filter_conter .list li[data-v-7ba628af]{height:28px;line-height:28px}",""])},7186:function(e,t,a){"use strict";a("0296")},"99a3":function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-521e13f0]{color:#1740dc}.success-color[data-v-521e13f0]{color:#52c41a}.warning-color[data-v-521e13f0]{color:#faad14}.error-color[data-v-521e13f0]{color:#f5222d}.info-color[data-v-521e13f0]{color:#909399}.border-color[data-v-521e13f0]{border:1px solid #e5e6e9}.operations_center_offline_taskop h3[data-v-521e13f0]{font-weight:400;color:#040c2c;padding:12px 20px;font-size:16px;border-bottom:1px solid #e5e6e9}.operations_center_offline_taskop .conter[data-v-521e13f0]{padding:15px 20px}",""])},c82c:function(e,t,a){"use strict";a("ac6a");var o={props:{value:{type:Array,default:function(){return[]}}},model:{prop:"value",event:"change"},data:function(){return{checkAll:!0}},methods:{changeValue:function(){this.$emit("change",this.value);var e=0;this.value.forEach((function(t){t.isShow&&e++})),e==this.value.length?this.checkAll=!0:this.checkAll=!1},handleCheckAllChange:function(e){this.checkAll?this.value.forEach((function(e){e.isShow=!0})):this.value.forEach((function(e){e.isShow=!1}))}}},r=(a("e732"),a("2877")),i=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("span",{staticClass:"eyes_ctrl_checkbox"},[t("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[t("el-button",{staticStyle:{padding:"3px 4px 6px 4px !important",background:"#f0f1f3"},attrs:{slot:"reference",icon:"icon icon-eye-fill",size:"mini"},slot:"reference"}),t("div",{staticClass:"eyes_ctrl_checkbox_filter_conter"},[t("ul",{staticClass:"list"},[t("el-checkbox",{on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._l(e.value,(function(a){return t("li",{key:a.label},[t("el-checkbox",{on:{change:e.changeValue},model:{value:a.isShow,callback:function(t){e.$set(a,"isShow",t)},expression:"item.isShow"}},[e._v(e._s(a.label))])],1)}))],2)])],1)],1)}),[],!1,null,"7ba628af",null);t.a=i.exports},e732:function(e,t,a){"use strict";a("1a70")}}]);