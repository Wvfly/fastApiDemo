(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-72c9da02"],{6995:function(t,e,a){"use strict";a.r(e);a("96cf");var n,u,r,o=a("1da1"),i=a("8e5b"),l={1:"表级",2:"字段级",3:"跨字段级"},c={components:{},data:function(){return{detail:{ruleTemplateName:"",ruleType:"",ruleSql:""},activeName:"list",list:[],log:[],listPage:{pageIndex:1,pageSize:10,totalCount:0},logPage:{pageIndex:1,pageSize:10,totalCount:0},appLoading:!1}},computed:{},watch:{},methods:{getDetail:(r=Object(o.a)(regeneratorRuntime.mark((function t(){var e,a,n,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.ib)({id:this.$route.query.id||this.$route.query.templateId});case 2:e=t.sent,a=e.data,n=a.code,u=a.data,0===n&&(this.detail.ruleTemplateName=u.templateName,this.detail.ruleType=l[u.ruleType],this.detail.ruleSql=u.sql);case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),getList:(u=Object(o.a)(regeneratorRuntime.mark((function t(){var e,a,n,u,r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:+this.$route.query.id||this.$route.query.templateId,page:this.listPage.pageIndex,limit:this.listPage.pageSize},this.appLoading=!0,t.prev=2,t.next=5,Object(i.gb)(e);case 5:a=t.sent,n=a.data,u=n.code,r=n.data,o=r.records,l=r.total,0===u&&(this.list=o,this.listPage.totalCount=l);case 12:return t.prev=12,this.appLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[2,,12,15]])}))),function(){return u.apply(this,arguments)}),getlog:(n=Object(o.a)(regeneratorRuntime.mark((function t(){var e,a,n,u,r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={id:this.$route.query.id||this.$route.query.templateId,page:this.logPage.pageIndex,limit:this.logPage.pageSize},t.next=3,Object(i.nb)(e);case 3:a=t.sent,n=a.data,u=n.code,r=n.data,o=r.records,l=r.total,0===u&&(this.log=o,this.logPage.totalCount=l);case 10:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),sizeChangeHandle:function(t){this.listPage.pageSize=t,this.listPage.pageIndex=1,this.getList()},currentChangeHandle:function(t){this.listPage.pageIndex=t,this.getList()},sizeChangeHandle1:function(t){this.logPage.pageSize=t,this.logPage.pageIndex=1,this.getlog()},currentChangeHandle1:function(t){this.logPage.pageIndex=t,this.getlog()}},created:function(){},mounted:function(){this.getDetail(),this.getList(),this.getlog()}},d=(a("9c60"),a("2877")),f=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"templateDetail"},[e("div",{staticClass:"content"},[e("div",{staticClass:"top-detail"},[e("div",{staticClass:"sub-title"},[e("span",{staticClass:"text"},[t._v(t._s("customer"===t.$route.query.type?"自定义模板":"系统模板"))]),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回规则模板库")])],1),e("p",{staticClass:"detail"},[e("span",{staticClass:"label"},[t._v("模板名称：")]),e("span",{staticClass:"value"},[t._v(t._s(t.detail.ruleTemplateName))])]),e("p",{staticClass:"detail"},[e("span",{staticClass:"label"},[t._v("规则类型：")]),e("span",{staticClass:"value"},[t._v(t._s(t.detail.ruleType))])]),e("div",{staticClass:"detail"},[e("span",{staticClass:"label"},[t._v("自定义SQL：")]),e("span",{staticClass:"value",staticStyle:{width:"100%"}},[e("span",{staticStyle:{"word-break":"break-all"}},[t._v(t._s(t.detail.ruleSql.replaceAll("\n","")))])])])]),e("div",{staticClass:"bottom"},[e("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"应用列表("+t.listPage.totalCount+")",name:"list"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.appLoading,expression:"appLoading"}],staticStyle:{width:"100%","margin-top":"5px"},attrs:{data:t.list}},[e("el-table-column",{attrs:{prop:"ruleName",label:"规则名"}}),e("el-table-column",{attrs:{prop:"tableName",label:"表名"}}),e("el-table-column",{attrs:{prop:"createName",label:"创建人"}}),e("el-table-column",{attrs:{prop:"updateTime",label:"最近修改时间"}}),e("el-table-column",{attrs:{prop:"lastRunTime",label:"最近运行时间"}}),e("el-table-column",{attrs:{prop:"lastRunName","header-align":"right",align:"right",label:"操作人"}})],1),e("el-pagination",{attrs:{"current-page":t.listPage.pageIndex,"page-sizes":[10,20,50,100],"page-size":t.listPage.pageSize,total:t.listPage.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}})],1),e("el-tab-pane",{attrs:{label:"修改记录",name:"log"}},[e("el-table",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{data:t.log}},[e("el-table-column",{attrs:{type:"index",label:"序号"}}),e("el-table-column",{attrs:{prop:"createName",label:"操作人"}}),e("el-table-column",{attrs:{"min-width":"200",prop:"content","show-overflow-tooltip":"",label:"操作内容"}}),e("el-table-column",{attrs:{prop:"createTime","header-align":"right",align:"right",label:"修改时间"}})],1),e("el-pagination",{attrs:{"current-page":t.logPage.pageIndex,"page-sizes":[10,20,50,100],"page-size":t.logPage.pageSize,total:t.logPage.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle1,"current-change":t.currentChangeHandle1}})],1)],1)],1)])])}),[],!1,null,"a41fa574",null);e.default=f.exports},"8e5b":function(t,e,a){"use strict";a.d(e,"Ob",(function(){return r})),a.d(e,"yb",(function(){return o})),a.d(e,"Db",(function(){return i})),a.d(e,"Eb",(function(){return l})),a.d(e,"tb",(function(){return c})),a.d(e,"xb",(function(){return d})),a.d(e,"R",(function(){return f})),a.d(e,"Fb",(function(){return s})),a.d(e,"ub",(function(){return p})),a.d(e,"Lb",(function(){return g})),a.d(e,"T",(function(){return h})),a.d(e,"Vb",(function(){return b})),a.d(e,"Pb",(function(){return y})),a.d(e,"n",(function(){return m})),a.d(e,"k",(function(){return w})),a.d(e,"p",(function(){return N})),a.d(e,"q",(function(){return Q})),a.d(e,"r",(function(){return v})),a.d(e,"m",(function(){return C})),a.d(e,"o",(function(){return S})),a.d(e,"I",(function(){return I})),a.d(e,"l",(function(){return D})),a.d(e,"Mb",(function(){return x})),a.d(e,"Nb",(function(){return T})),a.d(e,"wb",(function(){return L})),a.d(e,"pb",(function(){return k})),a.d(e,"ob",(function(){return A})),a.d(e,"rb",(function(){return P})),a.d(e,"qb",(function(){return R})),a.d(e,"vb",(function(){return M})),a.d(e,"Kb",(function(){return z})),a.d(e,"Hb",(function(){return O})),a.d(e,"Gb",(function(){return j})),a.d(e,"Jb",(function(){return q})),a.d(e,"Ib",(function(){return H})),a.d(e,"X",(function(){return _})),a.d(e,"Y",(function(){return U})),a.d(e,"U",(function(){return B})),a.d(e,"kb",(function(){return $})),a.d(e,"lb",(function(){return E})),a.d(e,"mb",(function(){return G})),a.d(e,"jb",(function(){return F})),a.d(e,"Ub",(function(){return J})),a.d(e,"c",(function(){return V})),a.d(e,"ib",(function(){return W})),a.d(e,"gb",(function(){return Y})),a.d(e,"nb",(function(){return K})),a.d(e,"hb",(function(){return X})),a.d(e,"db",(function(){return Z})),a.d(e,"Q",(function(){return tt})),a.d(e,"b",(function(){return et})),a.d(e,"O",(function(){return at})),a.d(e,"bb",(function(){return nt})),a.d(e,"Z",(function(){return ut})),a.d(e,"ab",(function(){return rt})),a.d(e,"cb",(function(){return ot})),a.d(e,"fb",(function(){return it})),a.d(e,"Tb",(function(){return lt})),a.d(e,"eb",(function(){return ct})),a.d(e,"F",(function(){return dt})),a.d(e,"J",(function(){return ft})),a.d(e,"B",(function(){return st})),a.d(e,"y",(function(){return pt})),a.d(e,"x",(function(){return gt})),a.d(e,"w",(function(){return ht})),a.d(e,"E",(function(){return bt})),a.d(e,"D",(function(){return yt})),a.d(e,"C",(function(){return mt})),a.d(e,"v",(function(){return wt})),a.d(e,"z",(function(){return Nt})),a.d(e,"A",(function(){return Qt})),a.d(e,"G",(function(){return vt})),a.d(e,"H",(function(){return Ct})),a.d(e,"j",(function(){return St})),a.d(e,"L",(function(){return It})),a.d(e,"u",(function(){return Dt})),a.d(e,"t",(function(){return xt})),a.d(e,"K",(function(){return Tt})),a.d(e,"W",(function(){return Lt})),a.d(e,"zb",(function(){return kt})),a.d(e,"Bb",(function(){return At})),a.d(e,"Ab",(function(){return Pt})),a.d(e,"Rb",(function(){return Rt})),a.d(e,"sb",(function(){return Mt})),a.d(e,"Cb",(function(){return zt})),a.d(e,"a",(function(){return Ot})),a.d(e,"V",(function(){return jt})),a.d(e,"S",(function(){return qt})),a.d(e,"Sb",(function(){return Ht})),a.d(e,"P",(function(){return _t})),a.d(e,"h",(function(){return Ut})),a.d(e,"g",(function(){return Bt})),a.d(e,"i",(function(){return $t})),a.d(e,"s",(function(){return Et})),a.d(e,"M",(function(){return Gt})),a.d(e,"Qb",(function(){return Ft})),a.d(e,"N",(function(){return Jt})),a.d(e,"e",(function(){return Vt})),a.d(e,"f",(function(){return Wt})),a.d(e,"d",(function(){return Yt}));var n=a("2b0e"),u=a("fedb"),r=function(){return n.default.http.get(u.a.getDataNewQualityInfoLiable)},o=function(t){return n.default.http.post(u.a.getDataNewQualityInfoList,t)},i=function(t){return n.default.http.post(u.a.getNewQualityConn,t)},l=function(){return n.default.http.get(u.a.getRuleDataSourceListNew)},c=function(){return n.default.http.get(u.a.getNewQualityType)},d=function(t){return n.default.http.post(u.a.getQualityDetailIst,t)},f=function(t){return n.default.http.get(u.a.delQualityDetailIst+"?id=".concat(t.ruleId))},s=function(t){return n.default.http.get(u.a.getRuleDetail+"?ruleId=".concat(t.ruleId))},p=function(t){return n.default.http.post(u.a.getListByDbAndConnentNew,t)},g=function(t){return n.default.http.get(u.a.getSubscribeInfoNew,{params:t})},h=function(){return n.default.http.get(u.a.getAllUsers)},b=function(t){return n.default.http.post(u.a.updateSubscribeInfoNew,t)},y=function(t){return n.default.http.post(u.a.immediateExecution+"".concat(t.ruleId))},m=function(t){return n.default.http.post(u.a.dataNewMonitorInfoSearchList,t)},w=function(t){return n.default.http.get(u.a.dataNewMonitorInfoCreatePerList)},N=function(t){return n.default.http.get(u.a.dataNewMonitorInfomonitorObject)},Q=function(t){return n.default.http.get(u.a.dataNewMonitorInfotaskRunMode)},v=function(t){return n.default.http.get(u.a.dataNewMonitorInfotaskRunResult)},C=function(t){return n.default.http.get(u.a.dataNewMonitorInfoMonitorLog+"?monitorHistoryId=".concat(t))},S=function(t){return n.default.http.post(u.a.dataNewMonitorInfoSerachHistoryList,t)},I=function(t){return n.default.http.get(u.a.dataNewQualityInfoRun+"?id=".concat(t))},D=function(t){return n.default.http.post(u.a.dataNewMonitorInfoMonitorInfoNodeInfo,t)},x=function(){return n.default.http.get(u.a.getUserCanSeeProjectList)},T=function(t){return n.default.http.post(u.a.getYesterdayDailyData,t)},L=function(t){return n.default.http.post(u.a.getQualityDailyHistory,t)},k=function(t){return n.default.http.post(u.a.getDataQualityBlockingList,t)},A=function(t){return n.default.http.post(u.a.getDataQualityAlarmList,t)},P=function(t){return n.default.http.post(u.a.getDataQualityTableScoreTop10,t)},R=function(t){return n.default.http.post(u.a.getDataQualityTableScoreBottom10,t)},M=function(){return n.default.http.get(u.a.getQualityDailyConnectList)},z=function(t){return n.default.http.post(u.a.getServiceQualityDailyYesterday,t)},O=function(t){return n.default.http.post(u.a.getServiceQualityDailyHistory,t)},j=function(t){return n.default.http.post(u.a.getServiceQualityDailyAlarmList,t)},q=function(t){return n.default.http.post(u.a.getServiceQualityDailyScoreBeforeTop10,t)},H=function(t){return n.default.http.post(u.a.getServiceQualityDailyScoreAfterTop10,t)},_=function(t){var e=t.qualityInfoId;return n.default.http.get(u.a.getDataNewMonitorListTableQuality+"?qualityInfoId=".concat(e))},U=function(t){return n.default.http.post(u.a.getDataNewMonitorRuleList,t)},B=function(t){return n.default.http.post(u.a.getCatagoryListNotInWarehouse,t||{})},$=function(t){var e=t.type;return n.default.http.get(u.a.getDataNewQualityTemplateListCreater+"?type=".concat(e))},E=function(t){var e=t.type;return n.default.http.get(u.a.getDataNewQualityTemplateListDimension+"?type=".concat(e))},G=function(t){var e=t.type;return n.default.http.get(u.a.getDataNewQualityTemplateListRuleType+"?type=".concat(e))},F=function(t){return n.default.http.post(u.a.getDataNewQualityTemplateList,t)},J=function(t){return n.default.http.post(u.a.saveOrUpdateQualityTemplate,t)},V=function(t){return n.default.http.post(u.a.checkSqlOfNewQualityTemplate,t)},W=function(t){return n.default.http.get(u.a.getDataNewQualityTemplateInfoById,{params:t})},Y=function(t){return n.default.http.post(u.a.getDataNewQualityTemplateAppList,t)},K=function(t){return n.default.http.post(u.a.getDataNewQualityTemplateUpdateList,t)},X=function(){return n.default.http.post(u.a.getDataNewQualityTemplateCount,{})},Z=function(){return n.default.http.get(u.a.getDataNewQualityDimensionAll)},tt=function(t){return n.default.http.post(u.a.delDataNewQualityTemplate,t)},et=function(t){return n.default.http.get(u.a.checkDataNewQualityRuleExpression,{params:t})},at=function(t){return n.default.http.get(u.a.dataNewQualityRuleWarncheckExpression,{params:t})},nt=function(){return n.default.http.get(u.a.getDataNewQualityCanSelectSource)},ut=function(t){return n.default.http.get(u.a.getDataNewQualityCanSelectDB,{params:t})},rt=function(){return n.default.http.get(u.a.getDataNewQualityCanSelectRole)},ot=function(t){return n.default.http.post(u.a.getDataNewQualityCanSelectTable,t)},it=function(t){return n.default.http.get(u.a.getDataNewQualityTableFieldCanSelect,{params:t})},lt=function(t){return n.default.http.post(u.a.saveDataNewQualityRuleBatch,t)},ct=function(){return n.default.http.get(u.a.getDataNewQualityRuleAbnDay)},dt=function(t){return n.default.http.get(u.a.dataNewQualityInfoProc,t)},ft=function(t){return n.default.http.get(u.a.dataNewQualityInfoTask+"?id=".concat(t))},st=function(t){return n.default.http.get(u.a.dataNewQualityInfoNode+"?id=".concat(t))},pt=function(t){return n.default.http.get(u.a.dataNewQualityInfoAssociatedTaskShow+"?id=".concat(t))},gt=function(t){return n.default.http.get(u.a.dataNewQualityInfoAssociatedTaskDel+"?id=".concat(t))},ht=function(t){return n.default.http.post(u.a.dataNewQualityInfoAssociatedTask,t)},bt=function(t){return n.default.http.get(u.a.dataNewQualityInfoNotificationGroupShow+"?id=".concat(t))},yt=function(t){return n.default.http.post(u.a.dataNewQualityInfoNotificationGroupSaveOrUpd,t)},mt=function(t){return n.default.http.get(u.a.dataNewQualityInfoNotificationGroup+"?id=".concat(t))},wt=function(t){return n.default.http.get(u.a.dataNewQualityInfoAlarmType,t)},Nt=function(t){return n.default.http.post(u.a.dataNewQualityInfoDispatchSaveOrUpd,t)},Qt=function(t){return n.default.http.get(u.a.dataNewQualityInfoDispatchShow+"?id=".concat(t))},vt=function(t){return n.default.http.post(u.a.dataNewQualityInfoQueueSaveOrUpdate,t)},Ct=function(t){return n.default.http.get(u.a.dataNewQualityInfoQueueShow+"?id=".concat(t))},St=function(t){return n.default.http.get(u.a.dataNewMonitorHistoryDownload+"?id=".concat(t),{responseType:"arraybuffer"})},It=function(t){return n.default.http.get(u.a.dataNewQualityRuleQueueCanSelect)},Dt=function(t){return n.default.http.get(u.a.dataNewQualityInfoAlarmShow+"?id=".concat(t))},xt=function(t){return n.default.http.post(u.a.dataNewQualityInfoAlarmSaveOrUpd,t)},Tt=function(t){return n.default.http.get(u.a.dataNewQualityRuleDelAll+"?id=".concat(t))},Lt=function(t){return n.default.http.post(u.a.getCompareAcrossSourceList,t)},kt=function(){return n.default.http.get(u.a.getQueryPerNameOfCorSource)},At=function(){return n.default.http.post(u.a.getQuerySourceTypeOfCorSource)},Pt=function(t){return n.default.http.post(u.a.getQuerySourceOfCorSource,t)},Rt=function(t){return n.default.http.post(u.a.removeCompareCrossSource,t)},Mt=function(t){return n.default.http.get(u.a.getDataSourceOfCorSource+"?typeId=".concat(t))},zt=function(){return n.default.http.get(u.a.getQueueCanSelectOfCorSource)},Ot=function(t){return n.default.http.post(u.a.addCompareAcrossSource,t)},jt=function(t){return n.default.http.post(u.a.getCompareAcrossSourceDetail,t)},qt=function(t){return n.default.http.post(u.a.editCompareAcrossSource,t)},Ht=function(t){return n.default.http.get(u.a.runDataNewQualityInfo+"?id=".concat(t))},_t=function(t){return n.default.http.post(u.a.dataNewSearchAcrossMonitorList,t)},Ut=function(t){return n.default.http.post(u.a.dataNewAcrossMonitorCreatePerList)},Bt=function(t){return n.default.http.post(u.a.dataNewAcrossAcrossMonitorObject)},$t=function(t){return n.default.http.get(u.a.dataNewMonitorAcrossMonitorLog+"?monitorHistoryId=".concat(t))},Et=function(t){return n.default.http.post(u.a.dataNewMonitorsearchAcrossHistoryList,t)},Gt=function(){return n.default.http.get(u.a.dataNewQualityRuleSearchLimit)},Ft=function(t){return n.default.http.post(u.a.qualityCompareAcrossCheckParams,t)},Jt=function(t){return n.default.http.get(u.a.dataNewQualityRuleTemplateStructure+"?id=".concat(t))},Vt=function(t){return n.default.http.get(u.a.dataCodeTableCodeTableList)},Wt=function(t){return n.default.http.get(u.a.dataCodeTableCodeTableVersionList+"?codeTableId=".concat(t))},Yt=function(t){return n.default.http.get(u.a.dataCodeTableCodeTableFieldList+"?tableId=".concat(t))}},"9c60":function(t,e,a){"use strict";a("db83")},db83:function(t,e,a){var n=a("f159");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a("499e").default)("65825926",n,!0,{sourceMap:!1,shadowMode:!1})},f159:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-a41fa574]{color:#1740dc}.success-color[data-v-a41fa574]{color:#52c41a}.warning-color[data-v-a41fa574]{color:#faad14}.error-color[data-v-a41fa574]{color:#f5222d}.info-color[data-v-a41fa574]{color:#909399}.border-color[data-v-a41fa574]{border:1px solid #e5e6e9}.templateDetail[data-v-a41fa574],.templateDetail .content[data-v-a41fa574]{background-color:#f7f7f8}.templateDetail .content .top-detail[data-v-a41fa574]{padding:20px;background:#fff;border:1px solid #e5e6e9}.templateDetail .content .top-detail .sub-title[data-v-a41fa574]{line-height:28px;font-weight:500;color:#040c2c;font-size:18px;margin-bottom:10px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.templateDetail .content .top-detail .detail[data-v-a41fa574]{line-height:24px;font-size:12px}.templateDetail .content .bottom[data-v-a41fa574]{background:#fff;margin-top:10px;padding:0 20px;height:100%}",""])}}]);