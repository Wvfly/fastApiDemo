(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-02649b1e"],{"0902":function(e,t,a){var i=a("677b");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("6be71177",i,!0,{sourceMap:!1,shadowMode:!1})},"3a86":function(e,t,a){"use strict";a("6b07")},"677b":function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.filters{padding:10px}.targetManagement .tree_out{height:calc(100% - 105px);overflow:auto}.targetManagement .tree_out .el-tree .el-tree-node__children{overflow:visible}.targetManagement .tree_out .el-tree>div.el-tree-node{margin-bottom:10px}.targetManagement .noData{height:80px;line-height:80px;color:#909399;text-align:center}.targetManagement .desc{height:calc(100vh - 80px);padding:0 20px;overflow-y:auto}.targetManagement .desc li{line-height:30px;min-height:50px;margin-bottom:20px;font-size:12px}.targetManagement .desc li .item{padding-right:10px}.targetManagement .desc li .item .label{min-width:60px;font-weight:600}.targetManagement .desc li .item .value{word-wrap:break-word;word-break:normal}.targetManagement .el-dropdown-link{cursor:pointer}.targetManagement .zt-drag-container .drag-content{height:unset}",""])},"6b07":function(e,t,a){var i=a("87ca");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("1edfac7e",i,!0,{sourceMap:!1,shadowMode:!1})},"87ca":function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-379317b8]{color:#1740dc}.success-color[data-v-379317b8]{color:#52c41a}.warning-color[data-v-379317b8]{color:#faad14}.error-color[data-v-379317b8]{color:#f5222d}.info-color[data-v-379317b8]{color:#909399}.border-color[data-v-379317b8]{border:1px solid #e5e6e9}.normal-search[data-v-379317b8]{overflow:hidden}.high-level-search[data-v-379317b8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.targetManagement[data-v-379317b8]{height:calc(100% - 30px)}.targetManagement .zt-drag-container .drag-content[data-v-379317b8]:first-child{width:250px}.targetManagement .el_aside[data-v-379317b8]{border-right:1px solid #e9e9e9;padding:15px}.targetManagement .el_aside .catalog-header[data-v-379317b8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.targetManagement .el_aside .catalog-header i[data-v-379317b8]{cursor:pointer}.targetManagement .el_aside .tree-container[data-v-379317b8]{max-height:calc(100vh - 375px);overflow-y:auto}.targetManagement .el_aside .left_top .title[data-v-379317b8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:6px}.targetManagement .el_aside .left_top .title i[data-v-379317b8]{width:24px;height:24px;line-height:24px;text-align:center;border-radius:2px;background:#f0f1f3;cursor:pointer}.targetManagement .el_aside .left_top .tips[data-v-379317b8]{font-size:12px;color:#999}.targetManagement .el_aside .left_top .serch_out[data-v-379317b8]{padding-top:8px;margin-top:12px;border-top:1px solid #e9e9e9}.targetManagement .el_aside[data-v-379317b8] .tree-container{max-height:calc(100vh - 350px);overflow-y:auto}.targetManagement .el-main .el-form .btns[data-v-379317b8]{width:270px}.targetManagement .el-main .el-form .el-form-item[data-v-379317b8]{margin-right:8px}.targetManagement .el-main .el-form .el-input[data-v-379317b8]{width:180px}.targetManagement .el-main .el-form .el-button[data-v-btn][data-v-379317b8]{padding:7px 15px!important}.targetManagement .el-main .el-form .ctr[data-v-379317b8]{-webkit-box-flex:1;-ms-flex:1;flex:1}.targetManagement .el-main .easy_button_grounp[data-v-379317b8]{text-align:right;margin-bottom:8px}.targetManagement .el-button--text[data-v-379317b8]{padding:0!important}",""])},a687:function(e,t,a){"use strict";a("0902")},b825:function(e,t,a){"use strict";a.r(t);a("6762"),a("2fdb"),a("7f7f"),a("386d"),a("8e6e"),a("ac6a"),a("456d"),a("20d6");var i=a("ade3"),n=a("2909"),l=a("99aa"),o=a("0ecf"),s=a("50f0");a("d8ad");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var c={components:{dragZone:o.dragZone,dragHandle:o.dragHandle,dragContent:o.dragContent,filterTBHeader:s.a,Catalog:l.a},data:function(){return{checkList:["是否自研","主题域","系统描述","上线时间","版本号","负责人","联系方式","运行状态"],filterList:[{name:"是否自研"},{name:"主题域"},{name:"系统描述"},{name:"上线时间"},{name:"版本号"},{name:"负责人"},{name:"联系方式"},{name:"运行状态"}],tableHeight:window.innerHeight-390,formInline:{categoryIds:[],company:"",functionDescription:"",systemName:"",systemStatus:""},expandList:[],expandKeyList:["0"],companySystemList:[],runStatus:[],tableList:[],treeList:[],selectedKeys:[],defaultProps:{children:"children",label:"label",disabled:this.handleDisabled},page:{page:1,limit:10,pageSize:10,totalCount:0},filterText:"",isLoading:!1,treeLoading:!1,isHighLevelSearch:!1}},methods:{getCompanySystemList:function(){var e=this;this.$API.get(this.$URL.getCompanySystemList,{},(function(t){0==t.code?e.companySystemList=t.data:e.$message.error(t.msg)}))},getSystemStatusList:function(){var e=this;this.$API.get(this.$URL.getSystemStatusList,{},(function(t){0==t.code?e.runStatus=t.data:e.$message.error(t.msg)}))},getbdpDataCategoryList:function(e){var t=this;this.treeLoading=!0,this.$API.post(this.$URL.categoryConcernSearchNew,{type:"all",name:this.filterText},(function(a){if(0==a.code){var i;if(t.expandList=a.data.expandList,"cateSearch"==e&&t.expandList.length)(i=t.expandKeyList).push.apply(i,Object(n.a)(t.expandList));t.treeList=[a.data.list]}else t.$message.error(a.msg);t.treeLoading=!1}))},getCollectionSysList:function(){var e=this,t=this.page,a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({page:t.page,limit:t.limit},this.formInline);this.isLoading=!0,this.$API.post(this.$URL.getCollectionSysList,a,(function(t){e.isLoading=!1,0==t.code?(e.page.totalCount=t.page.totalCount,e.tableList=[],t.page&&t.page.list&&t.page.list.length>0&&(e.tableList=t.page.list)):e.$message.error(t.msg)}))},selectionChange:function(){},selectItem:function(){},sizeChangeHandle:function(e){this.page.page=1,this.page.limit=e,this.getCollectionSysList()},currentChangeHandle:function(e){this.page.page=e,this.getCollectionSysList()},handleCheck:function(e,t){var a=t.checkedKeys;this.formInline.categoryIds=a,this.getCollectionSysList()},handleNodeExpand:function(e){this.expandKeyList.push(e.id)},handleNodeCollapse:function(e){this.expandKeyList.splice(this.expandKeyList.findIndex((function(t){return t===e.id})),1)},search:function(){this.page.page=1,this.getCollectionSysList()},cateSearch:function(){this.getbdpDataCategoryList("cateSearch")},cateReset:function(){this.filterText="",this.formInline.categoryIds=[],this.$refs.treeList&&this.$refs.treeList.setCheckedKeys([]),this.getbdpDataCategoryList(),this.getCollectionSysList()},reset:function(){this.formInline={company:"",functionDescription:"",systemName:"",systemStatus:""},this.search()},seeDetail:function(e){this.$router.push("/systemTableDetail?id=".concat(e.id))},goBISys:function(){window.open("https://dmp.tcl.com/webroot/decision#directory","_blank")},handleDisabled:function(e){if(["0","1","2"].includes(e.id))return!0}},mounted:function(){this.getCompanySystemList(),this.getSystemStatusList(),this.getbdpDataCategoryList(),this.getCollectionSysList()}},d=(a("3a86"),a("a687"),a("2877")),p=Object(d.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"targetManagement"},[t("div",{staticClass:"main-title"},[e._v("\n    系统列表\n  ")]),t("div",{staticStyle:{margin:"15px 20px 5px 20px"}},[t("el-alert",{staticClass:"zt-alert",attrs:{type:"info","show-icon":"","close-text":"知道了"}},[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("系统列表来源于能力地图中的系统，需要新增和修改的系统在BI填报中管理，"),t("span",{staticStyle:{color:"#1740DC",cursor:"pointer"},on:{click:e.goBISys}},[e._v("点击跳转至BI")])])])],1),t("dragZone",{staticClass:"zt-drag-container"},[t("drag-content",{staticClass:"el_aside"},[t("div",{staticClass:"catalog-header"},[t("span",[e._v("资产类目")]),t("el-button",{attrs:{type:"text"},on:{click:e.cateReset}},[e._v("重置")])],1),t("el-input",{staticStyle:{margin:"10px 0"},attrs:{placeholder:"输入关键字进行过滤","suffix-icon":"el-icon-search"},on:{input:e.cateSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.cateSearch.apply(null,arguments)}},model:{value:e.filterText,callback:function(t){e.filterText="string"==typeof t?t.trim():t},expression:"filterText"}}),t("div",{staticClass:"tree-container zt-scrollbar"},[t("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"treeList",attrs:{data:e.treeList,"show-checkbox":"","check-strictly":"","highlight-current":"","check-on-click-node":"","node-key":"id","default-expanded-keys":e.expandKeyList,"default-checked-keys":[],"default-expand-all":!1,props:e.defaultProps},on:{check:e.handleCheck,"node-expand":e.handleNodeExpand,"node-collapse":e.handleNodeCollapse}})],1)],1),t("drag-handle"),t("drag-content",{staticStyle:{padding:"15px"}},[t("el-form",{attrs:{inline:!0,size:"small",model:e.formInline,"label-width":"70px"}},[t("div",{staticClass:"normal-search"},[t("div",{staticClass:"right fr",staticStyle:{"margin-right":"-10px"}},[t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{placeholder:"请输入系统名称",clearable:""},model:{value:e.formInline.systemName,callback:function(t){e.$set(e.formInline,"systemName","string"==typeof t?t.trim():t)},expression:"formInline.systemName"}})],1),t("el-form-item",{attrs:{label:""}},[t("el-input",{attrs:{placeholder:"请输入系统描述",clearable:""},model:{value:e.formInline.functionDescription,callback:function(t){e.$set(e.formInline,"functionDescription","string"==typeof t?t.trim():t)},expression:"formInline.functionDescription"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),t("el-button",{on:{click:e.reset}},[e._v("重置")]),t("el-dropdown",{attrs:{trigger:"click"}},[t("el-button",{staticStyle:{margin:"0 10px",padding:"3px 4px 6px !important",background:"rgb(240, 241, 243)"}},[t("i",{staticClass:"icon icon-eye-fill"})]),t("el-dropdown-menu",{staticClass:"filters",attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-checkbox-group",{on:{change:e.selectItem},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(e.filterList,(function(e,a){return t("el-checkbox",{key:a,staticStyle:{display:"block","line-height":"30px"},attrs:{label:e.name}})})),1)],1)],1),t("el-button",{attrs:{type:"text"},on:{click:function(t){e.isHighLevelSearch=!e.isHighLevelSearch}}},[e._v("\n                  "+e._s(e.isHighLevelSearch?"普通搜索":"高级搜索")+"\n                ")])],1)],1)]),e.isHighLevelSearch?t("div",{staticClass:"high-level-search"},[t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择产业",clearable:""},model:{value:e.formInline.company,callback:function(t){e.$set(e.formInline,"company",t)},expression:"formInline.company"}},e._l(e.companySystemList,(function(e,a){return t("el-option",{key:a+"chany",attrs:{value:e,label:e}})})),1)],1),t("el-form-item",[t("el-select",{attrs:{placeholder:"请选择运行状态",clearable:""},model:{value:e.formInline.systemStatus,callback:function(t){e.$set(e.formInline,"systemStatus",t)},expression:"formInline.systemStatus"}},e._l(e.runStatus,(function(e,a){return t("el-option",{key:a+"fdhg",attrs:{label:e,value:e}})})),1)],1)],1):e._e()]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableList,"max-height":e.tableHeight},on:{"selection-change":e.selectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{fixed:"","show-overflow-tooltip":"","header-align":"left",prop:"systemName",align:"left",label:"系统名称",width:"180"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"","header-align":"left",align:"left",prop:"company",width:"100",fixed:"",label:"所属产业"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"systemDomain","header-align":"left",align:"left",width:"100",fixed:"",label:"业务域"}}),e.checkList.includes("系统描述")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"functionDescription","header-align":"left",align:"left",width:"130",label:"系统描述"}}):e._e(),e.checkList.includes("主题域")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"secondTheme","header-align":"left",align:"left",width:"120",label:"主题域"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v("\n             "+e._s((a.firstTheme?a.firstTheme:"")+(a.secondTheme?"/"+a.secondTheme:""))+"\n          ")]}}],null,!1,3351321748)}):e._e(),e.checkList.includes("是否自研")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"isDeveloped","header-align":"left",align:"left",label:"是否自研"}}):e._e(),e.checkList.includes("上线时间")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"begindate",align:"left",width:"120",label:"上线时间"}}):e._e(),e.checkList.includes("版本号")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"version",align:"left",width:"120",label:"版本号"}}):e._e(),e.checkList.includes("负责人")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"responsible",align:"left",label:"负责人"}}):e._e(),e.checkList.includes("联系方式")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"contact",align:"left",width:"100",label:"联系方式"}}):e._e(),e.checkList.includes("运行状态")?t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"systemStatus",align:"left",width:"110",label:"运行状态"}}):e._e(),t("el-table-column",{attrs:{width:"80",align:"right","header-align":"right",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.row;return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.seeDetail(i)}}},[e._v("查看详情")])]}}])})],1),t("el-pagination",{attrs:{"current-page":e.page.page,"page-sizes":[10,20,50,100],"page-size":e.page.pageSize,total:e.page.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}})],1)],1)],1)}),[],!1,null,"379317b8",null);t.default=p.exports}}]);