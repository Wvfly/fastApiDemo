(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1174c76d"],{"0ecf":function(t,e,o){t.exports=function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=6)}([function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var o=this[e];o[2]?t.push("@media "+o[2]+"{"+o[1]+"}"):t.push(o[1])}return t.join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var s=this[a][0];"number"==typeof s&&(n[s]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&n[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),t.push(i))}},t}},function(t,e){t.exports=function(t,e,o,n,a,s){var i,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(i=t,r=t.default);var d,c="function"==typeof r?r.options:r;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),o&&(c.functional=!0),a&&(c._scopeId=a),s?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=d):n&&(d=n),d){var u=c.functional,f=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(t,e){return d.call(e),f(t,e)}):c.beforeCreate=f?[].concat(f,d):[d]}return{esModule:i,exports:r,options:c}}},function(t,e,o){function n(t){for(var e=0;e<t.length;e++){var o=t[e],n=c[o.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](o.parts[a]);for(;a<o.parts.length;a++)n.parts.push(s(o.parts[a]));n.parts.length>o.parts.length&&(n.parts.length=o.parts.length)}else{var i=[];for(a=0;a<o.parts.length;a++)i.push(s(o.parts[a]));c[o.id]={id:o.id,refs:1,parts:i}}}}function a(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function s(t){var e,o,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(p)return g;n.parentNode.removeChild(n)}if(v){var s=h++;n=f||(f=a()),e=i.bind(null,n,s,!1),o=i.bind(null,n,s,!0)}else n=a(),e=r.bind(null,n),o=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else o()}}function i(t,e,o,n){var a=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,a);else{var s=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}function r(t,e){var o=e.css,n=e.media,a=e.sourceMap;if(n&&t.setAttribute("media",n),a&&(o+="\n/*# sourceURL="+a.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d=o(19),c={},u=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,h=0,p=!1,g=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,o){p=o;var a=d(t,e);return n(a),function(e){for(var o=[],s=0;s<a.length;s++){var i=a[s];(r=c[i.id]).refs--,o.push(r)}for(e?n(a=d(t,e)):a=[],s=0;s<o.length;s++){var r;if(0===(r=o[s]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete c[r.id]}}}};var _=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(7),a=o.n(n),s=o(15),i=function(t){o(18)},r=o(1)(a.a,s.a,!1,i,"data-v-65e34201",null);e.default=r.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(8),a=o.n(n),s=o(14),i=function(t){o(17)},r=o(1)(a.a,s.a,!1,i,"data-v-59237a36",null);e.default=r.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(9),a=o.n(n),s=o(13),i=function(t){o(16)},r=o(1)(a.a,s.a,!1,i,"data-v-5048c4bf",null);e.default=r.exports},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.install=e.dragContent=e.dragHandle=e.dragZone=void 0;var a=n(o(5)),s=n(o(4)),i=n(o(3)),r=function(t){t.component(a.default.name,a.default),t.component(s.default.name,s.default),t.component(i.default.name,i.default)},l={dragZone:a.default,dragHandle:s.default,dragContent:i.default,install:r};e.default=l,e.dragZone=a.default,e.dragHandle=s.default,e.dragContent=i.default,e.install=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"drag-content",props:{fixed:{type:[Number,Boolean],default:!1}},data:function(){return{sizeAttr:null,isMinSize:!1,isMaxSize:!1}},methods:{getCss:function(t,e){var o=document.defaultView.getComputedStyle(t,null);return e?o[e]:o},getSize:function(t){return t.getBoundingClientRect()[this.horizontal?"width":"height"]},getSizeAttr:function(t){return t+(this.horizontal?"Width":"Height")},getMinSize:function(){if(this.fixed)return this.getSize(this.$el);var t=this.getCss(this.$el,this.getSizeAttr("min"));return"0px"===t?t=0:t.includes("%")?t=parseFloat(t)/100*this.getSize(this.$parent.$el):t.includes("px")&&(t=parseFloat(t)),t<0&&(t=0),t},getMaxSize:function(){if(this.fixed)return this.getSize(this.$el);var t=this.getCss(this.$el,this.getSizeAttr("max"));return t.includes("%")?t=parseFloat(t)/100*this.getSize(this.$parent.$el):t.includes("px")&&(t=parseFloat(t)),t}},computed:{size:{get:function(){return this.sizeAttr},set:function(t){this.sizeAttr=t}},parentOptions:function(){return this.$parent&&this.$parent.options&&this.$parent.options},horizontal:function(){return"horizontal"===this.parentOptions.direction},isThreshold:function(){return this.isMinSize||this.isMaxSize},style:function(){var t={};return!this.fixed&&null!==this.size&&this.parentOptions&&(this.horizontal?t.width=this.size+"px":t.height=this.size+"px"),t}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"drag-handle",props:{disabled:{type:Boolean,default:!1}},data:function(){return{canDrag:!1,todoContentsMaxSize:0,mouseHandleOffsetPrev:0,mouseHandleOffsetNext:0,nextHandleOffsetPosition:0}},computed:{direction:function(){return this.$parent.options.direction},horizontal:function(){return"horizontal"===this.direction},vertical:function(){return"vertical"===this.direction}},methods:{getAllHandles:function(){return this.$parent.$children.filter((function(t){return t.$vnode&&t.$vnode.componentOptions&&"drag-handle"===t.$vnode.componentOptions.tag}))},getHandles:function(){var t=this,e=this.getAllHandles(),o=[],n=[],a=!1;return e.forEach((function(e){var s=e===t;a=a||s,s||(a?n:o).push(e)})),{all:e,prev:o,next:n}},getHandle:function(){var t=this,e=this.getAllHandles(),o=null,n=null;return e.forEach((function(a,s){a===t&&(o=e[s-1],n=e[s+1])})),{prev:o,next:n}},getAllContents:function(){return this.$parent.$children.filter((function(t){return t.$vnode&&t.$vnode.componentOptions&&"drag-content"===t.$vnode.componentOptions.tag}))},getTodoContents:function(){var t=this,e=this.$parent.$children,o=[],n=[],a=[],s=!1,i=!1;return e.forEach((function(e){var r=e===t;s=s||r,e.$vnode&&e.$vnode.componentOptions&&("drag-content"===e.$vnode.componentOptions.tag?(o.push(e),s?i||n.push(e):a.push(e)):r||(s?i=!0:a=[]))})),{all:o,prev:a,next:n}},getSize:function(t){return t.getBoundingClientRect()[this.horizontal?"width":"height"]},getOffsetPosition:function(t){return this[this.horizontal?"offsetLeft":"offsetTop"](t)},getSizePlus:function(t){var e=this;return t.reduce((function(t,o){return t+e.getSize(o.$el)}),0)},getLiveContentsSize:function(){var t=this.getTodoContents(),e=(t.all,t.prev),o=t.next,n=this.getSizePlus(e),a=this.getSizePlus(o);return{all:n+a,prev:n,next:a}},offsetTop:function(t){var e=t.offsetTop;return null!=t.offsetParent&&(e+=this.offsetTop(t.offsetParent)),e},offsetLeft:function(t){var e=t.offsetLeft;return null!=t.offsetParent&&(e+=this.offsetLeft(t.offsetParent)),e},mousePosition:function(t){return t[this.horizontal?"pageX":"pageY"]},handleSize:function(){return this.getSize(this.$el)},handleOffsetPosition:function(){return this.getOffsetPosition(this.$el)},handleMouseUp:function(){this.canDrag=!1,this.mouseHandleOffsetPrev=0,this.mouseHandleOffsetNext=0,this.nextHandleOffsetPosition=0,this.removeMouseEvents()},handleMouseDown:function(t){this.canDrag=!0;var e=this.handleSize(),o=this.mousePosition(t),n=this.handleOffsetPosition();this.todoContentsMaxSize=this.getLiveContentsSize().all,this.mouseHandleOffsetPrev=o-n,this.mouseHandleOffsetNext=e-this.mouseHandleOffsetPrev;var a=this.getHandle().next;this.nextHandleOffsetPosition=a?this.getOffsetPosition(a.$el):this.getOffsetPosition(this.$parent.$el)+this.getSize(this.$parent.$el),this.bindMouseEvents()},handleMouseMove:function(t){var e=this;if(this.disabled||!this.canDrag)return!1;var o=this.mousePosition(t),n=(this.handleOffsetPosition(),this.getOffsetPosition(this.$parent.$el)),a=this.getHandle(),s=a.prev,i=(a.next,this.getTodoContents()),r=(i.all,i.prev),l=i.next,d=o-this.mouseHandleOffsetPrev-(s?this.getOffsetPosition(s.$el)+this.getSize(s.$el):n),c=this.nextHandleOffsetPosition-o-this.mouseHandleOffsetNext;d<0&&(d=0),c<0&&(c=0),d>this.todoContentsMaxSize&&(d=this.todoContentsMaxSize),c>this.todoContentsMaxSize&&(c=this.todoContentsMaxSize);var u=r.reduce((function(t,e){return t+e.getMinSize()}),0),f=l.reduce((function(t,e){return t+e.getMinSize()}),0),h=r.reduce((function(t,e){return t+e.getMaxSize()}),0),p=l.reduce((function(t,e){return t+e.getMaxSize()}),0);if("string"==typeof h&&(h=this.todoContentsMaxSize-f),"string"==typeof p&&(p=this.todoContentsMaxSize-u),d>h||d<u||c>p||c<f)return!1;var g=function(t,o){var n=o/t.length,a=[],s=[],i=0;t.forEach((function(t){var o=e.getSize(t.$el);if(t.fixed)i+=o,s.push(t);else{var r=t.getMinSize(),l=t.getMaxSize(),d=o<=r,c=o>=l;t.isMinSize=d,t.isMaxSize=c,d&&n<r||c&&n>l?(t.size=d?r:l,i+=d?r:l,s.push(t)):a.push(t)}})),a.forEach((function(t){t.size=(o-i)/a.length}))};g(r,d),g(l,c)},bindMouseEvents:function(){document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("mousemove",this.handleMouseMove)},removeMouseEvents:function(){document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("mousemove",this.handleMouseMove)}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"drag-zone",props:{options:{type:Object,default:function(){return{direction:"horizontal"}}}},computed:{horizontal:function(){return"horizontal"===this.options.direction}}}},function(t,e,o){(t.exports=o(0)()).push([t.i,".drag-zone[data-v-5048c4bf]{position:relative}",""])},function(t,e,o){(t.exports=o(0)()).push([t.i,".drag-handle.horizontal[data-v-59237a36]{cursor:col-resize}.drag-handle.vertical[data-v-59237a36]{cursor:row-resize}.drag-handle.disabled[data-v-59237a36]{opacity:.5;cursor:no-drop}",""])},function(t,e,o){(t.exports=o(0)()).push([t.i,"",""])},function(t,e,o){"use strict";var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"drag-zone"},[t._t("default")],2)},staticRenderFns:[]};e.a=n},function(t,e,o){"use strict";var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"drag-handle",class:{disabled:t.disabled,horizontal:"horizontal"===t.direction,vertical:"vertical"===t.direction},on:{mousedown:t.handleMouseDown}},[t._t("default")],2)},staticRenderFns:[]};e.a=n},function(t,e,o){"use strict";var n={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"drag-content",class:{threshold:t.isThreshold},style:t.style},[t._t("default")],2)},staticRenderFns:[]};e.a=n},function(t,e,o){var n=o(10);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),o(2)("317119e1",n,!0)},function(t,e,o){var n=o(11);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),o(2)("55546ba7",n,!0)},function(t,e,o){var n=o(12);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),o(2)("28d2c7b4",n,!0)},function(t,e){t.exports=function(t,e){for(var o=[],n={},a=0;a<e.length;a++){var s=e[a],i=s[0],r={id:t+":"+a,css:s[1],media:s[2],sourceMap:s[3]};n[i]?n[i].parts.push(r):o.push(n[i]={id:i,parts:[r]})}return o}}])},5312:function(t,e,o){var n=o("faa4");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,o("499e").default)("4449282e",n,!0,{sourceMap:!1,shadowMode:!1})},"958d":function(t,e,o){"use strict";o.r(e);o("7f7f"),o("ac4d"),o("8a81"),o("5df3"),o("1c4c"),o("6b54"),o("7514");var n=o("53ca"),a=o("0ecf");function s(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,r=!0,l=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return r=t.done,t},e:function(t){l=!0,s=t},f:function(){try{r||null==o.return||o.return()}finally{if(l)throw s}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var r={components:{board:o("5797").a,dragZone:a.dragZone,dragHandle:a.dragHandle,dragContent:a.dragContent},computed:{wsUrl:function(){return this.$store.state.permission.wsUrl}},data:function(){return{workFlowData:{nodes:[],edges:[]},topShowData:{},isLoading:!1,isReturnButtonShow:!1,dialogVisible:!1,nodeLog:"",logHtml:"",isJson:!0,nodeName:"",stateName:"",nodeStatu:["失败","成功","执行中","当前版本未执行"],jobLogType:0,timer:null,infoDom:"",scrollTop:0,clientHeight:0,scrollHeight:0,isBottom:!1,clickNodeId:"",fullLog:"",fromlist:{autoLog:"/autoLog",ManualLog:"/ManualLog"}}},methods:{clickNode:function(t){this.getJobRunHistoryInfo(t.id),1==this.jobLogType&&(this.clickNodeId=t.id)},getJobRunHistoryInfo:function(t){var e=this;this.isLoading=!0;var o={runId:1==this.workFlowData?this.$router.logId:this.topShowData.id,jobNodeInfoId:t,oozieId:1==this.workFlowData?this.$router.oozieJobId:this.topShowData.oozieJobId};1==this.jobLogType&&(o.jobInfoId=t,delete o.jobNodeInfoId);var a=0==this.jobLogType?"getJobRunHistoryGetNodeRunInfo":"getDepNodeRunInfo";this.$API.get(this.$URL[a],o,(function(t){if(e.isLoading=!1,0==t.code){if(0==e.jobLogType)e.workFlowData=t.data.jobNodeRunHistories[0]||{};else if(e.workFlowData=t.data.jobHistoryList[0]||{},e.topShowData=t.data.jobHistoryList[0]||{},JSON.parse(e.workFlowData.nodeParams)){var o=JSON.parse(e.workFlowData.nodeParams),a=e.workFlowData.nodeStates;e.getScale(o,a),e.workFlowData.nodeParams=o,e.isReturnButtonShow=!0}e.jobLogType=0,e.fullLog=e.workFlowData.fullLog;try{"object"==Object(n.a)(JSON.parse(e.workFlowData.log))&&(e.isJson=!0,e.logHtml=JSON.parse(e.workFlowData.log))}catch(t){e.isJson=!1,e.logHtml=e.workFlowData.log}}else e.$message.error(t.msg)}))},listById:function(){var t=this;this.isLoading=!0,this.$API.get(this.$URL.listById+"/"+this.$route.query.logId+"/"+this.$route.query.jobLogType,{},(function(e){if(t.isLoading=!1,0==e.code){if(t.isReturnButtonShow=!1,e.data&&e.data.length>0){var o=JSON.parse(e.data[0].nodeParams),n=e.data[0].nodeStates;t.jobLogType=e.data[0].jobLogType,t.getScale(o,n),t.topShowData=t.workFlowData=e.data[0],t.workFlowData.nodeParams=o}}else t.$message(reslut.msg)}))},getScale:function(t,e){var o=this.$refs.board.$el.getBoundingClientRect(),n=Math.max.apply(Math,t.nodes.map((function(t){return t.posX})));if(n+180<=o.width)this.$refs.board.svgScale=1;else{var a=o.width/(n+140);this.$refs.board.svgScale=a}t.nodes=t.nodes.map((function(t){return t.pos_x=t.posX,t.pos_y=t.posY,t.out_ports=[0],t.in_ports=[0],t.type=t.iconClassName=1==t.typeId?"ds":2==t.typeId?"sql":4==t.typeId?"table":8==t.typeId?"checkTask":"jobFlow",t})),t.edges=t.edges.map((function(t){return t.dst_node_id=t.dstNodeId,t.src_node_id=t.srcNodeId,t.type="default",t})),this.changeNodeStates(t,e)},socket:function(t){"WebSocket"in window?(0==this.$route.query.jobLogType?this.ws=new WebSocket(this.wsUrl+"dataDevelopment/workflow/status/"+t+"/"+this.$route.query.oozieJobId+"?token="+this.$store.state.old.admin_info.token):this.ws=new WebSocket(this.wsUrl+"dataDevelopment/workflowLay/status/"+t+"/"+this.$route.query.oozieJobId+"?token="+this.$store.state.old.admin_info.token),this.ws.onopen=function(){},this.ws.onerror=function(){},this.ws.onclose=function(){},this.ws.onmessage=this.wsMessage):this.$message.error("您的浏览器不支持 WebSocket，请更换浏览器，否则此页面无法正常运行")},changeNodeStates:function(t,e){for(var o in e){if(null!=t&&t.edges){var n,a=s(t.edges);try{for(a.s();!(n=a.n()).done;){var i=n.value;o==i.srcNodeId&&(i.type=0==e[o].status?"error":1==e[o].status?"success":2==e[o].status?"active":5==e[o].status?"stop":"default")}}catch(t){a.e(t)}finally{a.f()}}if(null!=t&&t.nodes){var r,l=s(t.nodes);try{for(l.s();!(r=l.n()).done;){var d=r.value;o==d.id&&(d.state=0==e[o].status?"error":1==e[o].status?"success":2==e[o].status?"active":5==e[o].status?"stop":"default",d.isOutHours=e[o].isOutHours)}}catch(t){l.e(t)}finally{l.f()}}}},wsMessage:function(t){var e=this;if("连接成功！"!=t.data){var o;if(this.isReturnButtonShow)o=JSON.parse(t.data).nodeList.find((function(t){return t.id==e.clickNodeId})).nodeList;else o=JSON.parse(t.data).nodeList;var n,a={},i=s(o);try{for(i.s();!(n=i.n()).done;){var r=n.value;a[r.id]={status:null==r?void 0:r.status,isOutHours:r.isOutHours}}}catch(t){i.e(t)}finally{i.f()}this.changeNodeStates(this.workFlowData.nodeParams,a)}},returnJobFlow:function(){1==this.$route.query.jobLogType&&1!==this.workFlowData.jobLogType?this.listById():this.$router.push("/taskLog".concat(this.fromlist[this.$route.query.fromList]))},viewLog:function(){this.workFlowData.jobLogType=0}},mounted:function(){this.listById(),this.socket(this.$route.query.menuId)},destroyed:function(){this.ws.close()},watch:{$route:function(t){this.listById(),this.ws.close(),this.socket(this.$route.query.menuId)}}},l=(o("e1e5d"),o("2877")),d=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"task_log_log_info"},[e("div",{staticClass:"go-back"},[e("span",{staticClass:"back-btn",on:{click:t.returnJobFlow}},[e("i",{staticClass:"el-icon-back"}),t._v("返回")])]),e("div",{staticClass:"top-detail"},[e("p",{staticClass:"name"},[1===t.topShowData.jobLogType?e("span",{staticClass:"sub-title"},[t._v(t._s(t.topShowData.depName)+"的日志")]):e("span",{staticClass:"sub-title"},[t._v(t._s(t.topShowData.name||t.topShowData.jobName)+"的日志")]),0===t.topShowData.jobLogType&&t.topShowData.reRunType>0?e("span",{staticClass:"status"},[t._v(t._s(t.topShowData.reRunType>0?"重跑":""))]):t._e()]),e("p",{staticClass:"status-detail"},[e("span",[t._v("运行状态："+t._s(t.topShowData.stateName||"--")+" "),t.topShowData.isOutHours?e("span",{staticClass:"error-status"},[t._v("超时")]):t._e()]),e("span",[t._v("创建人："+t._s(t.topShowData.createPerName||"--"))]),e("span",[t._v("运行时间："+t._s(t.topShowData.beginTime))]),e("span",[t._v("结束时间："+t._s(t.topShowData.endTime))]),e("span",[t._v("运行耗时(S)："+t._s(t.topShowData.costSecond))]),1!==t.topShowData.jobLogType?e("span",[t._v("数据起止时间："+t._s(t.topShowData.cronStartTime||"--")+" - "+t._s(t.topShowData.cronEndTime||"--"))]):t._e(),2==t.workFlowData.jobLogType?e("el-button",{attrs:{type:"text"},on:{click:t.viewLog}},[t._v("查看日志信息")]):t._e()],1)]),e("drag-zone",{staticClass:"zt-drag-container log-content"},[e("drag-content",{staticClass:"left"},[e("board",{ref:"board",attrs:{showType:!0,disabled:!0,workFlowData:t.workFlowData.nodeParams},on:{clickNode:t.clickNode}})],1),e("drag-handle"),e("drag-content",{staticClass:"right zt-scrollbar",staticStyle:{padding:"20px"}},[e("div",{staticClass:"ft"},[e("div",{staticClass:"clearfix"},[e("p",{staticClass:"log-title"},[t._v(t._s(0===t.workFlowData.jobLogType?"作业流日志信息":1===t.workFlowData.jobLogType?"作业流依赖日志信息":"任务节点日志信息"))]),2==t.workFlowData.jobLogType?e("ul",{staticClass:"info_ul clearfix"},[e("li",[t._v("任务名称："+t._s(t.workFlowData.depName||t.workFlowData.name))]),e("li",[t._v("执行时间："+t._s(t.workFlowData.time))]),e("li",[t._v("运行状态："+t._s(0==t.workFlowData.state?"失败":1==t.workFlowData.state?"成功":2==t.workFlowData.state?"执行中":5==t.workFlowData.state?"停止":"未执行")+"\n              "),t.workFlowData.isOutHours?e("span",{staticClass:"error-status"},[t._v("超时")]):t._e()]),e("li",[t._v("运行耗时(s)："+t._s(t.workFlowData.costSecond))])]):t._e()])]),e("div",[0==t.workFlowData.jobLogType?e("div",{staticClass:"show-log",domProps:{innerHTML:t._s(t.topShowData.log||"暂无作业流日志信息")}}):1==t.workFlowData.jobLogType?e("div",{staticClass:"show-log",domProps:{innerHTML:t._s(t.workFlowData.log||"暂无作业流依赖日志信息")}}):e("div",[t.fullLog?e("div",{staticClass:"show-log",domProps:{innerHTML:t._s(t.fullLog)}}):t._e(),t.isJson&&!t.fullLog?e("div",{staticClass:"show-log"},t._l(t.logHtml,(function(o,n,a){return e("div",{key:a},["consoleUrl"!==n?e("div",[t._v("\n                "+t._s(n)+":"),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(o))])]):t._e()])})),0):e("div",{staticClass:"show-log",domProps:{innerHTML:t._s(t.logHtml)}})])])])],1)],1)}),[],!1,null,"6adc398c",null);e.default=d.exports},e1e5d:function(t,e,o){"use strict";o("5312")},faa4:function(t,e,o){(t.exports=o("2350")(!1)).push([t.i,".primary-color[data-v-6adc398c]{color:#1740dc}.success-color[data-v-6adc398c]{color:#52c41a}.warning-color[data-v-6adc398c]{color:#faad14}.error-color[data-v-6adc398c]{color:#f5222d}.info-color[data-v-6adc398c]{color:#909399}.border-color[data-v-6adc398c]{border:1px solid #e5e6e9}.el-dialog[data-v-6adc398c]{width:80%!important}.task_log_log_info[data-v-6adc398c]{height:100%}.task_log_log_info .go-back[data-v-6adc398c]{padding:0 20px;font-size:14px;color:#040c2c;line-height:48px;height:48px;background:#fff;border-bottom:1px solid #e5e6e9}.task_log_log_info .go-back .back-btn[data-v-6adc398c]{cursor:pointer}.task_log_log_info .top-detail[data-v-6adc398c]{height:82px;padding:15px 0;text-align:center}.task_log_log_info .top-detail .name[data-v-6adc398c]{line-height:18px;margin-bottom:10px}.task_log_log_info .top-detail .name .sub-title[data-v-6adc398c]{font-size:18px;color:#040c2c}.task_log_log_info .top-detail .name .status[data-v-6adc398c]{padding:2px 6px;line-height:18px;margin-left:5px;color:#1890ff;font-size:12px;border:1px solid #1890ff;border-radius:2px}.task_log_log_info .top-detail .status-detail[data-v-6adc398c]{font-size:12px;color:rgba(4,12,44,.65)}.task_log_log_info .top-detail .status-detail>span[data-v-6adc398c]{margin-right:20px}.task_log_log_info .top-detail .status-detail>span .error-status[data-v-6adc398c]{padding:2px 6px;margin-left:5px;color:#faae14;font-size:12px;border:1px solid #faae14;border-radius:2px}.task_log_log_info .log-content .drag-handle[data-v-6adc398c]{width:10px}.task_log_log_info .log-content .left[data-v-6adc398c]{border:1px solid #e5e6e9;border-right:none}.task_log_log_info .log-content .right[data-v-6adc398c]{border:1px solid #e5e6e9}.task_log_log_info .log-content .right .clearfix[data-v-6adc398c]{width:100%}.task_log_log_info .log-content .right .log-title[data-v-6adc398c]{width:100%;text-align:center;font-size:14px;color:rgba(4,12,44,.85);padding:0 0 15px}.task_log_log_info .show-log[data-v-6adc398c]{word-break:keep-all}.task_log_log_info .drag-zone[data-v-6adc398c]{margin-top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;height:calc(100% - 130px)}.task_log_log_info .drag-zone .drag-content[data-v-6adc398c]{border-radius:3px}.task_log_log_info .drag-zone .drag-content.left[data-v-6adc398c]{min-width:200px;max-width:1200px}.task_log_log_info .drag-zone .drag-content.left .fd[data-v-6adc398c]{width:100%}.task_log_log_info .drag-zone .drag-content.right[data-v-6adc398c]{-webkit-box-flex:1;-ms-flex:1;flex:1}.task_log_log_info .drag-zone .drag-content.right .hd[data-v-6adc398c]{width:100%}.task_log_log_info .left[data-v-6adc398c]{width:35%;border:1px solid #e5e6e9;position:relative}.task_log_log_info .left .return[data-v-6adc398c]{position:absolute;top:0;left:0}.task_log_log_info .right[data-v-6adc398c]{float:right;width:65%;height:100%;overflow:auto;border:1px solid #e5e6e9}.task_log_log_info .right .ft[data-v-6adc398c]{text-align:left;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0;margin-bottom:10px;font-size:14px}.task_log_log_info .right .ft .info_ul[data-v-6adc398c]{margin-bottom:22px}.task_log_log_info .right .ft .info_ul .error-status[data-v-6adc398c]{padding:2px 6px;margin-left:5px;color:#faae14;font-size:12px;border:1px solid #faae14;border-radius:2px}",""])}}]);