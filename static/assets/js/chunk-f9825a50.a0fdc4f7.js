(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f9825a50","chunk-74af32dc"],{"04cb":function(e,t,r){"use strict";r("324a")},"0a49":function(e,t,r){var a=r("9b43"),n=r("626a"),i=r("4bf8"),s=r("9def"),o=r("cd1c");e.exports=function(e,t){var r=1==e,l=2==e,c=3==e,d=4==e,f=6==e,u=5==e||f,h=t||o;return function(t,o,p){for(var b,g,v=i(t),m=n(v),x=a(o,p,3),y=s(m.length),k=0,I=r?h(t,y):l?h(t,0):void 0;y>k;k++)if((u||k in m)&&(g=x(b=m[k],k,v),e))if(r)I[k]=g;else if(g)switch(e){case 3:return!0;case 5:return b;case 6:return k;case 2:I.push(b)}else if(d)return!1;return f?-1:c||d?d:I}}},"20d6":function(e,t,r){"use strict";var a=r("5ca1"),n=r("0a49")(6),i="findIndex",s=!0;i in[]&&Array(1)[i]((function(){s=!1})),a(a.P+a.F*s,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(i)},"324a":function(e,t,r){var a=r("81a1");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,r("499e").default)("2518d7e1",a,!0,{sourceMap:!1,shadowMode:!1})},"700e2":function(e,t,r){var a=r("e81d1");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,r("499e").default)("356c6bad",a,!0,{sourceMap:!1,shadowMode:!1})},7514:function(e,t,r){"use strict";var a=r("5ca1"),n=r("0a49")(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),a(a.P+a.F*i,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("find")},"81a1":function(e,t,r){(e.exports=r("2350")(!1)).push([e.i,'.primary-color[data-v-6b9c5b80]{color:#1740dc}.success-color[data-v-6b9c5b80]{color:#52c41a}.warning-color[data-v-6b9c5b80]{color:#faad14}.error-color[data-v-6b9c5b80]{color:#f5222d}.info-color[data-v-6b9c5b80]{color:#909399}.border-color[data-v-6b9c5b80]{border:1px solid #e5e6e9}.el-table[data-v-6b9c5b80] .disabledHeader>.cell .el-checkbox__inner{display:none!important;position:relative}.el-table[data-v-6b9c5b80] .disabledHeader>.cell:before{display:block;content:"\\5DF2\\9009";position:absolute;text-align:left;width:100%}[data-v-6b9c5b80] .el-select__tags-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:300px;display:inline-block;vertical-align:middle}.transferOperate[data-v-6b9c5b80]{background-color:#f0f2f5;height:100%}.transferOperate .title[data-v-6b9c5b80]{font-weight:500;font-size:16px;color:#040c2c}.transferOperate[data-v-6b9c5b80] .form-input{width:360px}.transferOperate .form-box .left-form[data-v-6b9c5b80]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:end}.transferOperate .form-box .left-form .el-form-item[data-v-6b9c5b80]:last-child{margin-right:0}.transferOperate .form-box .choose[data-v-6b9c5b80]{height:230px;width:100%;border:1px solid #ebeef5}.transferOperate .form-box .choose .c-title[data-v-6b9c5b80]{height:30px;line-height:30px;border-bottom:1px solid #ebeef5;padding:0 20px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.transferOperate .form-box .choose .c-content[data-v-6b9c5b80]{padding:10px;height:200px;max-height:250px;overflow-y:auto}.transferOperate .form-title[data-v-6b9c5b80]{padding:10px 0}.transferOperate .form-title[data-v-6b9c5b80] .el-checkbox .el-checkbox__inner{width:18px;height:18px}.transferOperate .form-title[data-v-6b9c5b80] .el-checkbox .el-checkbox__label{font-size:16px;font-weight:700;color:#040c2c}.transferOperate .form-title[data-v-6b9c5b80] .el-checkbox .el-checkbox__input.is-checked .el-checkbox__inner:after{-webkit-transform:rotate(45deg) scaleY(1.2) translate(3px);transform:rotate(45deg) scaleY(1.2) translate(3px)}.transferOperate .isCollapse.bottom[data-v-6b9c5b80]{width:calc(100% - 64px)}.transferOperate .bottom[data-v-6b9c5b80]{position:fixed;bottom:0;right:0;width:100%;background-color:#fff;text-align:right;height:48px;padding-right:20px;line-height:48px;width:calc(100% - 207px)}',""])},"873d":function(e,t,r){"use strict";r("700e2")},b8fa:function(e,t,r){"use strict";r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"h",(function(){return u})),r.d(t,"e",(function(){return h}));var a=r("2b0e"),n=r("f33f"),i=r("847b"),s=function(e){return a.default.http.post(n.a.getTransferList,e)},o=function(e){return a.default.http.get(n.a.getProjectList+"?type=".concat(e))},l=function(e){return a.default.http.get(i.a.getOfflineList+"/"+e)},c=function(e){return a.default.http.get(i.a.realTimeTaskList+"?procId="+e)},d=function(){return a.default.http.get(n.a.getServerList)},f=function(){return a.default.http.get(n.a.getTransferPerson)},u=function(e){return a.default.http.post(n.a.saveTransferData,e)},h=function(e){return a.default.http.get(n.a.transferDetail+"/"+e)}},cd1c:function(e,t,r){var a=r("e853");e.exports=function(e,t){return new(a(e))(t)}},d032:function(e,t,r){"use strict";var a=r("53ca");t.a=function e(t){var r=Array.isArray(t)?[]:{};for(var n in t)t.hasOwnProperty(n)&&("object"===Object(a.a)(t[n])&&null!==t[n]?r[n]=e(t[n]):r[n]=t[n]);return r}},e066:function(e,t,r){"use strict";r.r(t);r("8e6e"),r("456d"),r("ac4d"),r("8a81"),r("5df3"),r("1c4c"),r("6b54"),r("7f7f"),r("96cf");var a=r("1da1"),n=r("ade3"),i=(r("ac6a"),r("20d6"),r("7514"),r("b8fa")),s=r("d032");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var f,u,h,p,b,g,v,m,x={name:"transferOperate",data:function(){return{btnLoading:!1,formInline:{tableName:"",createUser:"",tableType:""},tableTypeList:[{label:"全部",value:""},{label:"离线表",value:1},{label:"实时表",value:2}],tableList:[],checkAll:!1,create_options:[],multipleSelection:[],pageIndex:1,pageSize:10,totalCount:0,tableData:[],transferProjectDTOs:[],personList:[],projectListLoadEnd:!1,serverList:[],projectList:[],projectListCode:[],serverProps:{},codeAllData:[],rules:{assigneePerId:[{required:!0,message:"请选择受让人",trigger:"change"}],transferReason:[{required:!0,message:"请填写转让理由",trigger:"change"},{min:2,max:100,message:"长度在 2 到 100 个字符",trigger:"blur"}]},form:{},checked:!1,pageLoading:!1,codeLabelPath:"",serverLabelPath:"",selectGroup:{transferProjectId:!1,transferProjectDTO:!1,serviceIds:!1,tables:!1},projectIdData:{}}},methods:{cellClass:function(e){return 0!==e.columnIndex||this.selectGroup.tables&&!this.checkAll?"":"disabledHeader"},getTransferCreateList:function(){var e=this;this.$API.post(this.$URL.getTransferCreateList,{},(function(t){0==t.code?e.create_options=t.data:e.$message.error("获取数据失败！")}))},selectable:function(e,t){return!this.checkAll&&this.selectGroup.tables},reset:function(){this.formInline={tableName:"",createUser:"",tableType:""},this.do_search()},do_search:function(){this.pageIndex=1,this.getTableData()},handleSelectionChange:function(e){var t=this;this.multipleSelection=e;var r,a=c(this.multipleSelection);try{var n=function(){var e=r.value;if(t.tableList.find((function(t){return t.id===e.id})))return"continue";t.tableList.push(e)};for(a.s();!(r=a.n()).done;)n()}catch(e){a.e(e)}finally{a.f()}},handleSelectAll:function(e){var t=this;if(0===e.length){var r,a=c(this.tableData);try{var n=function(){var e=r.value;t.tableList.find((function(t){return t.id===e.id}))&&t.tableList.splice(t.tableList.findIndex((function(t){return t.id===e.id})),1)};for(a.s();!(r=a.n()).done;)n()}catch(e){a.e(e)}finally{a.f()}}},handleSelect:function(e,t){e.find((function(e){return e.id===t.id}))||this.tableList.splice(this.tableList.findIndex((function(e){return e.id===t.id})),1)},chooseAll:function(){var e=this;this.checkAll=!this.checkAll,this.clearAll(),this.tableData.forEach((function(t,r){e.$refs.table.toggleRowSelection(t,e.checkAll)}))},clearAll:function(){this.$refs.table.clearSelection(),this.handleSelectionChange([]),this.tableList=[]},mapChoiceDataStatusToTable:function(){var e,t=this,r=c(this.tableList);try{var a=function(){var r=e.value,a=t.tableData.findIndex((function(e){return e.id===r.id}));t.$refs.table.toggleRowSelection(t.tableData[a],-1!==a)};for(r.s();!(e=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}},handleTagClose:function(e){this.tableList.splice(this.tableList.findIndex((function(t){return t.id===e.id})),1);var t=this.tableData.findIndex((function(t){return t.id===e.id}));-1!==t&&this.$refs.table.toggleRowSelection(this.tableData[t],!1)},sizeChangeHandle:function(e){this.pageIndex=1,this.pageSize=e,this.getTableData()},currentChangeHandle:function(e){this.pageIndex=e,this.getTableData()},getTableData:function(){var e=this,t=l(l({},this.formInline),{},{page:this.pageIndex,limit:this.pageSize});this.$API.post(this.$URL.getTransferTable,t,(function(t){0==t.code?(e.tableData=t.data.list,e.totalCount=t.data.totalCount,e.checkAll&&e.$nextTick((function(){e.tableData.forEach((function(t,r){e.$refs.table.toggleRowSelection(t,e.checkAll)}))})),e.$nextTick((function(){e.mapChoiceDataStatusToTable()}))):(e.$message.error("获取数据失败！"),e.tableData=[],e.totalCount=0)}))},getEffectiveCode:function(){var e=this.$refs.codeCascader.getCheckedNodes(),t=[],r=function(e,r){r.data.hasOwnProperty("menuType")&&t[e].realTaskIds.push(r.data.id),r.data.hasOwnProperty("workType")&&t[e].offLineTaskIds.push(r.data.id)};return e.forEach((function(e){if(e.data.procId){var a=t.findIndex((function(t){return t.projectId===e.data.procId}));-1!==a?r(a,e):(t.push({projectId:e.data.procId,offLineTaskIds:[],realTaskIds:[]}),r(t.length-1,e))}})),t.forEach((function(e){e.offLineTaskIds=e.offLineTaskIds.join(),e.realTaskIds=e.realTaskIds.join()})),t},getEffectiveServer:function(){var e=this.$refs.serverCascader.getCheckedNodes(),t=[],r=function(e,r){r.parent&&t[e].serverIds.push(r.value)};return e.forEach((function(e){var a;a=e.parent?e.parent.value:e.value;var n=t.findIndex((function(e){return e.groupId===a}));-1!==n?r(n,e):(t.push({groupId:e.data.groupId,serverIds:[]}),r(t.length-1,e))})),t},save:(m=Object(a.a)(regeneratorRuntime.mark((function e(){var t,r,a,n,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.selectGroup.transferProjectDTO||this.selectGroup.serviceIds||this.selectGroup.transferProjectId||this.selectGroup.tables){e.next=5;break}this.$message.warning("请至少选择一项进行转让！"),e.next=50;break;case 5:return e.next=7,this.$refs.form.validate();case 7:if(t=e.sent,delete(r=Object(s.a)(this.form)).transferProjectId,delete r.transferProjectIdCode,delete r.serverList,a=[],!t){e.next=50;break}if(this.btnLoading=!0,!this.selectGroup.transferProjectId){e.next=21;break}if(a.push(1),r.transferProjectId=this.form.transferProjectId,r.transferProjectId&&r.transferProjectId.length){e.next=21;break}return this.$message.warning("请选择转让的项目！"),e.abrupt("return");case 21:if(!this.selectGroup.transferProjectDTO){e.next=27;break}if(a.push(2),r.transferProjectDTO=this.getEffectiveCode(),r.transferProjectDTO&&r.transferProjectDTO.length){e.next=27;break}return this.$message.warning("请选择转让的代码！"),e.abrupt("return");case 27:if(!this.selectGroup.serviceIds){e.next=33;break}if(a.push(3),r.serverDTOs=this.getEffectiveServer(),r.serverDTOs&&r.serverDTOs.length){e.next=33;break}return this.$message.warning("请选择服务！"),e.abrupt("return");case 33:if(!this.selectGroup.tables){e.next=40;break}if(a.push(4),this.checkAll?(this.tableList=[],r.all=this.checkAll):this.tableList.forEach((function(e){e.tableId=e.id})),r.tables=this.tableList,r.tables&&r.tables.length||this.checkAll){e.next=40;break}return this.$message.warning("请选择表！"),e.abrupt("return");case 40:return r.transferType=a,this.pageLoading=!0,e.next=44,Object(i.h)(r);case 44:n=e.sent,o=n.data,l=o.code,c=o.msg,this.pageLoading=!1,l?this.$message.error(c):(this.$message.success("转让成功！"),this.close());case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(0),this.pageLoading=!1;case 55:return e.prev=55,this.btnLoading=!1,e.finish(55);case 58:case"end":return e.stop()}}),e,this,[[0,52,55,58]])}))),function(){return m.apply(this,arguments)}),getTransferPerson:(v=Object(a.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)();case 2:t=e.sent,r=t.data.data,this.personList=r;case 5:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)}),getLabelPath:function(e){var t=[];return e.forEach((function(e){if(!e.children||!e.children.length){var r=[];!function e(t){r.push(t.label),t.parent&&e(t.parent)}(e),t.push(r.reverse().join("/"))}})),t.join("、")||""},changeServer:function(){var e=this.$refs.serverCascader.getCheckedNodes();this.serverLabelPath=this.getLabelPath(e)},getServerList:(g=Object(a.a)(regeneratorRuntime.mark((function e(){var t,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.d)();case 2:t=e.sent,r=t.data.data,(a=void 0===r?[]:r).forEach((function(e){e.label=e.groupName,e.value=e.groupId,e.dataServiceServerDTOList&&e.dataServiceServerDTOList.length&&(e.children=e.dataServiceServerDTOList,e.children.forEach((function(e){e.label=e.serverName,e.value=e.serverId})))})),this.serverList=a;case 7:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)}),changeCodeCascader:function(){var e=this.$refs.codeCascader.getCheckedNodes();this.codeLabelPath=this.getLabelPath(e)},filterCodeByLoginUser:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=null===(e=this.$store.state.old)||void 0===e||null===(t=e.admin_info)||void 0===t?void 0:t.userId;return a?r.filter((function(e){return e.createPer===a})):r},changeProjectList:function(){var e,t=this;null===(e=this.form)||void 0===e||e.transferProjectIdCode.forEach((function(e){t.projectIdData[e]?-1===t.codeAllData.findIndex((function(t){return t.id===e}))&&t.codeAllData.push(t.projectIdData[e]):t.getProjectAllTask(e)}));var r=this.codeAllData.findIndex((function(e){var r;return-1===(null===(r=t.form)||void 0===r?void 0:r.transferProjectIdCode.findIndex((function(t){return t===e.id})))}));if(-1!==r){var a=this.codeAllData[r].id;this.transferProjectDTOs=this.transferProjectDTOs.filter((function(e){return e[0]!==a})),this.$nextTick((function(){t.projectListLoadEnd=!1,t.$nextTick((function(){t.codeAllData.splice(r,1),t.projectListLoadEnd=!0,t.$nextTick((function(){t.changeCodeCascader()}))}))}))}},getProjectAllTask:(b=Object(a.a)(regeneratorRuntime.mark((function e(t){var r,a,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.pageLoading=!0,e.next=4,this.getOfflineTask(t);case 4:return r=e.sent,e.next=7,this.getRealTImeTask(t);case 7:a=e.sent,this.pageLoading=!1,n={},i=this.projectListCode.findIndex((function(e){return e.id===t})),(n=Object(s.a)(this.projectListCode[i])).value=n.id,n.label=n.name,n.procId=n.id,n.children=[{value:0,label:"离线任务",leaf:!1,children:r},{value:1,label:"实时任务",leaf:!1,children:a}],n.children[0].children&&n.children[0].children.length||delete n.children[0].children,n.children[1].children&&n.children[1].children.length||delete n.children[1].children,this.codeAllData.push(n),this.codeAllData=this.deleteChildren(this.codeAllData),this.$set(this.projectIdData,t,n),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),this.pageLoading=!1;case 27:case"end":return e.stop()}}),e,this,[[0,23]])}))),function(e){return b.apply(this,arguments)}),deleteChildren:function(e){for(var t=e,r=t.length;r--;r>0)t[r].children&&(t[r].children.length?this.deleteChildren(t[r].children):delete t[r].children);return e},getOfflineTask:(p=Object(a.a)(regeneratorRuntime.mark((function e(t){var r,a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.a)(t);case 3:return r=e.sent,a=r.data.data,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{(t||[]).forEach((function(t){t.label=t.name,t.value=t.id,t.children&&t.children.length?(t.children=t.children.filter((function(e){return!e.isDisplay})),t.leaf=!1,e(t.children)):(delete t.children,t.leaf=!0)}))}catch(e){}}(n=(n=void 0===a?[]:a).filter((function(e){return!e.isDisplay}))),e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),function(e){return p.apply(this,arguments)}),getRealTImeTask:(h=Object(a.a)(regeneratorRuntime.mark((function e(t){var r,a,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.c)(t);case 2:return r=e.sent,a=r.data.data,function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){t.label=t.name,t.value=t.id,t.childList&&t.childList.length?(t.leaf=!1,t.children=Object(s.a)(t.childList),delete t.childList,e(t.children)):(delete t.childList,t.leaf=!0)}))}(n=void 0===a?[]:a),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),getProjectList:(u=Object(a.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(1);case 2:t=e.sent,r=t.data.data,this.projectList=r||[];case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),getProjectListCode:(f=Object(a.a)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.b)(2);case 2:t=e.sent,r=t.data.data,this.projectListCode=r||[],this.projectListLoadEnd=!0;case 6:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),close:function(){this.$router.push("/myData/transferAuth")}},components:{},computed:{isCollapse:function(){return this.$store.state.old.isCollapse},projectLabelPath:function(){var e=this,t=[];return this.form.transferProjectId&&this.form.transferProjectId.length?(this.form.transferProjectId.forEach((function(r){var a=e.projectList.findIndex((function(e){return r===e.id}));a>-1&&t.push(e.projectList[a].name)})),t.join("、")):""}},created:function(){this.getTransferPerson(),this.getServerList(),this.getProjectList(),this.getProjectListCode(),this.getTransferCreateList(),this.getTableData()},mounted:function(){}},y=(r("873d"),r("04cb"),r("2877")),k=Object(y.a)(x,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"transferOperate"},[t("div",{staticClass:"zt-head",staticStyle:{"text-align":"center"}},[t("div",{staticClass:"zt-back",staticStyle:{float:"left"}},[t("i",{staticClass:"el-icon-back",staticStyle:{"padding-right":"10px",cursor:"pointer"},on:{click:e.close}}),e._v("返回列表\n    ")]),t("div",{staticClass:"title"},[e._v("开始转让")])]),t("div",{staticClass:"zt-bg-content zt-scrollbar",staticStyle:{overflow:"auto",height:"calc(100vh - 212px)"}},[t("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"140px","label-position":"left"}},[t("div",{staticClass:"form-box"},[t("div",{staticClass:"form-content"},[t("el-alert",{staticClass:"zt-alert",staticStyle:{"margin-bottom":"20px"},attrs:{title:"提示：权限转让是指将个人所创建的项目，代码文件，数据服务指定受让人进行所有权的移交，完成转让后，您将不再拥有转让项的权限。",type:"info","show-icon":"","close-text":"知道了"}}),t("el-form-item",{attrs:{label:"受让人",prop:"assigneePerId"}},[t("el-select",{staticClass:"form-input",attrs:{filterable:"",placeholder:"请选择受让人"},model:{value:e.form.assigneePerId,callback:function(t){e.$set(e.form,"assigneePerId",t)},expression:"form.assigneePerId"}},e._l(e.personList,(function(e,r){return t("el-option",{key:r,attrs:{value:e.userId,label:e.userName}})})),1)],1),t("el-form-item",{attrs:{label:"转让理由",prop:"transferReason"}},[t("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"请输入2-100字符"},model:{value:e.form.transferReason,callback:function(t){e.$set(e.form,"transferReason","string"==typeof t?t.trim():t)},expression:"form.transferReason"}})],1)],1)]),t("div",{staticClass:"form-box"},[t("div",{staticClass:"form-title"},[t("el-checkbox",{model:{value:e.selectGroup.serviceIds,callback:function(t){e.$set(e.selectGroup,"serviceIds",t)},expression:"selectGroup.serviceIds"}},[e._v("转让类型：数据服务")])],1),t("div",{staticClass:"form-content"},[t("el-alert",{staticClass:"zt-alert",staticStyle:{"margin-bottom":"20px","padding-right":"50px"},attrs:{title:"提示：将数据服务的管理权限进行转让，包含数据服务的编辑，删除，发布，下线，授权等操作。请确保转让的服务受让人是该服务组的角色，否则服务转让之后，受让人依然不能在数据服务平台的数据服务组管理中看到该服务组。",type:"info","show-icon":"","close-text":"知道了"}}),t("el-form-item",{attrs:{label:"服务文件"}},[t("el-cascader",{ref:"serverCascader",staticClass:"form-input",staticStyle:{"max-width":"200px"},attrs:{"show-all-levels":!1,options:e.serverList,disabled:!e.selectGroup.serviceIds,props:{multiple:!0,emitPath:!0},"collapse-tags":"","popper-class":"my-cascader",clearable:""},on:{change:e.changeServer},model:{value:e.form.serverList,callback:function(t){e.$set(e.form,"serverList",t)},expression:"form.serverList"}})],1),e.serverLabelPath?t("div",{staticClass:"selectValue"},[t("span",[e._v("已选择的数据服务: "),t("span",{domProps:{textContent:e._s(e.serverLabelPath)}})])]):e._e()],1)]),t("div",{staticClass:"form-box"},[t("div",{staticClass:"form-title"},[t("el-checkbox",{on:{change:e.clearAll},model:{value:e.selectGroup.tables,callback:function(t){e.$set(e.selectGroup,"tables",t)},expression:"selectGroup.tables"}},[e._v("转让类型：数据表")])],1),t("div",{staticClass:"form-content"},[t("el-alert",{staticClass:"zt-alert",staticStyle:{"margin-bottom":"10px","padding-right":"50px"},attrs:{title:"提示：将数据表的管理权限进行转让，包含数据表所有权限，修改表结构，清空表数据，上传表数据，导出表数据等操作。",type:"info","show-icon":"","close-text":"知道了"}}),t("el-alert",{staticClass:"zt-alert",staticStyle:{"margin-bottom":"20px","padding-right":"50px"},attrs:{title:"注意：字段的创建者随着表的转让不会做变更，但是受让人将继承表下所有字段的权限",type:"info","show-icon":"","close-text":"知道了"}}),t("el-form",{staticClass:"demo-form-inline left-form",attrs:{inline:!0,disabled:!e.selectGroup.tables,model:e.formInline}},[t("el-form-item",{attrs:{label:"表名"}},[t("el-input",{attrs:{placeholder:"请输入表名"},model:{value:e.formInline.tableName,callback:function(t){e.$set(e.formInline,"tableName",t)},expression:"formInline.tableName"}})],1),t("el-form-item",{attrs:{label:"表类型"}},[t("el-select",{attrs:{placeholder:"请选择表类型"},model:{value:e.formInline.tableType,callback:function(t){e.$set(e.formInline,"tableType",t)},expression:"formInline.tableType"}},e._l(e.tableTypeList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"创建人"}},[t("el-select",{attrs:{placeholder:"请选择创建人"},model:{value:e.formInline.createUser,callback:function(t){e.$set(e.formInline,"createUser",t)},expression:"formInline.createUser"}},e._l(e.create_options,(function(e){return t("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.do_search}},[e._v("筛选")]),t("el-button",{on:{click:e.reset}},[e._v("重置")]),t("el-button",{attrs:{disabled:0==e.tableData.length},on:{click:e.chooseAll}},[e._v(e._s(e.checkAll?"取消全选":"全选"))])],1)],1),t("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-class-name":e.cellClass},on:{"selection-change":e.handleSelectionChange,select:e.handleSelect,"select-all":e.handleSelectAll}},[t("el-table-column",{attrs:{selectable:e.selectable,type:"selection",width:"55"}}),t("el-table-column",{attrs:{label:"表名称",prop:"tableName",width:"200",align:"left"}}),t("el-table-column",{attrs:{label:"表类型",prop:"tableTypeStr",align:"left"}}),t("el-table-column",{attrs:{label:"创建人",prop:"createUserName",align:"left"}}),t("el-table-column",{attrs:{"show-overflow-tooltip":"",label:"表描述",prop:"tableDesc",align:"right"}})],1),t("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,50,100],"page-size":e.pageSize,total:e.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}}),!e.checkAll&&e.selectGroup.tables?t("div",{staticClass:"choose"},[t("div",{staticClass:"c-title"},[t("span",[e._v("已选表")]),t("el-button",{attrs:{type:"text"},on:{click:e.clearAll}},[e._v("清空")])],1),t("div",{staticClass:"c-content"},e._l(e.tableList,(function(r,a){return t("el-tag",{key:a,staticStyle:{"margin-right":"10px","margin-bottom":"10px"},attrs:{closable:""},on:{close:function(t){return e.handleTagClose(r)}}},[e._v(e._s(r.tableName))])})),1)]):e._e()],1)])])],1),t("div",{staticClass:"bottom",class:{isCollapse:e.isCollapse}},[t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.save}},[e._v("保存")]),t("el-button",{on:{click:e.close}},[e._v("取消")])],1)])}),[],!1,null,"6b9c5b80",null);t.default=k.exports},e81d1:function(e,t,r){(e.exports=r("2350")(!1)).push([e.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.my-cascader .el-cascader-menu{max-width:280px}",""])},e853:function(e,t,r){var a=r("d3f4"),n=r("1169"),i=r("2b4c")("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),a(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}}}]);