(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cf72e1ba","chunk-74af32dc"],{"0053":function(e,t,r){"use strict";r.d(t,"B",(function(){return n})),r.d(t,"b",(function(){return c})),r.d(t,"u",(function(){return o})),r.d(t,"A",(function(){return s})),r.d(t,"s",(function(){return l})),r.d(t,"E",(function(){return u})),r.d(t,"a",(function(){return d})),r.d(t,"J",(function(){return f})),r.d(t,"I",(function(){return h})),r.d(t,"H",(function(){return p})),r.d(t,"G",(function(){return m})),r.d(t,"M",(function(){return v})),r.d(t,"z",(function(){return b})),r.d(t,"t",(function(){return g})),r.d(t,"r",(function(){return k})),r.d(t,"f",(function(){return x})),r.d(t,"l",(function(){return C})),r.d(t,"d",(function(){return y})),r.d(t,"i",(function(){return I})),r.d(t,"p",(function(){return _})),r.d(t,"m",(function(){return S})),r.d(t,"g",(function(){return D})),r.d(t,"C",(function(){return G})),r.d(t,"o",(function(){return L})),r.d(t,"h",(function(){return R})),r.d(t,"y",(function(){return w})),r.d(t,"x",(function(){return $})),r.d(t,"e",(function(){return P})),r.d(t,"n",(function(){return N})),r.d(t,"D",(function(){return M})),r.d(t,"k",(function(){return O})),r.d(t,"j",(function(){return A})),r.d(t,"F",(function(){return j})),r.d(t,"q",(function(){return U})),r.d(t,"L",(function(){return H})),r.d(t,"v",(function(){return z})),r.d(t,"w",(function(){return E})),r.d(t,"c",(function(){return T})),r.d(t,"K",(function(){return q}));var i=r("2b0e"),a=r("fedb"),n=function(e){return i.default.http.post(a.a.getDataServiceGroupList,e)},c=function(e){return i.default.http.post(a.a.addDataServiceGroup,e)},o=function(e){return i.default.http.post(a.a.editDataServiceGroup,e)},s=function(e){return i.default.http.get(a.a.getDataServiceGroupDetailById+"/".concat(e))},l=function(e){return i.default.http.get(a.a.deleteDataServiceGroupById+"/".concat(e))},u=function(e){return i.default.http.post(a.a.getDataServiceListPage,e)},d=function(e){return i.default.http.post(a.a.addDataService,e)},f=function(e){return i.default.http.get(a.a.getGroupServiceUrl+e)},h=function(e){var t=e.conId;return i.default.http.get(a.a.getDataserviceDataBase+"/".concat(t))},p=function(e){var t=e.dbName,r=e.conId;return i.default.http.get(a.a.getDataServiceTables+"?dbName=".concat(t,"&conId=").concat(r))},m=function(e){var t=e.conId,r=e.dbName,n=e.tableName;return i.default.http.get(a.a.getDataServiceTableStructure+"?conId=".concat(t,"&dbName=").concat(r,"&tableName=").concat(n))},v=function(e){return i.default.http.get(a.a.getTableInfoListDataTypes+"?type="+e)},b=function(e){var t=e.id;return i.default.http.get(a.a.getDataServiceDetailById+"/".concat(t))},g=function(e){return i.default.http.post(a.a.editDataService,e)},k=function(e){var t=e.limit,r=e.page,n=e.serviceId;return i.default.http.get(a.a.dataServiceUserAuthorizationList+"?limit=".concat(t,"&page=").concat(r,"&serviceId=").concat(n))},x=function(e){var t=e.applyId;return i.default.http.get(a.a.dataServiceApprove+"?applyId=".concat(t))},C=function(e){var t=e.applyId;return i.default.http.get(a.a.dataServiceReject+"?applyId=".concat(t))},y=function(e){return i.default.http.post(a.a.dataServiceActiveApprove,e)},I=function(e){var t=e.serviceId;return i.default.http.get(a.a.dataServiceGetParams+"?serviceId=".concat(t))},_=function(e){return i.default.http.post(a.a.dataServiceTest,e,{timeout:18e4})},S=function(e){var t=e.serviceId;return i.default.http.get(a.a.dataServiceRelease+"?serviceId=".concat(t))},D=function(e){return i.default.http.post(a.a.dataServiceCopy,e)},G=function(){return i.default.http.get(a.a.getDataServiceGroupListWithoutPagination)},L=function(e){var t=e.serviceId;return i.default.http.get(a.a.dataServiceRevoke+"?serviceId=".concat(t))},R=function(e){var t=e.serviceId;return i.default.http.get(a.a.dataServiceDelete+"?serviceId=".concat(t))},w=function(e){return i.default.http.post(a.a.getDataServiceAuthList,e)},$=function(e){return i.default.http.post(a.a.getDataServiceApplyList,e)},P=function(e){var t=e.applyId;return i.default.http.get(a.a.dataServiceApplyDelete+"?applyId=".concat(t))},N=function(e){return i.default.http.post(a.a.dataServiceRenewal,e)},M=function(e){return i.default.http.post(a.a.getDataServiceListGroupPage,e)},O=function(e){return i.default.http.post(a.a.dataServiceNewApply,e)},A=function(e){var t=e.serviceId;return i.default.http.get(a.a.dataServiceInfo+"?serviceId=".concat(t))},j=function(e){var t=e.serviceId,r=e.type;return i.default.http.get(a.a.getDataServiceMonitorInfo+"/".concat(t,"/").concat(r))},U=function(e){var t=e.serviceId;return i.default.http.get(a.a.dataServiceUser+"?serviceId=".concat(t))},H=function(e){return i.default.http.post(a.a.getServiceLogList,e)},z=function(){return i.default.http.post(a.a.getCallUserList)},E=function(){return i.default.http.post(a.a.getCreateUserListOfService)},T=function(e){return i.default.http.get(a.a.checkServiceName,{params:e})},q=function(){return i.default.http.get(a.a.getServeLimitDictionary)}},"0a49":function(e,t,r){var i=r("9b43"),a=r("626a"),n=r("4bf8"),c=r("9def"),o=r("cd1c");e.exports=function(e,t){var r=1==e,s=2==e,l=3==e,u=4==e,d=6==e,f=5==e||d,h=t||o;return function(t,o,p){for(var m,v,b=n(t),g=a(b),k=i(o,p,3),x=c(g.length),C=0,y=r?h(t,x):s?h(t,0):void 0;x>C;C++)if((f||C in g)&&(v=k(m=g[C],C,b),e))if(r)y[C]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return C;case 2:y.push(m)}else if(u)return!1;return d?-1:l||u?u:y}}},"20d6":function(e,t,r){"use strict";var i=r("5ca1"),a=r("0a49")(6),n="findIndex",c=!0;n in[]&&Array(1)[n]((function(){c=!1})),i(i.P+i.F*c,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(n)},5381:function(e,t,r){(e.exports=r("2350")(!1)).push([e.i,'.primary-color[data-v-3e87ac9e]{color:#1740dc}.success-color[data-v-3e87ac9e]{color:#52c41a}.warning-color[data-v-3e87ac9e]{color:#faad14}.error-color[data-v-3e87ac9e]{color:#f5222d}.info-color[data-v-3e87ac9e]{color:#909399}.border-color[data-v-3e87ac9e]{border:1px solid #e5e6e9}.basic-info-header[data-v-3e87ac9e]{font-size:14px;font-weight:700;margin-bottom:20px}.basic-info-header[data-v-3e87ac9e]:before{content:"";display:inline-block;width:3px;height:16px;background:#1740dc;margin-right:10px;position:relative;top:2px}',""])},"629a":function(e,t,r){"use strict";r("d466")},7514:function(e,t,r){"use strict";var i=r("5ca1"),a=r("0a49")(5),n=!0;"find"in[]&&Array(1).find((function(){n=!1})),i(i.P+i.F*n,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("find")},"80e1":function(e,t,r){"use strict";r("8e6e"),r("ac6a"),r("456d");var i=r("2909"),a=(r("7514"),r("20d6"),r("ade3")),n=(r("96cf"),r("1da1")),c=r("b056"),o=r("0053");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u,d,f,h,p={name:"CreateOrEditServiceGroup",data:function(){return{btnLoading:!1,status:null,dialogVisible:!1,roleList:[],hingConfiguration:!1,form:{serviceGroupName:"",roleId:"",uri:"/service-center/service/center/call",path:"",serviceGroupDesc:"",fallbackTimeout:0,fallbackMsg:"",burstCapacity:100,replenishRate:10,accessHeader:"",accessIp:"",accessParameter:"",accessTime:"",accessCookie:""},hystrix:{defaultChecked:!1,customChecked:!1},limiter:{ipChecked:!1,uriChecked:!1,idChecked:!1},access:{headerChecked:!1,ipChecked:!1,parameterChecked:!1,timeChecked:!1,cookieChecked:!1},hystrixMethod:null,limiterMethod:null,editId:null,activeNames:["1","2","3"]}},methods:{openDialog:(h=Object(n.a)(regeneratorRuntime.mark((function e(t){var r,a,n,c,s,u=this,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>1&&void 0!==d[1]?d[1]:null,this.dialogVisible=!0,this.status=t,this.editId=r,e.next=6,this.getRoleList();case 6:if(1!==this.status){e.next=26;break}return e.next=9,Object(o.A)(this.editId);case 9:a=e.sent,(n=a.data).form&&(this.form=l(l({},n.form),{},{serviceGroupName:"",serviceGroupDesc:"",burstCapacity:n.burstCapacity||100,replenishRate:n.replenishRate||10})),n.access&&(this.access=n.access),n.hystrix&&(this.hystrix=n.hystrix),n.limiter&&(this.limiter=n.limiter),this.form.path=n.apiPath,n.serviceGroupUrl&&(this.form.uri=n.serviceGroupUrl),c=this.roleList.findIndex((function(e){return e.roleId===n.roleId})),this.$set(this.form,"roleId",-1===c?null:n.roleId),this.$set(this.form,"roleName",-1===c?null:n.roleName),n.serviceGroupName&&(this.form.serviceGroupName=n.serviceGroupName),n.serviceGroupDesc&&(this.form.serviceGroupDesc=n.serviceGroupDesc),n.hingConfiguration&&(this.hingConfiguration=n.hingConfiguration),n.hystrix&&(this.hystrixMethod=n.hystrix.defaultChecked?0:n.hystrix.customChecked?1:null),n.limiter&&(this.limiterMethod=n.limiter.idChecked?2:n.limiter.ipChecked?0:n.limiter.uriChecked?1:null),this.form.roleId&&(s=[],this.roleList.find((function(e){return e.roleId==u.form.roleId}))||(s.push({roleId:this.form.roleId,roleName:this.form.roleName}),this.roleList=[].concat(Object(i.a)(this.roleList),s)));case 26:case"end":return e.stop()}}),e,this)}))),function(e){return h.apply(this,arguments)}),getRoleList:(f=Object(n.a)(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.d)();case 2:t=e.sent,r=t.data.data,i=void 0===r?[]:r,this.roleList=i;case 6:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),handleDialogClose:function(){this.$refs.ruleForm.resetFields(),this.hingConfiguration=!1,this.form={serviceGroupName:"",roleId:"",uri:"/service-center/service/center/call",path:"",serviceGroupDesc:"",fallbackTimeout:0,fallbackMsg:"",burstCapacity:100,replenishRate:10,accessHeader:"",accessIp:"",accessParameter:"",accessTime:"",accessCookie:""},this.hystrix={defaultChecked:!1,customChecked:!1},this.limiter={ipChecked:!1,uriChecked:!1,idChecked:!1},this.access={headerChecked:!1,ipChecked:!1,parameterChecked:!1,timeChecked:!1,cookieChecked:!1},this.hystrixMethod=null,this.limiterMethod=null},handleCancel:function(){this.dialogVisible=!1},handleSure:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=20;break}if(!e.access.timeChecked||/([0-1]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])/.test(e.form.accessTime)){t.next=4;break}return e.$message.error("鉴权-时间格式填写不规范!"),t.abrupt("return");case 4:if(e.btnLoading=!0,t.prev=5,0!==e.status){t.next=11;break}return t.next=9,e.addDataServiceGroup();case 9:t.next=14;break;case 11:if(1!==e.status){t.next=14;break}return t.next=14,e.editDataServiceGroup(e.editId);case 14:return t.prev=14,e.btnLoading=!1,t.finish(14);case 17:e.dialogVisible=!1,t.next=21;break;case 20:return t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,null,[[5,,14,17]])})));return function(e){return t.apply(this,arguments)}}())},editDataServiceGroup:(d=Object(n.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.u)({hystrix:this.hystrix,limiter:this.limiter,access:this.access,form:this.form,apiPath:this.form.path,roleId:this.form.roleId,serviceGroupName:this.form.serviceGroupName,serviceGroupUrl:this.form.uri,serviceGroupDesc:this.form.serviceGroupDesc,hingConfiguration:this.hingConfiguration,id:t});case 2:0===e.sent.data.code&&(this.$message.success("保存成功！"),this.$emit("refresh"));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)}),addDataServiceGroup:(u=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.b)({hystrix:this.hystrix,limiter:this.limiter,access:this.access,form:this.form,apiPath:this.form.path,roleId:this.form.roleId,serviceGroupName:this.form.serviceGroupName,serviceGroupUrl:this.form.uri,serviceGroupDesc:this.form.serviceGroupDesc,hingConfiguration:this.hingConfiguration});case 2:0===e.sent.data.code&&(this.$message.success("保存成功！"),this.$emit("refresh"));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),handleHystrixChecked:function(e){this.hystrix.defaultChecked=!(!this.hystrix.defaultChecked||"default"!==e),this.hystrix.customChecked=!(!this.hystrix.customChecked||"custom"!==e),this.hystrix.defaultChecked||this.hystrix.customChecked||(this.hystrixMethod=null)},handleLimiterChecked:function(e){this.limiter.ipChecked=!(!this.limiter.ipChecked||"ip"!==e),this.limiter.uriChecked=!(!this.limiter.uriChecked||"uri"!==e),this.limiter.idChecked=!(!this.limiter.idChecked||"id"!==e),this.limiter.ipChecked||this.limiter.uriChecked||this.limiter.idChecked||(this.limiterMethod=null)},toInteger:function(e){var t=this;if(this.form[e]){/^[0-9]+$/.test(this.form[e])||(this.$message.warning("只能输入真整数！"),this.$nextTick((function(){t.form[e]=parseInt(t.form[e])})))}"burstCapacity"===e&&this.form.burstCapacity&&this.form.replenishRate>this.form.burstCapacity&&(this.form.replenishRate=this.form.burstCapacity)}},mounted:function(){}},m=(r("629a"),r("2877")),v=Object(m.a)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"service-group"},[t("el-dialog",{attrs:{title:0===e.status?"创建服务组":"编辑服务组",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleDialogClose}},[t("el-form",{ref:"ruleForm",staticClass:"rule-form",attrs:{model:e.form,"label-width":"120px","label-position":"right"}},[t("div",{staticClass:"basic-info-header info-header"},[e._v("基本信息")]),t("el-form-item",{attrs:{label:"服务组名称：",prop:"serviceGroupName",rules:[{required:!0,message:"请输入服务组名称",trigger:"blur"},{max:50,min:2,message:"请输入2-50字符串",trigger:"blur"},{pattern:/^[\u4E00-\u9FA5a-zA-Z0-9_]*$/,message:"请输入中英文，数字，或下划线",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"请输入服务组名称"},model:{value:e.form.serviceGroupName,callback:function(t){e.$set(e.form,"serviceGroupName",t)},expression:"form.serviceGroupName"}})],1),t("el-form-item",{attrs:{label:"授权给角色",prop:"roleId",rules:[{required:!0,message:"请选择角色",trigger:"change"}]}},[t("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择角色"},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleList,(function(e){return t("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1),t("el-form-item",{attrs:{label:"服务组路径：",prop:"uri"}},[t("el-input",{attrs:{disabled:!0,placeholder:"请输入服务组路径"},model:{value:e.form.uri,callback:function(t){e.$set(e.form,"uri",t)},expression:"form.uri"}})],1),t("el-form-item",{attrs:{label:"api path：",prop:"path",rules:[{required:!0,message:" ",trigger:"blur"},{message:"请输入英文开头、数字，2-50字符",trigger:"blur",pattern:"^[a-zA-Z][a-zA-Z0-9]{1,50}$"}]}},[t("el-input",{attrs:{placeholder:"请输入英文开头、数字，2-50字符"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}},[t("template",{slot:"prepend"},[e._v("/")])],2)],1),t("el-form-item",{attrs:{label:"服务组描述：",prop:"serviceGroupDesc",rules:[{max:100,min:2,message:"请输入2-100字符串",trigger:"blur"}]}},[t("el-input",{attrs:{placeholder:"请输入服务组描述",type:"textarea",rows:2},model:{value:e.form.serviceGroupDesc,callback:function(t){e.$set(e.form,"serviceGroupDesc",t)},expression:"form.serviceGroupDesc"}})],1),t("div",{staticClass:"basic-info-header info-header"},[e._v("高级配置")]),t("el-form-item",{attrs:{prop:"hingConfiguration",label:"高级配置："}},[t("el-checkbox",{model:{value:e.hingConfiguration,callback:function(t){e.hingConfiguration=t},expression:"hingConfiguration"}},[e._v("启用")])],1),e.hingConfiguration?t("div",[t("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[t("el-collapse-item",{attrs:{name:"1"}},[t("template",{slot:"title"},[e._v("\n                        熔断器设置\n                        "),t("el-tooltip",{attrs:{placement:"top"}},[t("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}}),t("div",{staticStyle:{"font-size":"10pt"},attrs:{slot:"content"},slot:"content"},[t("b",[e._v("全局方法：")]),t("br"),t("br"),t("span",[e._v("启用超时检测，当请求到响应返回的时间，超过5000ms后，将触发全局Hystrix熔断方法的\n\t\t\t\t\t\t\t\t\t"),t("br"),e._v("（name: fallbackcmd），默认回调路径fallbackUri: forward:/fallback。")]),t("br"),t("br"),t("b",[e._v("自定义方法:")]),t("br"),t("br"),t("span",[e._v("启用超时检测，当请求到响应返回的时间，超过自定义时长后，将触发自定义Hystrix熔断方法\n\t\t\t\t\t\t\t\t\t"),t("br"),e._v("（name: customHystrix_no），默认回调路径fallbackUri: forward:/fallback/custom 。\n\t\t\t\t\t\t\t\t\t"),t("br"),e._v("(如无特殊要求，强列建议用默认全局Hystrix方法，过多定制Hystrix否则会增加gateway"),t("br"),e._v("网关服务性能压力)")])])])],1),t("el-form-item",{attrs:{label:"熔断方法："}},[t("el-radio-group",{model:{value:e.hystrixMethod,callback:function(t){e.hystrixMethod=t},expression:"hystrixMethod"}},[t("el-radio",{attrs:{label:0}},[e._v("全局方法")]),t("el-radio",{attrs:{label:1}},[e._v("自定义方法")])],1)],1),0===e.hystrixMethod?t("el-form-item",{attrs:{label:"是否启用："}},[t("el-checkbox",{on:{change:function(t){return e.handleHystrixChecked("default")}},model:{value:e.hystrix.defaultChecked,callback:function(t){e.$set(e.hystrix,"defaultChecked",t)},expression:"hystrix.defaultChecked"}},[e._v("启用")]),t("div",[e._v("启用超时检测，当请求到响应返回的时间，超过5000ms后，将触发全局Hystrix熔断方法的（name: fallbackcmd），默认回调路径fallbackUri: forward:/fallback。")])],1):e._e(),1===e.hystrixMethod?t("el-form-item",{attrs:{label:"是否启用："}},[t("el-checkbox",{on:{change:function(t){return e.handleHystrixChecked("custom")}},model:{value:e.hystrix.customChecked,callback:function(t){e.$set(e.hystrix,"customChecked",t)},expression:"hystrix.customChecked"}},[e._v("启用")]),t("div",[e._v("启用超时检测，当请求到响应返回的时间，超过自定义时长后，将触发自定义Hystrix熔断方法（name: customHystrix_no），\n                            默认回调路径fallbackUri: forward:/fallback/custom 。(如无特殊要求，"),t("span",{staticStyle:{"font-weight":"bold"}},[e._v("强列建议用默认全局Hystrix方法")]),e._v("，\n                            过多定制Hystrix否则会增加gateway网关服务性能压力)\n                        ")])],1):e._e(),1===e.hystrixMethod?t("el-form-item",{attrs:{label:"超时时长："}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",min:1},model:{value:e.form.fallbackTimeout,callback:function(t){e.$set(e.form,"fallbackTimeout",t)},expression:"form.fallbackTimeout"}}),t("span",{staticStyle:{"margin-left":"10px","font-size":"14px"}},[e._v("s")])],1):e._e(),1===e.hystrixMethod?t("el-form-item",{attrs:{label:"提示信息："}},[t("el-input",{attrs:{size:"mini",placeholder:"触发fallbackcmd提示内容,如:system is error"},model:{value:e.form.fallbackMsg,callback:function(t){e.$set(e.form,"fallbackMsg",t)},expression:"form.fallbackMsg"}})],1):e._e()],2),t("el-collapse-item",{attrs:{name:"2"}},[t("template",{slot:"title"},[e._v("\n                        限流器设置\n                        "),t("el-tooltip",{attrs:{placement:"top"}},[t("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}}),t("div",{staticStyle:{"font-size":"10pt"},attrs:{slot:"content"},slot:"content"},[t("span",[e._v("配置说明：")]),t("br"),t("br"),t("span",[e._v("1.IP限流: 基于令牌桶算法，当访问网关路由URL的请求host主机名数量，超出限流规则的约束，则直接拒绝请求。")]),t("br"),t("span",[e._v("2.URL限流: 基于令牌桶算法，当访问网关路由URL的请求数量，超出限流规则的约束，则直接拒绝请求。")]),t("br"),t("span",[e._v("3.REQUESTID限流: 基于令牌桶算法，当访问网关路由URL的RequestId（从请求参数中获取）数量，超出限流规则的约束，则直接拒绝请求。")])])])],1),t("el-form-item",{attrs:{label:"令牌总量："}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",step:1,min:5,max:1e4},on:{change:function(t){return e.toInteger("burstCapacity")}},model:{value:e.form.burstCapacity,callback:function(t){e.$set(e.form,"burstCapacity",t)},expression:"form.burstCapacity"}})],1),t("el-form-item",{attrs:{label:"每秒限流："}},[t("el-input-number",{attrs:{size:"mini","controls-position":"right",step:1,min:3,max:e.form.burstCapacity},on:{change:function(t){return e.toInteger("replenishRate")}},model:{value:e.form.replenishRate,callback:function(t){e.$set(e.form,"replenishRate",t)},expression:"form.replenishRate"}}),t("el-tooltip",{attrs:{content:"最大值不超过令牌总量",placement:"top"}},[t("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),t("el-form-item",{attrs:{label:"限流方式："}},[t("el-radio-group",{model:{value:e.limiterMethod,callback:function(t){e.limiterMethod=t},expression:"limiterMethod"}},[t("el-radio",{attrs:{label:0}},[e._v("IP限流")]),t("el-radio",{attrs:{label:1}},[e._v("URL限流")]),t("el-radio",{attrs:{label:2}},[e._v("REQUESTID限流")])],1)],1),0===e.limiterMethod?t("el-form-item",{attrs:{label:"是否启用："}},[t("el-checkbox",{on:{change:function(t){return e.handleLimiterChecked("ip")}},model:{value:e.limiter.ipChecked,callback:function(t){e.$set(e.limiter,"ipChecked",t)},expression:"limiter.ipChecked"}},[e._v("启用")]),t("div",[e._v("基于令牌桶算法，当访问网关路由URL的请求host主机名数量，超出限流规则的约束，则直接拒绝请求。")])],1):e._e(),1===e.limiterMethod?t("el-form-item",{attrs:{label:"是否启用："}},[t("el-checkbox",{on:{change:function(t){return e.handleLimiterChecked("uri")}},model:{value:e.limiter.uriChecked,callback:function(t){e.$set(e.limiter,"uriChecked",t)},expression:"limiter.uriChecked"}},[e._v("启用")]),t("div",[e._v("基于令牌桶算法，当访问网关路由URL的请求数量，超出限流规则的约束，则直接拒绝请求。")])],1):e._e(),2===e.limiterMethod?t("el-form-item",{attrs:{label:"是否启用："}},[t("el-checkbox",{on:{change:function(t){return e.handleLimiterChecked("id")}},model:{value:e.limiter.idChecked,callback:function(t){e.$set(e.limiter,"idChecked",t)},expression:"limiter.idChecked"}},[e._v("启用")]),t("div",[e._v("基于令牌桶算法，当访问网关路由URL的RequestId（从请求参数中获取）数量，超出限流规则的约束，则直接拒绝请求。")])],1):e._e()],2),t("el-collapse-item",{attrs:{name:"3"}},[t("template",{slot:"title"},[e._v("\n                        鉴权器设置\n                        "),t("el-tooltip",{attrs:{placement:"top"}},[t("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}}),t("div",{staticStyle:{"font-size":"10pt"},attrs:{slot:"content"},slot:"content"},[t("span",[e._v("配置说明：")]),t("br"),t("br"),t("span",[e._v("1.HEADER验证: 获取客户端请求中的所带的HEADER头部信息，验证指定键值，不符合验证规则，则直接拒绝请求。")]),t("br"),t("span",[e._v("2.IP验证: 如果启用IP过滤，则会先执行IP过滤后，再执行本IP验证，不符合验证规则，则直接拒绝请求。通常用于临时性IP过滤。")]),t("br"),t("span",[e._v("3.参数验证: 获取URL请求串中的所带的参数，验证指定参数值，不符合验证规则，则直接拒绝请求。")]),t("br"),t("span",[e._v("4.时间验证: 只允许指定时间段内进行访问，不符合验证规则，则直接拒绝请求。")]),t("br"),t("span",[e._v("5.Cookie验证: 获取客户端请求所带的cookie信息，验证指定cookie参数值，不符合验证规则，则直接拒绝请求。")]),t("br")])])],1),t("el-form-item",{attrs:{label:"HEADER验证："}},[t("el-checkbox",{model:{value:e.access.headerChecked,callback:function(t){e.$set(e.access,"headerChecked",t)},expression:"access.headerChecked"}},[e._v("\n                            启用\n                        ")]),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("获取客户端请求中的所带的HEADER头部信息，验证指定键值，不符合验证规则，则直接拒绝请求。")])],1),e.access.headerChecked?t("el-form-item",{attrs:{label:"HEADER："}},[t("el-input",{attrs:{size:"mini",placeholder:"示例：Accept-Language: zh-CN,zh;q=0.9"},model:{value:e.form.accessHeader,callback:function(t){e.$set(e.form,"accessHeader",t)},expression:"form.accessHeader"}})],1):e._e(),t("el-form-item",{attrs:{label:"IP验证："}},[t("el-checkbox",{model:{value:e.access.ipChecked,callback:function(t){e.$set(e.access,"ipChecked",t)},expression:"access.ipChecked"}},[e._v("启用")]),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("如果启用IP过滤，则会先执行IP过滤后，再执行本IP验证，不符合验证规则，则直接拒绝请求。通常用于临时性IP过滤。")])],1),e.access.ipChecked?t("el-form-item",{attrs:{label:"IP："}},[t("el-input",{attrs:{size:"mini",placeholder:"示例：192.168.1.100,92.168.1.*"},model:{value:e.form.accessIp,callback:function(t){e.$set(e.form,"accessIp",t)},expression:"form.accessIp"}})],1):e._e(),t("el-form-item",{attrs:{label:"参数验证："}},[t("el-checkbox",{model:{value:e.access.parameterChecked,callback:function(t){e.$set(e.access,"parameterChecked",t)},expression:"access.parameterChecked"}},[e._v("启用")]),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("获取URL请求串中的所带的参数，验证指定参数值，不符合验证规则，则直接拒绝请求。")])],1),e.access.parameterChecked?t("el-form-item",{attrs:{label:"请求参数："}},[t("el-input",{attrs:{size:"mini",placeholder:"示例：token=uuid"},model:{value:e.form.accessParameter,callback:function(t){e.$set(e.form,"accessParameter",t)},expression:"form.accessParameter"}})],1):e._e(),t("el-form-item",{attrs:{label:"时间验证："}},[t("el-checkbox",{model:{value:e.access.timeChecked,callback:function(t){e.$set(e.access,"timeChecked",t)},expression:"access.timeChecked"}},[e._v("启用")]),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("只允许指定时间段内进行访问，不符合验证规则，则直接拒绝请求。")])],1),e.access.timeChecked?t("el-form-item",{attrs:{label:"时间："}},[t("el-input",{attrs:{size:"mini",placeholder:"示例：08:00:00,20:00:00"},model:{value:e.form.accessTime,callback:function(t){e.$set(e.form,"accessTime",t)},expression:"form.accessTime"}})],1):e._e(),t("el-form-item",{attrs:{label:"Cookie验证："}},[t("el-checkbox",{model:{value:e.access.cookieChecked,callback:function(t){e.$set(e.access,"cookieChecked",t)},expression:"access.cookieChecked"}},[e._v("启用\n                        ")]),t("span",{staticStyle:{"margin-left":"10px"}},[e._v("获取客户端请求所带的cookie信息，验证指定cookie参数值，不符合验证规则，则直接拒绝请求。")])],1),e.access.cookieChecked?t("el-form-item",{attrs:{label:"Cookie："}},[t("el-input",{attrs:{size:"mini",placeholder:"示例：name=value"},model:{value:e.form.accessCookie,callback:function(t){e.$set(e.form,"accessCookie",t)},expression:"form.accessCookie"}})],1):e._e()],2)],1)],1):e._e()],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleCancel}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:e.handleSure}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,"3e87ac9e",null);t.a=v.exports},b056:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return l}));var i=r("fedb"),a=r("83fe"),n=function(e){return a.a.post(i.a.getLevelList,e)},c=function(){return a.a.get(i.a.getRoleSelectNew)},o=function(e){return a.a.post(i.a.sqlSearchLimitSave,e)},s=function(){return a.a.get(i.a.getExploreDownLoadLimit)},l=function(e){var t=e.id;return a.a.get(i.a.getConnExtInfo+"?id=".concat(t))}},cd1c:function(e,t,r){var i=r("e853");e.exports=function(e,t){return new(i(e))(t)}},d466:function(e,t,r){var i=r("5381");i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,r("499e").default)("562b4a56",i,!0,{sourceMap:!1,shadowMode:!1})},e853:function(e,t,r){var i=r("d3f4"),a=r("1169"),n=r("2b4c")("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),i(t)&&null===(t=t[n])&&(t=void 0)),void 0===t?Array:t}}}]);