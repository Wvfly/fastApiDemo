(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b05684c8"],{"001f":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.data_factory_task_operations_detail .no-data{font-size:12px;padding:20px;color:#040c2c}.data_factory_task_operations .data_factory_task_operations_detail .el-tabs--top .el-tabs__item.is-top{padding-left:20px}",""])},"009b":function(t,e,a){var o=a("c384");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("4fedf0a9",o,!0,{sourceMap:!1,shadowMode:!1})},"021a":function(t,e,a){"use strict";a("72bd")},"0426":function(t,e,a){"use strict";a("96cf");var o=a("1da1"),i=(a("ac6a"),a("d032")),r={name:"detailListInfo",created:function(){},props:{customerClass:String,formData:{type:Object,default:function(){return{}}},config:{type:Object,default:function(){return this.defaultConfig}},formList:{type:Array,default:function(){return[]}}},data:function(){return{lastFormList:[],emptyFun:new Function,defaultConfig:{span:24,labelWidth:120,isWrap:!1,align:"left",gutter:0}}},methods:{getLastValue:function(){var t=this,e=Object(i.a)(this.formList);e.forEach(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.code&&(a.value=t.formData[a.code]),a.orgValue=a.value,!(a.format instanceof Function)){e.next=6;break}return e.next=5,Promise.resolve(a.format(a.value));case 5:a.value=e.sent;case 6:t.isEmpty(a.value)&&(a.value=""),""!==a.value||t.isEmpty(a.defaultValue)||(a.value=a.defaultValue),a.suffix&&(a.value+=a.suffix),a.pre&&(a.value=a.pre+a.value);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.lastFormList=e},clickEventItem:function(t){t.clickEventItem instanceof Function&&t.clickEventItem.call(t,[t,this.formData])},clickEventValue:function(t){t.clickEventValue instanceof Function&&t.clickEventValue.call(t,[t,this.formData])},isEmpty:function(t){return null==t}},computed:{lastConfig:function(){return Object.assign(this.defaultConfig,this.config||{})}},watch:{formList:{immediate:!0,deep:!0,handler:function(){this.getLastValue()}},formData:{immediate:!0,deep:!0,handler:function(){this.getLastValue()}}},components:{},mounted:function(){}},n=(a("021a"),a("2877")),s=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailListInfo",class:t.customerClass},[e("el-row",{staticClass:"row",attrs:{type:"flex",gutter:t.lastConfig.gutter}},t._l(t.lastFormList,(function(a,o){return e("el-col",{key:o,class:a.class,attrs:{span:t.lastConfig.span},on:{click:function(e){return e.stopPropagation(),e.target!==e.currentTarget?null:t.clickEventItem(a)}}},[a.slot?[t._t(a.slot,(function(){return[t._v("\n         33 "),e("span",{staticClass:"label",style:{flex:"0 0 ".concat(t.lastConfig.labelWidth,"px")},domProps:{textContent:t._s(a.label)}}),e("span",{staticClass:"value",class:{"zt-ellipsis":!t.lastConfig.isWrap},attrs:{title:a.value},domProps:{textContent:t._s(a.value)},on:{click:function(e){return e.stopPropagation(),t.clickEventValue(a)}}})]}),{item:a})]:["分区类型"==a.label?e("div",{staticClass:"item"},["静态分区"==a.value||"动态分区"==a.value?e("span",{staticClass:"label",style:{flex:"0 0 ".concat(t.lastConfig.labelWidth,"px")},domProps:{textContent:t._s(a.label)}}):t._e(),"静态分区"==a.value||"动态分区"==a.value?e("span",{staticClass:"value",class:{"zt-ellipsis":!t.lastConfig.isWrap},attrs:{title:a.value},domProps:{textContent:t._s(a.value)},on:{click:function(e){return e.stopPropagation(),t.clickEventValue(a)}}}):t._e()]):"分区信息"==a.label?e("div",{staticClass:"item"},[Array.isArray(a.value)&&a.value[0]&&""!=a.value[0].field_name?e("span",{staticClass:"label",style:{flex:"0 0 ".concat(t.lastConfig.labelWidth,"px")},domProps:{textContent:t._s(a.label)}}):t._e(),Array.isArray(a.value)&&a.value[0]&&""!=a.value[0].field_name?e("span",{staticClass:"value",class:{"zt-ellipsis":!t.lastConfig.isWrap}},t._l(a.value,(function(o,i){return e("span",{key:i},[t._v(t._s(o.field_name)),o.field_name?e("b",{staticStyle:{"font-weight":"normal"}},[t._v("="+t._s(o.partitionValue||"''"))]):t._e(),a.value.length>0&&i<a.value.length-1?e("em",[t._v("、")]):t._e()])})),0):e("span",{directives:[{name:"show",rawName:"v-show",value:Array.isArray(a.value)&&a.value[0]&&""==a.value[0].field_name,expression:"Array.isArray(item.value)&&item.value[0]&&item.value[0].field_name==''"}],staticClass:"value"},[t._v("--")])]):e("div",{staticClass:"item"},[e("span",{staticClass:"label",style:{flex:"0 0 ".concat(t.lastConfig.labelWidth,"px")},domProps:{textContent:t._s(a.label)}}),e("span",{staticClass:"value",class:{"zt-ellipsis":!t.lastConfig.isWrap},attrs:{title:a.value},domProps:{textContent:t._s(a.value)},on:{click:function(e){return e.stopPropagation(),t.clickEventValue(a)}}})])]],2)})),1)],1)}),[],!1,null,"4d9ed5e6",null);e.a=s.exports},"0986":function(t,e,a){var o=a("d74e");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("6fe308dc",o,!0,{sourceMap:!1,shadowMode:!1})},"0f7f":function(t,e,a){"use strict";a("009b")},"16b7":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-3ef7e8ac]{color:#1740dc}.success-color[data-v-3ef7e8ac]{color:#52c41a}.warning-color[data-v-3ef7e8ac]{color:#faad14}.error-color[data-v-3ef7e8ac]{color:#f5222d}.info-color[data-v-3ef7e8ac]{color:#909399}.border-color[data-v-3ef7e8ac]{border:1px solid #e5e6e9}.status_groups[data-v-3ef7e8ac]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px}.status_groups .status[data-v-3ef7e8ac]{margin-right:10px;color:#666}.event_table[data-v-3ef7e8ac]{margin-top:18px}.status_point[data-v-3ef7e8ac]{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:4px}.status_point.unrun[data-v-3ef7e8ac]{background:#909399}.status_point.runing[data-v-3ef7e8ac]{background:#1740dc}.status_point.success[data-v-3ef7e8ac]{background:#52c41a}.status_point.failed[data-v-3ef7e8ac]{background:#f5222d}.status_point.stop[data-v-3ef7e8ac]{background:#faad14}.status_point.sum[data-v-3ef7e8ac]{background:#000}",""])},1957:function(t,e,a){var o=a("5afa");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("5c32dfb4",o,!0,{sourceMap:!1,shadowMode:!1})},2579:function(t,e,a){var o=a("3f1a");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("1bbd1dea",o,!0,{sourceMap:!1,shadowMode:!1})},2794:function(t,e,a){var o=a("d6af");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("2531dbca",o,!0,{sourceMap:!1,shadowMode:!1})},"2ca3":function(t,e,a){var o=a("6674");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("617c112b",o,!0,{sourceMap:!1,shadowMode:!1})},"2f21":function(t,e,a){"use strict";var o=a("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"326e":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-fee86612]{color:#1740dc}.success-color[data-v-fee86612]{color:#52c41a}.warning-color[data-v-fee86612]{color:#faad14}.error-color[data-v-fee86612]{color:#f5222d}.info-color[data-v-fee86612]{color:#909399}.border-color[data-v-fee86612]{border:1px solid #e5e6e9}.task_operations_off_link_task[data-v-fee86612]{height:100%}.task_operations_off_link_task .status_groups[data-v-fee86612]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px}.task_operations_off_link_task .status_groups .status[data-v-fee86612]{margin-right:10px;color:#666}.task_operations_off_link_task .operations_table[data-v-fee86612]{margin-top:18px}.task_operations_off_link_task .status_point[data-v-fee86612]{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:4px}.task_operations_off_link_task .status_point.unrun[data-v-fee86612]{background:#909399}.task_operations_off_link_task .status_point.runing[data-v-fee86612]{background:#1740dc}.task_operations_off_link_task .status_point.success[data-v-fee86612]{background:#52c41a}.task_operations_off_link_task .status_point.failed[data-v-fee86612]{background:#f5222d}.task_operations_off_link_task .status_point.stop[data-v-fee86612]{background:#faad14}.task_operations_off_link_task .status_point.sum[data-v-fee86612]{background:#000}.task_operations_off_link_task .out_hours[data-v-fee86612]{background:rgba(250,174,20,.1);color:#faae14;font-size:10px;padding:2px;margin-left:6px;border:1px solid #faae14}",""])},3938:function(t,e,a){"use strict";a("ee26")},"396e":function(t,e,a){"use strict";a("9c8f")},"3a0f":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-235cf962]{color:#1740dc}.success-color[data-v-235cf962]{color:#52c41a}.warning-color[data-v-235cf962]{color:#faad14}.error-color[data-v-235cf962]{color:#f5222d}.info-color[data-v-235cf962]{color:#909399}.border-color[data-v-235cf962]{border:1px solid #e5e6e9}.task_oprations_task_details_log[data-v-235cf962]{padding:18px;white-space:pre-line}",""])},"3b60":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.parameter{font-size:13px;color:#303133}.parameter,.parameter .info{margin-top:10px}.parameter .info div{margin-bottom:10px}.parameter .info div .title{margin-right:15px}",""])},"3f1a":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-25d55879]{color:#1740dc}.success-color[data-v-25d55879]{color:#52c41a}.warning-color[data-v-25d55879]{color:#faad14}.error-color[data-v-25d55879]{color:#f5222d}.info-color[data-v-25d55879]{color:#909399}.border-color[data-v-25d55879]{border:1px solid #e5e6e9}.task_operations_real_time_task[data-v-25d55879]{height:100%}.task_operations_real_time_task .status_groups[data-v-25d55879]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:12px}.task_operations_real_time_task .status_groups .status[data-v-25d55879]{margin-right:10px;color:#666}.task_operations_real_time_task .operations_table[data-v-25d55879]{margin-top:18px}.task_operations_real_time_task .status_point[data-v-25d55879]{width:8px;height:8px;border-radius:50%;display:inline-block;margin-right:4px}.task_operations_real_time_task .status_point.unrun[data-v-25d55879]{background:#909399}.task_operations_real_time_task .status_point.runing[data-v-25d55879]{background:#1740dc}.task_operations_real_time_task .status_point.success[data-v-25d55879]{background:#52c41a}.task_operations_real_time_task .status_point.failed[data-v-25d55879]{background:#f5222d}.task_operations_real_time_task .status_point.stop[data-v-25d55879]{background:#faad14}.task_operations_real_time_task .status_point.sum[data-v-25d55879]{background:#000}",""])},"451e":function(t,e,a){"use strict";a("2579")},"454f":function(t,e,a){var o=a("d76e");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("2f89b941",o,!0,{sourceMap:!1,shadowMode:!1})},"49dc":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.task_operations_task_details_index{height:100%}.task_operations_task_details_index .detail_header .item .el-button{margin:0;padding:0!important}.task_operations_task_details_index .detail_body{height:calc(100% - 53px)}.task_operations_task_details_index .detail_body .el-tabs{height:100%}.task_operations_task_details_index .detail_body .el-tabs .el-tabs__content{height:calc(100% - 56px);overflow:auto}.task_operations_task_details_index .el-tabs--card>.el-tabs__header .el-tabs__nav{border-top:none}",""])},"51ee":function(t,e,a){var o=a("e05f");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("dbb924e8",o,!0,{sourceMap:!1,shadowMode:!1})},"55dd":function(t,e,a){"use strict";var o=a("5ca1"),i=a("d8e8"),r=a("4bf8"),n=a("79e5"),s=[].sort,l=[1,2,3];o(o.P+o.F*(n((function(){l.sort(void 0)}))||!n((function(){l.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),i(t))}})},"5afa":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-0ed5f19a]{color:#1740dc}.success-color[data-v-0ed5f19a]{color:#52c41a}.warning-color[data-v-0ed5f19a]{color:#faad14}.error-color[data-v-0ed5f19a]{color:#f5222d}.info-color[data-v-0ed5f19a]{color:#909399}.border-color[data-v-0ed5f19a]{border:1px solid #e5e6e9}.detail-box .info[data-v-0ed5f19a]{color:#f5222d}.detail-box p[data-v-0ed5f19a]{margin-bottom:10px}",""])},"5d03":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-63c329e8]{color:#1740dc}.success-color[data-v-63c329e8]{color:#52c41a}.warning-color[data-v-63c329e8]{color:#faad14}.error-color[data-v-63c329e8]{color:#f5222d}.info-color[data-v-63c329e8]{color:#909399}.border-color[data-v-63c329e8]{border:1px solid #e5e6e9}.task_operations_task_details_index .detail_header[data-v-63c329e8]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:10px;border-bottom:1px solid #e9e9e9}.task_operations_task_details_index .detail_header .item[data-v-63c329e8]{margin-right:10px;line-height:32px}",""])},"5d23":function(t,e,a){var o=a("001f");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("c1a18b9c",o,!0,{sourceMap:!1,shadowMode:!1})},"5d25":function(t,e,a){"use strict";a("e17a")},6674:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-1568007b]{color:#1740dc}.success-color[data-v-1568007b]{color:#52c41a}.warning-color[data-v-1568007b]{color:#faad14}.error-color[data-v-1568007b]{color:#f5222d}.info-color[data-v-1568007b]{color:#909399}.border-color[data-v-1568007b]{border:1px solid #e5e6e9}.el-table td[data-v-1568007b]{border-bottom:none!important}.noPad td[data-v-1568007b],.noPad th.is-leaf[data-v-1568007b]{border:none}",""])},"6bcc":function(t,e,a){"use strict";a("2794")},"72a4":function(t,e,a){"use strict";a("e399")},"72bd":function(t,e,a){var o=a("aefe");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("2afd0d6f",o,!0,{sourceMap:!1,shadowMode:!1})},"78f9":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-56496345]{color:#1740dc}.success-color[data-v-56496345]{color:#52c41a}.warning-color[data-v-56496345]{color:#faad14}.error-color[data-v-56496345]{color:#f5222d}.info-color[data-v-56496345]{color:#909399}.border-color[data-v-56496345]{border:1px solid #e5e6e9}.detailList[data-v-56496345]{font-size:13px;color:#303133}.detailList[data-v-56496345],.detailList .title[data-v-56496345]{margin-top:10px}.detailList .title .info[data-v-56496345]{margin-left:15px}",""])},"795d6":function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-569a9f64]{color:#1740dc}.success-color[data-v-569a9f64]{color:#52c41a}.warning-color[data-v-569a9f64]{color:#faad14}.error-color[data-v-569a9f64]{color:#f5222d}.info-color[data-v-569a9f64]{color:#909399}.border-color[data-v-569a9f64]{border:1px solid #e5e6e9}.task_opertations_taskdetails_taskmanager[data-v-569a9f64]{padding:10px}.task_opertations_taskdetails_taskmanager h2[data-v-569a9f64]{margin-bottom:8px}",""])},"7bda":function(t,e,a){"use strict";a("df9c")},"7de7":function(t,e,a){"use strict";a("0986")},"80bd":function(t,e,a){var o=a("78f9");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("3bc7eb74",o,!0,{sourceMap:!1,shadowMode:!1})},"86b9":function(t,e,a){"use strict";a.d(e,"n",(function(){return c})),a.d(e,"g",(function(){return d})),a.d(e,"e",(function(){return u})),a.d(e,"d",(function(){return p})),a.d(e,"h",(function(){return f})),a.d(e,"a",(function(){return m})),a.d(e,"f",(function(){return h})),a.d(e,"m",(function(){return g})),a.d(e,"b",(function(){return b})),a.d(e,"q",(function(){return v})),a.d(e,"p",(function(){return _})),a.d(e,"o",(function(){return w})),a.d(e,"i",(function(){return y})),a.d(e,"k",(function(){return k})),a.d(e,"j",(function(){return x})),a.d(e,"l",(function(){return D})),a.d(e,"c",(function(){return I}));a("8e6e"),a("ac6a"),a("456d");var o=a("ade3"),i=a("2b0e"),r=a("fedb"),n=a("ca00");function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c=function(t){return i.default.http.post(r.a.saveNodeData,t)},d=function(t){return i.default.http.get(r.a.getMetaDbListByConnect+"/".concat(t))},u=function(t){return i.default.http.get(r.a.getConfDbListByConnect+"/".concat(t))},p=function(t){return i.default.http.get(r.a.getConfConnectListAllKafka,{params:t})},f=function(t){return i.default.http.get(r.a.getNodeDetail,{params:t})},m=function(t){return i.default.http.post(r.a.deleteNodeConnect,t)},h=function(){return i.default.http.get(r.a.getFieldTypes)},g=function(t){return i.default.http.get(Object(n.e)(r.a.reviewSql,{id:t}))},b=function(){return i.default.http.get(r.a.downLoadFieldFile,{responseType:"arraybuffer"})},v=function(t){return i.default.http.post(r.a.uploadFieldFile,t)},_=function(t){return i.default.http.get(r.a.taskGetPartFields,{params:t})},w=function(t){return i.default.http.post(r.a.tableViewData,t)},y=function(t){return i.default.http.post(r.a.getProcInfoListDbs,l({},t))},k=function(t){return i.default.http.post(r.a.getRealTimeTableList,t)},x=function(t){var e=t.id;return i.default.http.get(r.a.getRealTimeDetail+"/".concat(e))},D=function(t){return i.default.http.post(r.a.getTableInfoListNew,t)},I=function(t){return i.default.http.get(r.a.getAllFields,{params:t})}},8733:function(t,e,a){"use strict";a("2ca3")},8871:function(t,e,a){"use strict";a("80bd")},9461:function(t,e,a){"use strict";a("a212")},"97ed":function(t,e,a){"use strict";a("454f")},"9c8f":function(t,e,a){var o=a("49dc");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("d447a1f2",o,!0,{sourceMap:!1,shadowMode:!1})},"9f69":function(t,e,a){"use strict";a("e03c")},a212:function(t,e,a){var o=a("ae03");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("3b366c9a",o,!0,{sourceMap:!1,shadowMode:!1})},a25b:function(t,e,a){"use strict";a("1957")},aafb:function(t,e,a){var o=a("795d6");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("90183b44",o,!0,{sourceMap:!1,shadowMode:!1})},ae03:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-22aa6a23]{color:#1740dc}.success-color[data-v-22aa6a23]{color:#52c41a}.warning-color[data-v-22aa6a23]{color:#faad14}.error-color[data-v-22aa6a23]{color:#f5222d}.info-color[data-v-22aa6a23]{color:#909399}.border-color[data-v-22aa6a23]{border:1px solid #e5e6e9}.nopad[data-v-22aa6a23] .el-dialog__body{padding-top:0!important}",""])},aefe:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-4d9ed5e6]{color:#1740dc}.success-color[data-v-4d9ed5e6]{color:#52c41a}.warning-color[data-v-4d9ed5e6]{color:#faad14}.error-color[data-v-4d9ed5e6]{color:#f5222d}.info-color[data-v-4d9ed5e6]{color:#909399}.border-color[data-v-4d9ed5e6]{border:1px solid #e5e6e9}.detailListInfo .row[data-v-4d9ed5e6]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;-ms-flex-wrap:wrap;flex-wrap:wrap}.detailListInfo .item[data-v-4d9ed5e6]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;line-height:30px}.detailListInfo .item[data-v-4d9ed5e6]:last-child{margin-bottom:0}.detailListInfo .label[data-v-4d9ed5e6]{color:rgba(4,12,44,.85);font-size:12px}.detailListInfo .value[data-v-4d9ed5e6]{font-size:12px;color:#040c2c;-webkit-box-flex:1;-ms-flex:1;flex:1}",""])},b39a:function(t,e,a){var o=a("d3f4");t.exports=function(t,e){if(!o(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b6e4:function(t,e,a){"use strict";a("51ee")},c0bd5:function(t,e,a){"use strict";a("ebce")},c138:function(t,e,a){"use strict";a.r(e);a("7f7f"),a("386d"),a("8e6e"),a("ac6a"),a("456d");var o=a("ade3"),i=(a("96cf"),a("1da1")),r=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("5797"));function n(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return n=t.done,t},e:function(t){l=!0,r=t},f:function(){try{n||null==a.return||a.return()}finally{if(l)throw r}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}var l,c={props:{work:{type:Object,default:function(){return{}}}},components:{board:r.a},computed:{wsUrl:function(){return this.$store.state.permission.wsUrl}},data:function(){return{workFlow:{},workFlowData:{nodes:[],edges:[]},isEditMeneShowType:-1,isEditMenuShow:!1,activeNode:""}},methods:{openWorkFlowMenu:(l=Object(i.a)(regeneratorRuntime.mark((function t(){var e,a,o,i,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=4==this.workFlow.workType?this.$URL.openWorkFlowMenu:this.$URL.openWorkFlow,a={id:this.workFlow.workFlowId},t.next=4,this.http.get(e,{params:a});case 4:o=t.sent,i=o.data.data,this.workFlowData=i,this.socket(this.workFlow.workFlowId),this.workFlowData.nodes=this.workFlowData.nodes.map((function(t){return t.pos_x=t.posX,t.pos_y=t.posY,t.out_ports=[0],t.in_ports=[0],t.type=t.iconClassName=1==t.typeId?"ds":2==t.typeId?"sql":4==t.typeId?"table":8==t.typeId?"checkTask":"jobFlow",r.$set(t,"state",1==t.isNullRun?"runnull":"default"),t})),this.workFlowData.edges.filter((function(t){return 0!=t.srcNodeId})),this.workFlowData.edges=this.workFlowData.edges.map((function(t){return t.dst_node_id=t.dstNodeId,t.src_node_id=t.srcNodeId,t.type="default",t}));case 11:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)}),contextmenu:function(t,e,a){var o=this.$refs.edit_menu;document.body.clientHeight-t.clientY-40>o.offsetHeight?o.style.top=t.clientY+5+"px":o.style.top=t.clientY-o.offsetHeight+"px",document.body.clientWidth-t.clientX-20>o.offsetWidth?o.style.left=t.clientX-20+"px":o.style.left=t.clientX-o.offsetWidth+"px",this.isEditMenuShow=!0,this.activeNode=e,this.isEditMeneShowType=a},workMenuRunNodeJob:function(){var t=this;this.isLoading=!0;var e={id:this.activeNode.id};this.$API.post(this.$URL.workMenuRunNodeJob,e,(function(e){t.isLoading=!1,0==e.code?(t.$message.success("重跑当前节点成功"),t.isRun=2):t.$message.error(e.msg)}))},workMenuRunUpJob:function(){var t=this;this.isLoading=!0;var e={id:this.activeNode.id};this.$API.post(this.$URL.workMenuRunUpJob,e,(function(e){t.isLoading=!1,0==e.code?(t.$message.success("重跑上游成功"),t.isRun=2):t.$message.error(e.msg)}))},workMenuRunDownJob:function(){var t=this;this.isLoading=!0;var e={id:this.activeNode.id};this.$API.post(this.$URL.workMenuRunDownJob,e,(function(e){t.isLoading=!1,0==e.code?(t.$message.success("重跑下游成功"),t.isRun=2):t.$message.error(e.msg)}))},socket:function(t){"WebSocket"in window?(this.ws=new WebSocket("".concat(this.wsUrl,"dataDevelopment/workflow/status/").concat(t,"/null?token=").concat(this.$store.state.old.admin_info.token)),this.ws.onopen=function(){},this.ws.onerror=function(){},this.ws.onclose=function(){},this.ws.onmessage=this.wsMessage):this.$message.error("您的浏览器不支持 WebSocket，请更换浏览器，否则此页面无法正常运行")},wsMessage:function(t){if("连接成功！"!=t.data){var e=JSON.parse(t.data).nodeList;if(e&&e.length>0){var a,o=n(e);try{for(o.s();!(a=o.n()).done;){var i=a.value,r=i.status,s=i.isOutHours;this.isRun=JSON.parse(t.data).status;var l,c=n(this.workFlowData.nodes);try{for(c.s();!(l=c.n()).done;){var d=l.value;d.id==i.id&&(this.$set(d,"state",0==r?"error":1==r?"success":2==r?"active":5==r?"stop":"default"),this.$set(d,"isOutHours",s))}}catch(t){c.e(t)}finally{c.f()}var u,p=n(this.workFlowData.edges);try{for(p.s();!(u=p.n()).done;){var f=u.value;i.id==f.srcNodeId&&this.$set(f,"type",0==r?"error":1==r?"success":2==r?"active":"default")}}catch(t){p.e(t)}finally{p.f()}}}catch(t){o.e(t)}finally{o.f()}}}}},destroyed:function(){this.ws.close()},mounted:function(){var t=this;document.body.addEventListener("click",(function(){t.isEditMenuShow=!1}))},watch:{work:{handler:function(t){Object.keys(t||{}).length>0&&(this.workFlow=t,this.openWorkFlowMenu())},immediate:!0}}},d=(a("c0bd5"),a("2877")),u=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"off_task_details",staticStyle:{height:"100%"}},[e("h4",{staticStyle:{padding:"10px"}},[t._v("名称："+t._s(t.workFlow.name))]),e("board",{ref:"board",attrs:{disabled:!0,showType:!0,workFlowData:t.workFlowData},on:{contextmenu:t.contextmenu}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditMenuShow,expression:"isEditMenuShow"}]},[e("ul",{ref:"edit_menu",attrs:{id:"edit_menu"}},[1==t.isEditMeneShowType?e("li",{on:{click:t.workMenuRunNodeJob}},[t._v("\n        重跑当前节点\n      ")]):t._e(),1==t.isEditMeneShowType&&1==t.activeNode.isUp?e("li",{on:{click:t.workMenuRunUpJob}},[t._v("\n        重跑上游\n      ")]):t._e(),1==t.isEditMeneShowType&&1==t.activeNode.isDown?e("li",{on:{click:t.workMenuRunDownJob}},[t._v("\n        重跑下游\n      ")]):t._e()])])],1)}),[],!1,null,"21682ad0",null).exports,p=a("50f0"),f={data:function(){return{dialogCreate:!1,loading:!1,dataDetail:{}}},methods:{init:function(t){this.dialogCreate=!0,this.getJobAddRecordDetail(t)},getJobAddRecordDetail:function(t){var e=this;this.$API.get(this.$URL.getJobAddRecordDetail+"/"+t,{},(function(t){0==t.code?e.dataDetail=t.data:e.$message.error(t.msg)}))},handleClose:function(){this.dialogCreate=!1},sure:function(){var t=this;this.loading=!0,this.$API.post(this.$URL.getJobAddRecordRunJobAddRecord+"?id="+this.dataDetail.id,{},(function(e){0==e.code?(t.$emit("Refresh"),t.$message.success("提交成功"),t.dialogCreate=!1):t.$message.error(e.msg),t.loading=!1}))}}},m=(a("a25b"),Object(d.a)(f,(function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{staticClass:"nopad",attrs:{title:"提交补录",visible:t.dialogCreate,width:"50%","append-to-body":"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogCreate=e}}},[e("div",{staticClass:"detail-box"},[e("p",{staticClass:"info"},[t._v("注意:提交后无法变更补录任务信息，请谨慎操作")]),e("p",[t._v("补录名称： "+t._s(t.dataDetail&&t.dataDetail.addRecordName))]),e("p",[t._v("补录类型："+t._s(t.dataDetail&&t.dataDetail.addRecordTypeName))]),e("p",[t._v("选择任务："+t._s(t.dataDetail&&t.dataDetail.addRecordJobName))]),e("p",[t._v("补录粒度："+t._s(t.dataDetail&&1==t.dataDetail.addRecordGrain?"月":"天"))]),e("p",[t._v("补录日期： "+t._s(t.dataDetail&&t.dataDetail.addRecordTimeDesc))]),1==t.dataDetail.addRecordGrain?e("p",t._l(t.dataDetail.addRecordTimes,(function(a){return e("span",{key:a.id,staticStyle:{"margin-right":"10px"}},[t._v(t._s(a.addRecordDate))])})),0):t._e(),2==t.dataDetail.addRecordGrain?e("p",t._l(t.dataDetail.addRecordTimes,(function(a){return e("span",{key:a.id,staticStyle:{"margin-right":"10px"}},[t._v(t._s(a.addRecordDate)+"~"+t._s(a.addRecordDateEnd))])})),0):t._e(),e("p",[t._v("是否并行："+t._s(t.dataDetail&&0==t.dataDetail.isOpenConcurrence?"否":"是"))]),e("p",[t._v("补录顺序："+t._s(t.dataDetail&&1==t.dataDetail.addRecordOrder?"按照补录日期逆序":"按补录日期正序"))])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"default"},on:{click:t.handleClose}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.sure}},[t._v("确定")])],1)])],1)}),[],!1,null,"0ed5f19a",null).exports),h=a("c466");function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}var b={data:function(){return{loading:!1,dialogCreate:!1,jobId:null,procId:null,id:null,typeList:[],nodeIdList:[],makeupData:{addRecordName:"",addRecordType:"",addRecordNodeId:"",addRecordGrain:"1",addRecordOrder:"0",date:[{addRecordDate:""}],date2:[{addRecordDate:""}],isOpenConcurrence:!1},rules:{addRecordName:[{required:!0,message:"请输入0-50字符，支持中英文开头，数字，下划线组合",trigger:"blur",pattern:"^[一-龥a-zA-Z][一-龥a-zA-Z0-9_]{0,49}$"}],addRecordType:[{required:!0,message:"请选择补录类型",trigger:"change"}],addRecordNodeId:[{required:!0,message:"请选择任务",trigger:"change"}],addRecordGrain:[{required:!0,message:"请选择补录粒度",trigger:"change"}],addRecordOrder:[{required:!0,message:"请选择补录顺序",trigger:"change"}]}}},methods:{init:function(t,e,a){this.jobId=t,this.procId=e,this.getJobAddRecordJobAddRecordTypes(),this.getJobAddRecordJobNodes(),this.dialogCreate=!0,a&&(this.id=a,this.editDetail(a))},editDetail:function(t){var e=this;this.$API.get(this.$URL.getJobAddRecordDetail+"/"+t,{},(function(t){0==t.code?(e.makeupData.addRecordName=t.data.addRecordName,e.makeupData.addRecordType=t.data.addRecordType,e.makeupData.addRecordNodeId=t.data.addRecordNodeId,e.makeupData.addRecordGrain=t.data.addRecordGrain+"",e.makeupData.addRecordOrder=t.data.addRecordOrder+"",e.makeupData.isOpenConcurrence=0!=t.data.isOpenConcurrence,"2"==e.makeupData.addRecordGrain?e.makeupData.date2=t.data.addRecordTimes.map((function(t){return{addRecordDate:[new Date(t.addRecordDate+""),new Date(t.addRecordDateEnd+"")]}})):e.makeupData.date=t.data.addRecordTimes.map((function(t){return{addRecordDate:t.addRecordDate+""}}))):e.$message.error(t.msg)}))},getJobAddRecordJobAddRecordTypes:function(){var t=this;this.$API.get(this.$URL.getJobAddRecordJobAddRecordTypes,{},(function(e){0==e.code?t.typeList=e.data:t.$message.error(e.msg)}))},getJobAddRecordJobNodes:function(){var t=this;this.$API.get(this.$URL.getJobAddRecordJobNodes+"/"+this.jobId,{},(function(e){0==e.code?t.nodeIdList=e.data:t.$message.error(e.msg)}))},changeFun:function(t){},grainChange:function(){},handleClose:function(){this.id=null,this.$refs.ruleForm.resetFields(),this.makeupData={addRecordName:"",addRecordType:"",addRecordNodeId:"",addRecordGrain:"1",addRecordOrder:"0",date:[{addRecordDate:""}],date2:[{addRecordDate:""}],isOpenConcurrence:!1},this.dialogCreate=!1},addDate:function(){"1"==this.makeupData.addRecordGrain?this.makeupData.date.push({addRecordDate:""}):this.makeupData.date2.push({addRecordDate:""})},removeDate:function(t){"1"==this.makeupData.addRecordGrain?this.makeupData.date.remove(t.row):this.makeupData.date2.remove(t.row)},sure:function(){var t=this;this.$refs.ruleForm.validate((function(e){if(e){var a=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({id:t.id},t.makeupData),i=[];1==a.addRecordGrain?(i=a.date,delete a.date2,delete a.date):(i=a.date2.map((function(t){return{addRecordDate:Object(h.a)(t.addRecordDate[0],"yyyy-MM-dd"),addRecordDateEnd:Object(h.a)(t.addRecordDate[1],"yyyy-MM-dd")}})),delete a.date2,delete a.date),a.addRecordTimes=i,a.procId=t.procId,a.addRecordJobId=t.jobId,a.isOpenConcurrence=a.isOpenConcurrence?1:0,a.addRecordTimes=i,t.loading=!0,t.$API.post(t.$URL.getJobAddRecordSave,a,(function(e){0==e.code?(t.$emit("Refresh"),t.$message.success("提交成功"),t.handleClose()):t.$message.error(e.msg),t.loading=!1}))}}))}}};a("8733");function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function _(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={components:{makeDetails:m,dataMakeUp:Object(d.a)(b,(function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.id?"编辑补录":"新建补录",visible:t.dialogCreate,width:"50%","append-to-body":"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogCreate=e}}},[e("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"ruleForm",attrs:{model:t.makeupData,"label-width":"90px","label-position":"left",rules:t.rules}},[e("el-form-item",{attrs:{label:"补录名称:",prop:"addRecordName"}},[e("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入补录名称；支持中英文开头，数字下划线组合，50字符以内"},model:{value:t.makeupData.addRecordName,callback:function(e){t.$set(t.makeupData,"addRecordName",e)},expression:"makeupData.addRecordName"}})],1),e("el-form-item",{attrs:{label:"补录类型:",prop:"addRecordType"}},[e("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择补录类型"},model:{value:t.makeupData.addRecordType,callback:function(e){t.$set(t.makeupData,"addRecordType",e)},expression:"makeupData.addRecordType"}},t._l(t.typeList,(function(t){return e("el-option",{key:t.code+"u",attrs:{label:t.name,value:t.code}})})),1)],1),e("el-form-item",{attrs:{label:"选择任务:",prop:"addRecordNodeId"}},[e("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择任务"},model:{value:t.makeupData.addRecordNodeId,callback:function(e){t.$set(t.makeupData,"addRecordNodeId",e)},expression:"makeupData.addRecordNodeId"}},t._l(t.nodeIdList,(function(t){return e("el-option",{key:t.id+"u",attrs:{label:t.name,value:t.id,disabled:1==t.canEdit}})})),1)],1),e("el-form-item",{attrs:{label:"补录粒度:",prop:"addRecordGrain"}},[e("el-radio-group",{on:{change:t.grainChange},model:{value:t.makeupData.addRecordGrain,callback:function(e){t.$set(t.makeupData,"addRecordGrain",e)},expression:"makeupData.addRecordGrain"}},[e("el-radio",{attrs:{label:"1"}},[t._v("月")]),e("el-radio",{attrs:{label:"2"}},[t._v("天")])],1),e("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tool-tip-search",effect:"dark",content:"若选择月，则补录实例仅按月生成；选择天，则补录实例按天生成",placement:"top-start"}},[e("i",{staticClass:"icon icon-ic_remind",staticStyle:{"margin-left":"15px"}})])],1),e("el-table",{staticClass:"noPad",staticStyle:{"margin-left":"-10px"},attrs:{data:"1"==t.makeupData.addRecordGrain?t.makeupData.date:t.makeupData.date2,size:"mini",width:"100","show-header":!1}},[e("el-table-column",{attrs:{"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-form-item",{attrs:{label:"补录日期:",prop:"1"==t.makeupData.addRecordGrain?"date."+a.$index+".addRecordDate":"date2."+a.$index+".addRecordDate",rules:{required:!0,message:"请输入补录日期",trigger:"blur"}}},[e("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"1"==t.makeupData.addRecordGrain,expression:"makeupData.addRecordGrain == '1'"}],attrs:{type:"month","value-format":"yyyy-MM",placeholder:"选择日期"},model:{value:a.row.addRecordDate,callback:function(e){t.$set(a.row,"addRecordDate",e)},expression:"scope.row.addRecordDate"}}),e("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:"2"==t.makeupData.addRecordGrain,expression:"makeupData.addRecordGrain == '2'"}],attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",placeholder:"选择日期"},model:{value:a.row.addRecordDate,callback:function(e){t.$set(a.row,"addRecordDate",e)},expression:"scope.row.addRecordDate"}}),0==a.$index?e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default"},on:{click:t.addDate}},[t._v("+ 添加")]):t._e(),0==a.$index?e("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tool-tip-search",effect:"dark",content:"2"==t.makeupData.addRecordGrain?"按补录日期生成补录实例，若补录粒度选择天，则最多不超过180天，即半年的补录日期":"按补录日期生成补录实例，若补录粒度选择月，则最多不超过6个月，即半年的补录日期",placement:"top-start"}},[e("i",{staticClass:"icon icon-ic_remind",staticStyle:{"margin-left":"15px"}})]):t._e(),a.$index>0?e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default"},on:{click:function(e){return t.removeDate(a)}}},[t._v("删除")]):t._e()],1)]}}])})],1),e("el-form-item",{attrs:{label:"是否并行:"}},[e("el-checkbox",{model:{value:t.makeupData.isOpenConcurrence,callback:function(e){t.$set(t.makeupData,"isOpenConcurrence",e)},expression:"makeupData.isOpenConcurrence"}}),e("el-tooltip",{staticClass:"item",attrs:{"popper-class":"tool-tip-search",effect:"dark",content:"并行指的是补录实例按补录日期生成实例之后，勾选并行即并行模式只支持30个并发池，无序进入池子运行",placement:"top-start"}},[e("i",{staticClass:"icon icon-ic_remind",staticStyle:{"margin-left":"15px"}})])],1),e("el-form-item",{attrs:{label:"补录顺序:",prop:"addRecordOrder"}},[e("el-radio-group",{model:{value:t.makeupData.addRecordOrder,callback:function(e){t.$set(t.makeupData,"addRecordOrder",e)},expression:"makeupData.addRecordOrder"}},[e("el-radio",{attrs:{label:"0"}},[t._v("按补录日期正序")]),e("el-radio",{attrs:{label:"1"}},[t._v("按补录日期倒序")])],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"default"},on:{click:t.handleClose}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.sure}},[t._v("确定")])],1)],1)],1)}),[],!1,null,"1568007b",null).exports,filterTBHeader:p.a},data:function(){return{dialogCreate:!1,newTableLoading:!1,tableDataLoading:!1,reatRunLoading:!1,stopLoading:!1,jobId:null,procId:null,activeName:"add",factoryLists:[],tableList:[],tableData:[],newTableData:[],runStatesNew:[{value:1,text:"未提交"},{value:2,text:"正在补录"},{value:3,text:"补录失败"},{value:4,text:"补录成功"}],runStates:[{value:2,text:"正在补录"},{value:3,text:"补录失败"},{value:4,text:"补录成功"},{value:5,text:"补录停止"},{value:7,text:"等待补录"}],makeUpDateValue:"",dateValue:"",page:1,pageSize:10,totalCount:0,pagelist:1,pageSizelist:10,totalCountlist:0,formInline:{addRecordName:"",addRecordStatus:""},formInfo:{addRecordStatus:""}}},methods:{init:function(t,e){this.jobId=t,this.procId=e,this.dialogCreate=!0,this.getJobAddRecordList(),this.getJobAddRecordInfos()},getJobAddRecordStopJobAddRecord:function(t){var e=this;this.$confirm("你确定要停止补录任务吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a;a=t?[t]:e.tableList,e.stopLoading=!0,e.$API.post(e.$URL.getJobAddRecordStopJobAddRecord,{ids:a},(function(t){0==t.code?(e.getJobAddRecordInfos(),e.$message.success("停止成功!")):e.$message.error(t.msg),e.stopLoading=!1}))})).catch((function(){}))},getJobAddRecordRerunJobAddRecord:function(t){var e=this;this.$confirm("你确定要重跑补录任务吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a;a=t?[t]:e.tableList,e.reatRunLoading=!0,e.$API.post(e.$URL.getJobAddRecordRerunJobAddRecord,{ids:a},(function(t){0==t.code?(e.getJobAddRecordInfos(),e.$message.success("重跑成功!")):e.$message.error(t.msg),e.reatRunLoading=!1}))})).catch((function(){}))},handleSelectionChange:function(t){this.tableList=t.map((function(t){return t.id}))},submit:function(t){this.$refs.makeDetails.init(t)},edit:function(t){this.$refs.dataMakeUp.init(this.jobId,this.procId,t)},clickDataMakeUp:function(){this.$refs.dataMakeUp.init(this.jobId,this.procId)},logTableHandle:function(t,e){1==e?window.open(window.location.origin+"/#/jobAddRecordLogInfo?"+"id=".concat(t.row.addRecordJobId)+"&logId=".concat(t.row.id)):window.open(window.location.origin+"/#/jobAddRecordLogInfo?"+"id=".concat(t.row.id))},getJobAddRecordInfos:function(){var t=this;this.tableDataLoading=!0;var e=_({jobId:this.jobId,page:this.pagelist,limit:this.pageSizelist,addRecordDateStart:this.dateValue?this.dateValue[0]:null,addRecordDateEnd:this.dateValue?this.dateValue[1]:null,addRecordRunTimeStart:this.makeUpDateValue?this.makeUpDateValue[0]:null,addRecordRunTimeEnd:this.makeUpDateValue?this.makeUpDateValue[1]:null},this.formInfo);this.$API.post(this.$URL.getJobAddRecordInfos,e,(function(e){0==e.code?(t.tableData=e.page.list,t.totalCountlist=e.page.totalCount,t.tableDataLoading=!1):(t.$message.error(e.msg),t.tableDataLoading=!1)}))},getJobAddRecordList:function(){var t=this;this.newTableLoading=!0;var e=_({jobId:this.jobId,page:this.page,limit:this.pageSize},this.formInline);this.$API.post(this.$URL.getJobAddRecordList,e,(function(e){0==e.code?(t.newTableData=e.page.list,t.totalCount=e.page.totalCount,t.newTableLoading=!1):(t.$message.error(e.msg),t.newTableLoading=!1)}))},dateChange:function(){},sizeChangeHandle:function(t){this.pageSize=t,this.getJobAddRecordList()},currentChangeHandle:function(t){this.page=t,this.getJobAddRecordList()},sizeChangeHandlelist:function(t){this.pageSizelist=t,this.getJobAddRecordInfos()},currentChangeHandlelist:function(t){this.pagelist=t,this.getJobAddRecordInfos()},search:function(){this.page=1,this.getJobAddRecordList()},reset:function(){this.formInline.addRecordName="",this.search()},searchlist:function(){this.pagelist=1,this.getJobAddRecordInfos()},resetlist:function(){this.formInfo.addRecordStatus="",this.dateValue="",this.makeUpDateValue="",this.searchlist()},handleClick:function(){},handleClose:function(){this.formInline.addRecordName="",this.formInfo.addRecordStatus="",this.dateValue="",this.makeUpDateValue="",this.dialogCreate=!1}}},y=(a("9461"),Object(d.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dataMakeList"},[e("el-dialog",{staticClass:"nopad",attrs:{title:"数据补录",visible:t.dialogCreate,width:"96%","append-to-body":"","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogCreate=e}}},[e("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"新建补录",name:"add",lazy:""}},[e("el-form",{staticClass:"demo-form-inline",staticStyle:{"text-align":"right"},attrs:{inline:!0,model:t.formInline,size:"small"}},[e("el-form-item",{staticStyle:{float:"left"}},[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.clickDataMakeUp}},[t._v("新建补录")])],1),e("el-form-item",{staticClass:"date",staticStyle:{"margin-right":"20px"},attrs:{label:"补录名称:"}},[e("el-input",{staticClass:"form-inline",attrs:{placeholder:"请输入补录名称"},model:{value:t.formInline.addRecordName,callback:function(e){t.$set(t.formInline,"addRecordName","string"==typeof e?e.trim():e)},expression:"formInline.addRecordName"}})],1),e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.search}},[t._v("查询")])],1),e("el-form-item",{staticStyle:{"margin-right":"0"}},[e("el-button",{attrs:{size:"mini"},on:{click:t.reset}},[t._v("重置")])],1)],1),e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.newTableLoading,expression:"newTableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.newTableData}},[e("el-table-column",{attrs:{prop:"addRecordName","min-width":"200","show-overflow-tooltip":"",label:"补录名称"}}),e("el-table-column",{attrs:{prop:"addRecordNodeName","min-width":"200","show-overflow-tooltip":"",label:"任务"}}),e("el-table-column",{attrs:{prop:"addRecordRunTime","min-width":"200","show-overflow-tooltip":"",label:"补录实例运行日期"}}),e("el-table-column",{attrs:{prop:"addRecordStatus","min-width":"200","show-overflow-tooltip":"",label:"补录结果"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("filter-t-b-header",{attrs:{label:"补录结果",filter:t.runStatesNew,value:t.formInline.addRecordStatus},on:{"update:value":function(e){return t.$set(t.formInline,"addRecordStatus",e)},comfirm:t.search}})]}},{key:"default",fn:function(a){return[e("span",[t._v(t._s(1==a.row.addRecordStatus?"未提交":2==a.row.addRecordStatus?"正在补录":3==a.row.addRecordStatus?"补录失败":4==a.row.addRecordStatus?"补录成功":5==a.row.addRecordStatus?"补录停止":7==a.row.addRecordStatus?"等待补录":""))])]}}])}),e("el-table-column",{attrs:{fixed:"right",width:"160","header-align":"right",align:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",disabled:1!=a.row.addRecordStatus,size:"small"},on:{click:function(e){return t.submit(a.row.id)}}},[t._v("提交")]),e("el-button",{attrs:{type:"text",disabled:1!=a.row.addRecordStatus,size:"small"},on:{click:function(e){return t.edit(a.row.id)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text",disabled:1==a.row.addRecordStatus,size:"small"},on:{click:function(e){return t.logTableHandle(a)}}},[t._v("日志")])]}}])})],1),e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,50,100],"page-size":t.pageSize,total:t.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}})],1)],1),e("el-tab-pane",{attrs:{label:"补录列表",name:"list",lazy:""}},[e("el-form",{staticClass:"demo-form-inline",staticStyle:{"text-align":"right"},attrs:{inline:!0,model:t.formInline,size:"small"}},[e("el-form-item",{staticStyle:{float:"left"}},[e("el-button",{attrs:{size:"mini",type:"primary",disabled:0==t.tableList.length,loading:t.reatRunLoading},on:{click:function(e){return t.getJobAddRecordRerunJobAddRecord()}}},[t._v("批量重跑")])],1),e("el-form-item",{staticStyle:{float:"left"}},[e("el-button",{attrs:{size:"mini",type:"primary",disabled:0==t.tableList.length,loading:t.stopLoading},on:{click:function(e){return t.getJobAddRecordStopJobAddRecord()}}},[t._v("批量停止")])],1),e("el-form-item",{staticClass:"date",staticStyle:{"padding-top":"2px","margin-right":"20px"},attrs:{label:"补录日期:"}},[e("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange","range-separator":"~","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.dateValue,callback:function(e){t.dateValue=e},expression:"dateValue"}})],1),e("el-form-item",{staticClass:"date",staticStyle:{"padding-top":"2px","margin-right":"20px"},attrs:{label:"补录实例运行日期:"}},[e("el-date-picker",{staticStyle:{width:"320px"},attrs:{type:"datetimerange","range-separator":"~","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.makeUpDateValue,callback:function(e){t.makeUpDateValue=e},expression:"makeUpDateValue"}})],1),e("el-form-item",[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.searchlist}},[t._v("查询")])],1),e("el-form-item",{staticStyle:{"margin-right":"0"}},[e("el-button",{attrs:{size:"mini"},on:{click:t.resetlist}},[t._v("重置")])],1)],1),e("div",[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableDataLoading,expression:"tableDataLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"50"}}),e("el-table-column",{attrs:{prop:"addRecordName","min-width":"200","show-overflow-tooltip":"",label:"补录名称"}}),e("el-table-column",{attrs:{prop:"tmpAddRecordDate","min-width":"200","show-overflow-tooltip":"",label:"补录日期"}}),e("el-table-column",{attrs:{prop:"addRecordRunTime","min-width":"200","show-overflow-tooltip":"",label:"补录实例运行日期"}}),e("el-table-column",{attrs:{prop:"addRecordStatus","min-width":"200","show-overflow-tooltip":"",label:"补录结果"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("filter-t-b-header",{attrs:{label:"补录结果",filter:t.runStates,value:t.formInfo.addRecordStatus},on:{"update:value":function(e){return t.$set(t.formInfo,"addRecordStatus",e)},comfirm:t.searchlist}})]}},{key:"default",fn:function(a){return[e("span",[t._v(t._s(1==a.row.addRecordStatus?"未提交":2==a.row.addRecordStatus?"正在补录":3==a.row.addRecordStatus?"补录失败":4==a.row.addRecordStatus?"补录成功":5==a.row.addRecordStatus?"补录停止":7==a.row.addRecordStatus?"等待补录":""))])]}}])}),e("el-table-column",{attrs:{fixed:"right",width:"120","header-align":"right",align:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small",disabled:2!=a.row.addRecordStatus&&7!=a.row.addRecordStatus},on:{click:function(e){return t.getJobAddRecordStopJobAddRecord(a.row.id)}}},[t._v("停止")]),e("el-button",{attrs:{type:"text",size:"small",disabled:3!=a.row.jobAddRecordStatus&&4!=a.row.jobAddRecordStatus||!(3==a.row.addRecordStatus||4==a.row.addRecordStatus||5==a.row.addRecordStatus)},on:{click:function(e){return t.getJobAddRecordRerunJobAddRecord(a.row.id)}}},[t._v("重跑\n                ")]),e("el-button",{attrs:{type:"text",disabled:1==a.row.addRecordStatus,size:"small"},on:{click:function(e){return t.logTableHandle(a,1)}}},[t._v("日志")])]}}])})],1),e("el-pagination",{attrs:{"current-page":t.pagelist,"page-sizes":[10,20,50,100],"page-size":t.pageSizelist,total:t.totalCountlist,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandlelist,"current-change":t.currentChangeHandlelist}})],1)],1)],1)],1),e("makeDetails",{ref:"makeDetails",on:{Refresh:function(e){t.search(),t.searchlist()}}}),e("dataMakeUp",{ref:"dataMakeUp",on:{Refresh:t.search}})],1)}),[],!1,null,"22aa6a23",null).exports);function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var D,I,R={components:{offTaskDetial:u,filterTBHeader:p.a,dataMakeList:y},props:{statistics:{type:Object,default:""},projectList:{type:Array,default:[]},userList:{type:Array,default:[]}},data:function(){return{drawerTask:!1,workFlow:"",isLoading:!1,tabeleHeight:window.innerHeight-360,formInline:{procId:"",name:"",lastRunState:"",isOutHours:"",createPer:"",workType:3},runStates:[{value:0,text:"失败"},{value:7,text:"失败-阻断"},{value:1,text:"成功"},{value:8,text:"成功超时"},{value:2,text:"运行中"},{value:5,text:"停止"},{value:3,text:"从未运行"},{value:6,text:"调度未运行"}],statisticsData:{},page:{currPage:1,pageSize:10,totalCount:0},status:[{text:"从未运行",class:"unrun"},{text:"调度未运行",class:"unrun"},{text:"运行中",class:"runing"},{text:"成功",class:"success"},{text:"成功-超时",class:"success"},{text:"失败",class:"failed"},{text:"失败-阻断",class:"failed"},{text:"运行停止",class:"stop"},{text:"总数",class:"sum"}],projects:[],tableData:[],users:[],funIdListLength:"",selectData:[],btnLoading:!1}},computed:{statusList:function(){var t=this.statisticsData,e=t.offlineFail,a=void 0===e?0:e,o=t.offlineBlockFail,i=void 0===o?0:o,r=t.offlineRun,n=void 0===r?0:r,s=t.offlineSuccess,l=void 0===s?0:s,c=t.offlineSuccessTime,d=void 0===c?0:c,u=t.offlineRunNotrun,p=void 0===u?0:u,f=t.offlineRunCronNotrun,m=void 0===f?0:f,h=t.offlineTotal,g=void 0===h?0:h,b=t.offlineStop,v=[p,m,n,l,d,a,i,void 0===b?0:b,g];return this.status.map((function(t,e){return t.num=v[e],t}))}},methods:{handleSelectionChange:function(t){this.selectData=t},getBatchRunLimit:function(){var t=this;this.$API.get(this.$URL.getBatchRunLimit,{},(function(e){0==e.code?t.funIdListLength=e.data[0]:t.$message.error(e.msg)}))},batchWeighingRun:function(){var t=this,e=this.selectData.filter((function(t){return 3==t.workType})).length,a=this.selectData.filter((function(t){return 4==t.workType})).length;if(e&&a)return this.$message.error("不能同时重跑作业流和作业流依赖");var o={};e==this.selectData.length&&(o.ids=this.selectData.map((function(t){return t.workFlowId}))),a==this.selectData.length&&(o.workFlowIds=this.selectData.map((function(t){return t.workFlowId}))),this.isLoading=!0,this.btnLoading=!0,this.$API.post(this.$URL.batchWeighingRun,o,(function(e){t.isLoading=!1,t.btnLoading=!1,0==e.code?(t.$message.success("批量重跑成功"),t.search()):(t.$message.error(e.msg),t.search())}))},tableCheckChange:function(){this.selectData=this.tableData.filter((function(t){return t.check}))},disabledCheckbox:function(t){var e=t.key;return!(this.selectData.length>=5)||!this.selectData.some((function(t){return t.key==e}))},dataMakeListFun:function(t,e){this.$refs.dataMakeList.init(t,e)},jobRunHistoryPageWorkInfo:(I=Object(i.a)(regeneratorRuntime.mark((function t(e){var a,o,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=x(x({},this.formInline),{},{page:this.page.currPage,limit:this.page.pageSize}),t.prev=1,e||(this.isLoading=!0),t.next=5,this.http.post(this.$URL.jobRunHistoryPageWorkInfo,a);case 5:i=t.sent,r=i.data.page,this.isLoading=!1,this.selectData=[],this.tableData=(null===(o=r.list)||void 0===o?void 0:o.length)>0?r.list:[],this.tableData=this.tableData.map((function(t){return x(x({},t),{},{key:Math.random(),check:!1})})),this.page=r,t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:case"end":return t.stop()}}),t,this,[[1,14]])}))),function(t){return I.apply(this,arguments)}),sizeChangeHandle:function(t){this.page.pageSize=t,this.jobRunHistoryPageWorkInfo()},currentChangeHandle:function(t){this.page.currPage=t,this.jobRunHistoryPageWorkInfo()},search:function(t){this.page.currPage=1,this.$emit("getTotalCount",this.formInline.workType),this.jobRunHistoryPageWorkInfo()},reset:function(){this.formInline.procId="",this.formInline.name="",this.formInline.createPer="",this.formInline.workType=3,this.formInline.isOutHours="",this.search()},logTableHandle:function(t){this.$router.push({path:"./logInfo",query:{id:t.row.procId,logId:t.row.logId,jobLogType:3==t.row.workType?0:1,menuId:t.row.workFlowId,oozieJobId:t.row.oozieJobId,fromList:3==t.row.workType?"autoLog":"ManualLog"}})},run:(D=Object(i.a)(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=3==e.row.workType?"runWorkJob":"runWorkFlowJob",this.$set(e.row,"loading",!0),t.prev=2,t.next=5,this.http.post(this.$URL[a]+"/"+e.row.workFlowId);case 5:this.$set(e.row,"loading",!1),this.$message.success("操作成功"),this.jobRunHistoryPageWorkInfo(),this.$emit("getLastHourStatisticsReFresh"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),this.$set(e.row,"loading",!1);case 15:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(t){return D.apply(this,arguments)}),openDetail:function(t){this.drawerTask=!0,this.workFlow=t},toDetail:function(t,e){this.$router.push({path:t,query:{id:e.procId,userId:e.createPer},name:"DataProcessTask",params:{workId:e.workFlowId}})},openDraw:function(){var t=this;this.timer=setInterval((function(){t.jobRunHistoryPageWorkInfo(!0),t.$emit("getLastHourStatisticsReFresh")}),5e3)},closeDraw:function(){clearInterval(this.timer)},stopWork:function(t){var e=this;this.$set(t.row,"isStopLoading",!0),3===t.row.workType?this.$API.post(this.$URL.stopWorkJob+"/"+t.row.workFlowId,{},(function(a){0==a.code?(e.jobRunHistoryPageWorkInfo(),e.$message.success("已停止工作")):e.$message.error(a.msg),e.$set(t.row,"isStopLoading",!1)})):this.$API.post(this.$URL.closeWorkFlowJob+"/"+t.row.workFlowId,{},(function(a){0==a.code?(e.jobRunHistoryPageWorkInfo(),e.$message.success("已停止工作")):e.$message.error(a.msg),e.$set(t.row,"isStopLoading",!1)}))}},destroyed:function(){clearInterval(this.timer)},mounted:function(){this.getBatchRunLimit(),(this.$route.query.type&&"offline"==this.$route.query.type||"all"==this.$route.query.type)&&(this.formInline.lastRunState=0),this.jobRunHistoryPageWorkInfo()},watch:{statistics:{handler:function(t){this.statisticsData=t},deep:!0,immediate:!0},projectList:{handler:function(t){this.projects=t},deep:!0,immediate:!0},userList:{handler:function(t){this.users=t},deep:!0,immediate:!0}}},S=(a("5d25"),Object(d.a)(R,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"task_operations_off_link_task clearfix"},[e("el-form",{staticStyle:{"text-align":"right"},attrs:{inline:!0,model:t.formInline,size:"small"}},[e("el-button",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{disabled:!t.selectData.length,loading:t.btnLoading,size:"mini",type:"primary"},on:{click:t.batchWeighingRun}},[t._v("批量重跑")]),e("el-form-item",[e("el-select",{attrs:{placeholder:"请选择类型"},on:{change:t.search},model:{value:t.formInline.workType,callback:function(e){t.$set(t.formInline,"workType",e)},expression:"formInline.workType"}},t._l([{val:3,label:"作业流"},{val:4,label:"作业流依赖"}],(function(t){return e("el-option",{key:t.val,staticStyle:{"max-width":"260px"},attrs:{label:t.label,value:t.val}})})),1)],1),e("el-form-item",[e("el-select",{attrs:{clearable:"",placeholder:"是否准时调度"},on:{change:t.search},model:{value:t.formInline.isOutHours,callback:function(e){t.$set(t.formInline,"isOutHours",e)},expression:"formInline.isOutHours"}},t._l([{val:1,label:"超时"},{val:2,label:"准时"}],(function(t){return e("el-option",{key:t.val,staticStyle:{"max-width":"260px"},attrs:{title:t.name,label:t.label,value:t.val}})})),1)],1),e("el-form-item",[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择项目"},on:{change:t.search},model:{value:t.formInline.procId,callback:function(e){t.$set(t.formInline,"procId",e)},expression:"formInline.procId"}},t._l(t.projects,(function(t){return e("el-option",{key:t.id+"pnode",staticStyle:{"max-width":"260px"},attrs:{title:t.name,label:t.name,value:t.id}})})),1)],1),e("el-form-item",[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择创建人"},on:{change:t.search},model:{value:t.formInline.createPer,callback:function(e){t.$set(t.formInline,"createPer",e)},expression:"formInline.createPer"}},t._l(t.users,(function(t){return e("el-option",{key:t.userId+"u",staticStyle:{"max-width":"260px"},attrs:{title:t.name,label:t.username,value:t.userId}})})),1)],1),e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入作业流/作业流依赖名称 "},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name","string"==typeof e?e.trim():e)},expression:"formInline.name"}})],1),e("el-form-item",{staticClass:"btn-rt",staticStyle:{"margin-right":"0"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),e("el-button",{attrs:{size:"mini"},on:{click:t.reset}},[t._v("重置")])],1)],1),e("ul",{staticClass:"status_groups",staticStyle:{display:"flex","align-items":"center"}},[t._l(t.statusList,(function(a,o){return e("li",{key:o,staticClass:"status"},[e("span",{staticClass:"status_point",class:a.class}),e("span",[t._v(t._s(a.text)+"："+t._s(a.num))])])})),e("el-tooltip",{attrs:{effect:"dark",content:"统计当前的作业流/依赖从未运行，运行中，运行成功，运行成功-超时，运行失败，运行失败-阻断，停止，调度未运行的状态",placement:"top-start"}},[e("span",{staticClass:"icon icon-ic_remind",staticStyle:{display:"inline-block","font-size":"16px"}})])],2),e("div",{staticClass:"operations_table"},[e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{selectable:function(t){return 2!==t.lastRunState},type:"selection",width:"55"}}),e("el-table-column",{attrs:{"min-width":"200","show-overflow-tooltip":"",prop:"procName","header-align":"left",align:"left",label:"项目名称"}}),e("el-table-column",{attrs:{"min-width":"200","show-overflow-tooltip":"","header-align":"left",align:"left",label:"名称"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("el-button",{attrs:{disabled:0==o.isOwer,type:"text"},on:{click:function(e){return t.openDetail(o)}}},[t._v(t._s(o.name))])]}}])}),e("el-table-column",{attrs:{"min-width":"80","header-align":"left",align:"left",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(3==a.row.workType?"作业流":"作业流依赖"))])]}}])}),e("el-table-column",{attrs:{"header-align":"left",align:"left",label:"调度状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(1==a.row.scheduleType?"正常调度":"停止调度"))])]}}])}),e("el-table-column",{attrs:{"header-align":"left","min-width":"110",align:"left"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("filter-t-b-header",{attrs:{label:"运行状态",filter:t.runStates,value:t.formInline.lastRunState},on:{"update:value":function(e){return t.$set(t.formInline,"lastRunState",e)},comfirm:t.search}})]}},{key:"default",fn:function(a){return[e("span",{staticClass:"status_point",class:0==a.row.lastRunState?"failed":1==a.row.lastRunState?"success":2==a.row.lastRunState?"runing":3==a.row.lastRunState?"unrun":"stop"}),t._l(t.runStates,(function(o){return o.value===a.row.lastRunState?e("span",{key:o.value},[t._v(t._s(o.text))]):t._e()})),1==a.row.isOutHours?e("span",{staticClass:"out_hours"},[t._v("超时")]):t._e()]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"createPerName","header-align":"left",align:"left",label:"创建人"}}),e("el-table-column",{attrs:{prop:"lastRunTime","header-align":"left",align:"left","min-width":"160",label:"最近执行时间"}}),e("el-table-column",{attrs:{"header-align":"left",align:"left","min-width":"160",label:"下次执行时间"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n          "+t._s(a.nextLastRunTime?a.nextLastRunTime:"--")+"\n        ")]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"lastRunPerName","header-align":"left",align:"left",label:"最近执行人"}}),e("el-table-column",{attrs:{fixed:"right","min-width":"200",label:"操作","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{style:{marginRight:"10px",cursor:2===a.row.lastRunState&&0!==a.row.isOwer?"pointer":"not-allowed"},attrs:{type:"text",disabled:!(2===a.row.lastRunState&&0!==a.row.isOwer),loading:a.row.isStopLoading},on:{click:function(e){return t.stopWork(a)}}},[t._v("\n            暂停")]),e("el-button",{attrs:{disabled:0==a.row.isOwer,type:"text",size:"small"},on:{click:function(e){return t.toDetail("dataProcessTask",a.row)}}},[t._v("修改")]),e("el-button",{attrs:{disabled:0==a.row.isOwer,loading:a.row.loading,type:"text",size:"small"},on:{click:function(e){return t.run(a)}}},[t._v("重跑")]),e("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:function(t){t.stopPropagation()}}},[e("el-dropdown",{staticStyle:{"margin-left":"20px"},attrs:{placement:"bottom-start"}},[e("span",{staticClass:"el-dropdown-link"},[t._v("更多"),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[e("el-button",{attrs:{type:"text",disabled:3!=a.row.workType},on:{click:function(e){return t.dataMakeListFun(a.row.jobId,a.row.procId)}}},[t._v("数据补录")])],1),e("el-dropdown-item",[e("el-button",{attrs:{disabled:!a.row.logId,type:"text",size:"small"},nativeOn:{click:function(e){return e.stopPropagation(),t.logTableHandle(a)}}},[t._v("查看日志")])],1)],1)],1)],1)]}}])})],1)],1),e("el-pagination",{attrs:{"current-page":t.page.currPage,"page-sizes":[10,20,50,100],"page-size":t.page.pageSize,total:t.page.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}}),e("el-drawer",{attrs:{"show-close":!0,withHeader:!1,"destroy-on-close":!0,visible:t.drawerTask,modal:!1,direction:"rtl",size:"70%"},on:{opened:t.openDraw,closed:t.closeDraw,"update:visible":function(e){t.drawerTask=e}}},[e("off-task-detial",{attrs:{work:t.workFlow}})],1),e("dataMakeList",{ref:"dataMakeList"})],1)}),[],!1,null,"fee86612",null).exports),L=a("313e"),C=a.n(L);a("a481");var T={components:{},data:function(){return{dataList:[{connectStatus:1},{connectStatus:2},{connectStatus:3},{connectStatus:4}],dataListLoading:!1,className:{CANCELED:"notStart",RUNNING:"running",FINISHED:"success",DEFULT:"fail"},status:{CANCELED:"未开始",RUNNING:"进行中",FINISHED:"成功",DEFULT:"失败"},graphCharts:{},timer:null}},props:{appId:{type:String,default:""}},computed:{},watch:{},methods:{byteConvert:function(t){if(isNaN(t))return"";var e=Math.floor(Math.log(t)/Math.log(2));e<1&&(e=0);var a=Math.floor(e/10);return(t/=Math.pow(2,10*a)).toString().length>t.toFixed(2).toString().length&&(t=t.toFixed(2)),t+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},getDataTableList:function(t){var e=this;this.dataListLoading=!0;var a={appId:this.appId};this.$API.get(this.$URL.getViewList,a,(function(t){if(0==t.code){e.dataListLoading=!1;var a=t.data.vertices;e.drawGraph(t.data.plan.nodes),a.forEach((function(t){var e=[t.metrics["read-bytes"],t.metrics["read-records"],t.metrics["write-bytes"],t.metrics["write-records"],t["start-time"],t["end-time"]];t.readBytes=e[0],t.readRecords=e[1],t.writeBytes=e[2],t.writeRecords=e[3],t.startTime=e[4],t.endTime=e[5]})),e.dataList=a}else e.dataList=[],e.dataListLoading=!1,e.totalPage=0,clearInterval(e.timer)}))},translateDataToTree:function(t){var e=t.filter((function(t){return"undefined"==t.inputs||null==t.inputs})),a=t.filter((function(t){return"undefined"!==t.inputs&&null!=t.inputs})),o=[],i=[e[0]],r=[];return function t(e,a,n){n++,r[n]=[],e[0].level=n,o[n-1]=a.length,e.forEach((function(e){a.forEach((function(o,s){if(o.inputs[0].id===e.id){i.push(o),r[n].push(o),o.y=r[n].length;var l=JSON.parse(JSON.stringify(a));l.splice(s,1),t([o],l,n),void 0!==e.children?e.children.push(o):e.children=[o]}}))}))}(e,a,0),{parents:e,maxlength:o[o.length-1],deep:o.length,result:i}},drawGraph:function(t){var e=function(t){var e=[],a=[];t.forEach((function(t){e.push({name:t.id,value:t.description,symbol:"rect",symbolSize:[140,70],x:150*t.x,y:50*t.y,label:{show:!0,color:"#000"},itemStyle:{normal:{color:"rgb(177,218,255)",borderWidth:1,borderColor:"rgb(110,186,255)"}}}),t.inputs&&t.inputs.length&&t.inputs.forEach((function(e){a.push({source:e.id,value:e.ship_strategy,lable:{show:!0},lineStyle:{color:"#000"},target:t.id})}))}));var o=o={legend:[{formatter:function(t){return C.a.format.truncateText(t,200,"12px","…")},tooltip:{show:!0},selectedMode:"false",bottom:20}],animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",xAxis:{show:!1,type:"value"},yAxis:{show:!1,type:"value"},series:[{type:"graph",layout:"none",symbol:"rect",symbolSize:[140,70],symbolOffset:["20%",0],edgeSymbol:["circle","arrow"],edgeSymbolSize:[0,8],edgeLabel:{show:!1,normal:{show:!0,textStyle:{fontSize:12,color:"#000",align:"left"},formatter:"{c}"}},focusNodeAdjacency:!0,roam:"move",label:{normal:{position:"inside",show:!0,width:140,height:60,formatter:function(t){return"\n"+function(t){var e=[];t.length>100&&(t=t.slice(0,100)+"...");for(var a=0,o=t.length;a<o/22;a++){var i=t.slice(22*a,22*(a+1));e.push(i)}return e.join("\n ")}(t.value.replace(/ -&gt/g,"->"))+"\n "},textStyle:{fontSize:12,fontWeight:100}}},lineStyle:{normal:{width:2,shadowColor:"none",color:"#ff0000"}},data:e,links:a}]};return o}(t);this.graphCharts=C.a.init(document.getElementById("graph")),this.graphCharts.setOption(e)}},created:function(){},mounted:function(){this.getDataTableList();var t=this;this.timer=setInterval((function(){t.getDataTableList()}),3e3)},beforeDestroy:function(){clearInterval(this.timer)}},O=(a("0f7f"),Object(d.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"taskView"},[e("div",{staticClass:"title"},[t._v("实时流图谱")]),e("div",{staticClass:"graph",attrs:{id:"graph"}}),e("div",{staticClass:"view-table"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{height:"300",data:t.dataList}},[e("el-table-column",{attrs:{"show-overflow-tooltip":!0,"min-width":"180",fixed:"",prop:"name",label:"算子名称"}}),e("el-table-column",{attrs:{width:"120",prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("span",{class:[t.className[o.status],"dot"]},[t._v(t._s(t.status[o.status]||"--"))])]}}])}),e("el-table-column",{attrs:{width:"140",label:"Bytes Received"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("span",[t._v(t._s(t.byteConvert(o.readBytes)))])]}}])}),e("el-table-column",{attrs:{width:"140",label:"Records Received"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("span",[t._v(t._s(t.byteConvert(o.readRecords)))])]}}])}),e("el-table-column",{attrs:{width:"140",label:"Bytes Sent"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("span",[t._v(t._s(t.byteConvert(o.writeBytes)))])]}}])}),e("el-table-column",{attrs:{width:"140",label:"Records  Sent"},scopedSlots:t._u([{key:"default",fn:function(a){var o=a.row;return[e("span",[t._v(t._s(t.byteConvert(o.writeRecords)))])]}}])}),e("el-table-column",{attrs:{width:"140",prop:"parallelism",label:"Parallelism"}}),e("el-table-column",{attrs:{width:"180",prop:"startTime",label:"Start Time"}}),e("el-table-column",{attrs:{width:"140",prop:"duration",label:"Duration"}}),e("el-table-column",{attrs:{width:"180",prop:"endTime",label:"End Time"}}),e("el-table-column",{attrs:{fixed:"right",prop:"tasks.RUNNING",label:"Tasks"}})],1)],1)])}),[],!1,null,null,null).exports),j={props:{appId:{type:String,default:""}},data:function(){return{info:""}},methods:{realTimeTaskExceptions:function(){var t=this;this.$API.get(this.$URL.realTimeTaskExceptions,{appId:this.appId},(function(e){0==e.code?t.info=e.data["root-exception"]:t.$message.error(e.msg)}))}},mounted:function(){this.realTimeTaskExceptions()}},P=(a("9f69"),Object(d.a)(j,(function(){return(0,this._self._c)("div",{staticClass:"task_oprations_task_details_log",domProps:{innerHTML:this._s(this.info)}})}),[],!1,null,"235cf962",null).exports);function $(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?$(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var N,A={props:{appId:{type:String,default:""}},data:function(){return{tableData:[],tabeleHeight:window.innerHeight-200,time:null}},methods:{realTimeTaskManagers:function(){var t=this;this.$API.get(this.$URL.realTimeTaskManagers,{appId:this.appId},(function(e){0==e.code?(t.tableData=e.data,t.tableData=t.tableData.map((function(t){return t=M(M({},t),t.metrics)}))):(t.$message.error(e.msg),clearInterval(t.timer))}))}},destroyed:function(){clearInterval(this.timer)},mounted:function(){this.realTimeTaskManagers(),this.timer=setInterval(this.realTimeTaskManagers,3e3)}},z=(a("f078"),Object(d.a)(A,(function(){var t=this._self._c;return t("div",{staticClass:"task_opertations_taskdetails_taskmanager"},[t("h2",[this._v("Task List")]),t("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:this.tableData,border:"","max-height":this.tabeleHeight}},[t("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"host","header-align":"center",align:"center",label:"Host"}}),t("el-table-column",{attrs:{"min-width":"120px",prop:"read-bytes","show-overflow-tooltip":"","header-align":"center",align:"center",label:"Bytes received"}}),t("el-table-column",{attrs:{"min-width":"120px",prop:"read-records","header-align":"center",align:"center",label:"Records received"}}),t("el-table-column",{attrs:{"min-width":"120px",prop:"write-records","header-align":"center",align:"center",label:"Records sent"}}),t("el-table-column",{attrs:{"min-width":"120px",prop:"start-time","header-align":"center",align:"center",label:"Start Time"}}),t("el-table-column",{attrs:{"min-width":"120px",prop:"end-time","header-align":"center",align:"center",label:"End Time"}}),t("el-table-column",{attrs:{prop:"duration","header-align":"center",align:"center",label:"Duration"}}),t("el-table-column",{attrs:{prop:"status","header-align":"center",align:"center",label:"Status"}})],1)],1)}),[],!1,null,"569a9f64",null).exports),F={props:{appId:{type:String,default:""}},data:function(){return{isLoading:!1,infoData:{counts:{},latest:{completed:{id:""}}}}},methods:{realTimeTaskCheckpoints:function(){var t=this;this.isLoading=!0,this.$API.get(this.$URL.realTimeTaskCheckpoints,{appId:this.appId},(function(e){t.isLoading=!1,0==e.code?t.infoData=e.data:t.$message.error(e.msg)}))}},mounted:function(){this.realTimeTaskCheckpoints()}},E=(a("7de7"),{components:{allview:O,log:P,taskmanager:z,checkpoint:Object(d.a)(F,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"realtime_task_checkpoint"},[e("div",{staticClass:"item"},[e("h4",[t._v("Checkpoint Counts")]),e("ul",{staticClass:"counts_ul"},[e("li",[t._v("Triggered:"+t._s(t.infoData.counts.total))]),e("li",[t._v("In Progress:"+t._s(t.infoData.counts.in_progress))]),e("li",[t._v("Completed:"+t._s(t.infoData.counts.completed))]),e("li",[t._v("Failed:"+t._s(t.infoData.counts.failed))]),e("li",[t._v("Restored:"+t._s(t.infoData.counts.restored))])])]),e("div",{staticClass:"item"},[e("h4",[t._v("Latest Completed Checkpoint")]),e("ul",{staticClass:"counts_ul"},[e("li",[t._v("id:"+t._s(t.infoData.latest.completed&&t.infoData.latest.completed.id||""))]),e("li",[t._v("Completion Time:"+t._s(t.infoData.latest.completed&&t.infoData.latest.completed.latest_ack_timestamp||""))]),e("li",[t._v("End to End Duration:"+t._s(t.infoData.latest.completed&&t.infoData.latest.completed.end_to_end_duration||"")+t._s(t.infoData.latest.completed&&t.infoData.latest.completed.end_to_end_duration&&"ms"))]),e("li",[t._v("State Size:"+t._s(t.infoData.latest.completed&&t.infoData.latest.completed.state_size&&(t.infoData.latest.completed.state_size/1024).toFixed(2)||"")+t._s(t.infoData.latest.completed&&t.infoData.latest.completed.state_size&&"K"))])])])])}),[],!1,null,"267a329d",null).exports},props:{appId:{type:String,default:""},scopeData:{type:Object,default:function(){}}},data:function(){return{tabsValue:"view",scope:{updateTime:"",duration:""},taskTypeMap:{1:"FLINK API",2:"FLINK SQL",3:"FLINK SQL DAG",4:"采集任务"}}},methods:{changeData:function(){this.$emit("changeData")},runAgin:function(){this.$emit("runAgin")}},watch:{scopeData:{handler:function(t){this.scope=t},deep:!0,immediate:!0}}}),U=(a("72a4"),a("396e"),Object(d.a)(E,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"task_operations_task_details_index"},[e("div",{staticClass:"detail_header"},[e("div",{staticClass:"item"},[t._v(t._s(t.taskTypeMap[t.scope.taskType]))]),e("div",{staticClass:"item"},[e("span",{staticClass:"status_point"}),e("span",[t._v(t._s(0==t.scope.runState?"运行失败":1==t.scope.runState?"运行成功":2==t.scope.runState?"运行中":3==t.scope.runState?"未运行":"停止"))])]),e("div",{staticClass:"item"},[t._v("StartTime:"+t._s(t.scope&&t.scope.updateTime))]),e("div",{staticClass:"item"},[t._v(" | Duration:"+t._s(t.scope&&t.scope.duration))]),e("div",{staticClass:"item"},[e("el-button",{attrs:{disabled:0==t.scope.enableOp,type:"text",size:"mini"},on:{click:t.changeData}},[t._v("修改")]),t._v(" |\r\n            "),e("el-button",{attrs:{disabled:0==t.scope.enableOp,loading:t.scope.loading,type:"text",size:"mini"},on:{click:t.runAgin}},[t._v("重跑")])],1)]),e("div",{staticClass:"detail_body"},[e("el-tabs",{attrs:{type:"card"},model:{value:t.tabsValue,callback:function(e){t.tabsValue=e},expression:"tabsValue"}},[e("el-tab-pane",{attrs:{name:"view",label:"总览"}},[e("allview",{attrs:{appId:t.appId}})],1),e("el-tab-pane",{attrs:{name:"log",label:"运行日志"}},[e("log",{attrs:{appId:t.scope.jobId}})],1),e("el-tab-pane",{attrs:{name:"checkpoint",label:"checkpoint"}},[e("checkpoint",{attrs:{appId:t.appId}})],1),e("el-tab-pane",{attrs:{name:"taskmanager",label:"taskmanager"}},[e("taskmanager",{attrs:{appId:t.appId}})],1)],1)],1)])}),[],!1,null,"63c329e8",null).exports),H=a("6525"),J=a("0426"),V=a("86b9"),W={name:"detail",model:{prop:"isShowDialog",event:"change"},props:{isShowDialog:Boolean,row:Object},created:function(){this.getTaskDetailId()},components:{detailListInfo:J.a,codeEditor:H.a},data:function(){return{form:{},detailObj:{},formList:[{label:"并行度",code:"parallelism"},{label:"jobmanager",code:"jobManagerMemory",suffix:"MB"},{label:"taskmanager",code:"taskManagerMemory",suffix:"MB"},{label:"slot",code:"slot",suffix:"个"},{label:"savepoint Path",code:"savepointPath"},{label:"checkPointInterval",code:"checkPointInterval"},{label:"checkPointTime",code:"checkPointTime"},{label:"checkPointTimeout",code:"checkPointTimeout"},{label:"checkpointPath",code:"checkpointPath"}],formList1:[{label:"任务名称",code:"taskName"},{label:"JAR任务包",code:"resourceName"},{label:"main函数",code:"mainFunction"},{label:"main args",code:"mainArgs"},{label:"资源上传人",code:"jarUploadUser"},{label:"最新上传时间",code:"uploadTime"},{label:"调度队列",code:"queenName"}],formList4:[{label:"任务类型",code:"taskType",format:function(t){return"1"==t?"FLINK API":"2"==t?"FLINK SQL":"3"==t?"FLINK SQL DAG":"4"==t?"采集任务":""}},{label:"任务名称",code:"taskName"},{label:"启动位点",code:"config",format:function(t){return t.startPosition}},{label:"限速值",code:"config.writeLimit",format:function(t){return t?t+"条/s":"不限速"}},{label:"目标库",code:"config",format:function(t){return t.targetDbname}},{label:"目标表",code:"config",format:function(t){return t.targetTableName}},{label:"写入方式",code:"config",format:function(t){return"cover"===t.writeWay?"覆盖":"追加"}},{label:"分区类型",code:"config",format:function(t){return!1===t.isDynamicPartition?"静态分区":!0===t.isDynamicPartition?"动态分区":""===t.isDynamicPartition?"--":""}},{label:"分区信息",code:"config",format:function(t){return t.fields}},{label:"采集字段",code:"config",format:function(t){return t.collectionTimeName}},{label:"采集值",code:"config",format:function(t){return t.collectionTimeFormat}}],info:"",taskType:"",activeName:"first"}},methods:{realTimeTaskExceptions:function(t){var e=this;this.$API.get(this.$URL.realTimeTaskExceptions,{appId:t},(function(t){0==t.code?e.info=t.data["root-exception"]:e.$message.error(t.msg)}))},sqlPreview:(N=Object(i.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(V.m)(this.row.menuId);case 2:e=t.sent,this.$set(this.detailObj,"allSql",e.data.data);case 4:case"end":return t.stop()}}),t,this)}))),function(){return N.apply(this,arguments)}),getTaskDetailId:function(){var t=this;this.isLoading=!0,this.$API.get(this.$URL.realTimeTaskGetInfo+"/"+this.row.menuId,{},(function(e){t.isLoading=!1,0==e.code&&(t.detailObj=e.data,t.realTimeTaskExceptions(t.detailObj.jobId),3===t.detailObj.taskType&&t.sqlPreview())}))}}},B=(a("f1e9"),Object(d.a)(W,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"任务详情",visible:t.isShowDialog,width:"600"},on:{close:function(e){return t.$emit("change",!1)}}},[e("div",{staticClass:"content data_factory_task_operations_detail",staticStyle:{height:"50vh",overflow:"auto"}},[e("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"任务信息",name:"first"}},[1===t.detailObj.taskType?[e("div",{staticClass:"info",staticStyle:{"padding-left":"20px"}},[e("detailListInfo",{attrs:{"form-data":t.detailObj,"form-list":t.formList1}})],1)]:4===t.detailObj.taskType?[e("div",{staticClass:"info",staticStyle:{"padding-left":"20px"}},[e("detailListInfo",{attrs:{"form-data":t.detailObj,"form-list":t.formList4}})],1)]:[e("codeEditor",{directives:[{name:"show",rawName:"v-show",value:t.detailObj.allSql,expression:"detailObj.allSql"}],ref:"codeEditor",attrs:{"is-lock":"nocursor",hasFormat:!0},model:{value:t.detailObj.allSql,callback:function(e){t.$set(t.detailObj,"allSql",e)},expression:"detailObj.allSql"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.detailObj.allSql,expression:"!detailObj.allSql"}],staticClass:"no-data"},[t._v("暂无任务信息！")])]],2),e("el-tab-pane",{attrs:{label:"运行参数",name:"second"}},[e("div",{staticClass:"run-info"},[e("div",{staticClass:"title",staticStyle:{"font-size":"16px","margin-bottom":"20px"}},[t._v("参数信息")]),e("div",{staticClass:"info",staticStyle:{"padding-left":"20px"}},[e("detailListInfo",{attrs:{"form-data":t.detailObj,"form-list":t.formList}})],1)])]),e("el-tab-pane",{attrs:{label:"运行日志",name:"three"}},[t.info?[e("div",{staticClass:"info zt-scrollbar",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s((t.info||"").replace(/\r\n/g,"<br />"))}})]:[e("div",{staticClass:"no-data"},[t._v("暂无日志！")])]],2)],1)],1)])}),[],!1,null,null,null).exports),q={props:{},computed:{detail:function(){return JSON.parse(sessionStorage.getItem("detail"))}},data:function(){return{}},created:function(){}},G=(a("8871"),Object(d.a)(q,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailList"},[e("div",{staticClass:"title"},[e("span",[t._v("任务名称")]),e("span",{staticClass:"info"},[t._v(t._s(t.detail.taskName))])]),e("div",{staticClass:"title"},[e("span",[t._v("JAR任务包")]),e("span",{staticClass:"info"}),t._v(t._s(t.detail.resourceName))]),e("div",{staticClass:"title"},[e("span",[t._v("main函数")]),e("span",{staticClass:"info"},[t._v(t._s(t.detail.mainFunction))])]),e("div",{staticClass:"title"},[e("span",[t._v("main args")]),e("span",{staticClass:"info"},[t._v(t._s(t.detail.mainArgs))])]),e("div",{staticClass:"title"},[e("span",[t._v("资源上传人")]),e("span",{staticClass:"info"},[t._v(t._s(t.detail.jarUploadUser))])]),e("div",{staticClass:"title"},[e("span",[t._v("最新上传时间")]),e("span",{staticClass:"info"},[t._v(t._s(t.detail.uploadTime))])]),e("div",{staticClass:"title"},[e("span",[t._v("调度队列")]),e("span",{staticClass:"info"},[t._v(t._s(t.detail.queenName))])])])}),[],!1,null,"56496345",null).exports),K={computed:{detail:function(){return JSON.parse(sessionStorage.getItem("detail"))}}},Q=(a("fda1"),Object(d.a)(K,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"parameter"},[e("div",{staticClass:"info"},[e("div",[e("span",{staticClass:"title"},[t._v("并行度")]),e("span",[t._v(t._s(t.detail.parallelism))])]),e("div",[e("span",{staticClass:"title"},[t._v("jobmanager ")]),e("span",[t._v(t._s(t.detail.jobManagerMemory)+" MB")])]),e("div",[e("span",{staticClass:"title"},[t._v("taskmanager")]),e("span",[t._v(t._s(t.detail.taskManagerMemory)+" MB")])]),e("div",[e("span",{staticClass:"title"},[t._v("slot")]),e("span",[t._v(t._s(t.detail.slot)+" 个")])]),e("div",[e("span",{staticClass:"title"},[t._v("savepoint Path\n      ")]),e("span",[t._v(t._s(t.detail.savepointPath))])])])])}),[],!1,null,null,null).exports),Y={name:"detail",model:{prop:"isShowDialogDetailCopy",event:"change"},props:{isShowDialogDetailCopy:Boolean,row:Object},created:function(){},computed:{detail:function(){return JSON.parse(sessionStorage.getItem("detail"))}},components:{detailListInfo:J.a,codeEditor:H.a,detailList:G,parameter:Q},data:function(){return{form:{},detailObj:{},formList:[{label:"并行度",code:"parallelism"},{label:"jobmanager",code:"jobManagerMemory",suffix:"MB"},{label:"taskmanager",code:"taskManagerMemory",suffix:"MB"},{label:"slot",code:"slot",suffix:"个"},{label:"savepoint Path",code:"savepointPath"}],formList1:[{label:"任务名称",code:"taskName"},{label:"JAR任务包",code:"resourceName"},{label:"main函数",code:"mainFunction"},{label:"main args",code:"mainArgs"},{label:"资源上传人",code:"jarUploadUser"},{label:"最新上传时间",code:"uploadTime"},{label:"调度队列",code:"queenName"}],formList4:[{label:"任务类型",code:"taskType",format:function(t){return"1"==t?"FLINK API":"2"==t?"FLINK SQL":"3"==t?"FLINK SQL DAG":"4"==t?"采集任务":""}},{label:"任务名称",code:"taskName"},{label:"启动位点",code:"config",format:function(t){return t.startPosition}},{label:"限速值",code:"config.writeLimit",format:function(t){return t?t+"条/s":"不限速"}},{label:"目标库",code:"config",format:function(t){return t.targetDbname}},{label:"目标表",code:"config",format:function(t){return t.targetTableName}},{label:"写入方式",code:"config",format:function(t){return"cover"===t.writeWay?"覆盖":"追加"}},{label:"分区类型",code:"config",format:function(t){return!1===t.isDynamicPartition?"静态分区":!0===t.isDynamicPartition?"动态分区":""===t.isDynamicPartition?"--":""}},{label:"分区信息",code:"config",format:function(t){return t.fields}},{label:"采集字段",code:"config",format:function(t){return t.collectionTimeName}},{label:"采集值",code:"config",format:function(t){return t.collectionTimeFormat}}],info:"",taskType:"",activeName:"first"}},methods:{}},X=(a("97ed"),Object(d.a)(Y,(function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{title:"任务详情",visible:t.isShowDialogDetailCopy,width:"600"},on:{close:function(e){return t.$emit("change",!1)}}},[e("div",{staticClass:"content data_factory_task_operations_detail",staticStyle:{height:"50vh",overflow:"auto"}},[e("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"任务信息",name:"first"}},[[e("div",{staticClass:"info",staticStyle:{"padding-left":"20px"}},[e("detailList",{attrs:{detail:t.detail}})],1)],[t.detail.length?e("div",{staticClass:"no-data"},[t._v("暂无任务信息！")]):t._e()]],2),e("el-tab-pane",{attrs:{label:"运行参数",name:"second"}},[e("div",{staticClass:"run-info"},[e("div",{staticClass:"title",staticStyle:{"font-size":"16px","margin-bottom":"20px"}},[t._v("参数信息")]),e("div",{staticClass:"info",staticStyle:{"padding-left":"20px"}},[e("parameter")],1)])]),e("el-tab-pane",{attrs:{label:"运行日志",name:"three"}},[t.info?[e("div",{staticClass:"info zt-scrollbar",staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s((t.info||"").replace(/\r\n/g,"<br />"))}})]:[e("div",{staticClass:"no-data"},[t._v("暂无日志！")])]],2)],1)],1)])}),[],!1,null,null,null).exports);function Z(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return tt(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return tt(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n=!0,s=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return n=t.done,t},e:function(t){s=!0,r=t},f:function(){try{n||null==a.return||a.return()}finally{if(s)throw r}}}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){Object(o.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ot={components:{taskDetail:U,detail:B,filterTBHeader:p.a,detailsCopy:X},props:{statistics:{type:Object,default:""},projectList:{type:Array,default:[]},userList:{type:Array,default:[]}},data:function(){return{taskTypeMap:{1:"FLINK API",2:"FLINK SQL",3:"FLINK SQL DAG",4:"实时采集"},isShowDialogDetail:!1,isLoading:!1,tabeleHeight:window.innerHeight-360,appId:"",isShowDialogDetailCopy:!1,selectRow:{},drawerTask:!1,formInline:{procId:"",name:this.$route.query.name?sessionStorage.getItem("flinkToRealTime"):"",runState:"",createPer:""},statisticsData:{},runStates:[{value:0,text:"失败"},{value:1,text:"成功"},{value:2,text:"运行中"},{value:3,text:"未运行"},{value:4,text:"停止"}],status:[{text:"未运行",class:"unrun"},{text:"运行中",class:"runing"},{text:"运行成功",class:"success"},{text:"运行失败",class:"failed"},{text:"停止",class:"stop"},{text:"实时任务总数",class:"sum"}],scopeRow:{},projects:[],users:[],page:{currPage:1,pageSize:10},runningList:[]}},computed:{statusList:function(){var t=this.statisticsData,e=t.realtimeFail,a=void 0===e?0:e,o=t.realtimeRun,i=void 0===o?0:o,r=t.realtimeRunNotrun,n=void 0===r?0:r,s=t.realtimeKilled,l=void 0===s?0:s,c=t.realtimeTotal,d=void 0===c?0:c,u=[n-i,i,d-a-n-l,a,l,d];return this.status.map((function(t,e){return t.num=u[e],t}))},detail:function(){return JSON.parse(sessionStorage.getItem("detail"))}},created:function(){},methods:{showDetail:function(t){this.selectRow=t,this.isShowDialogDetail=!0},openDrawer:function(t){this.scopeRow=t.row,this.appId=t.row.appId,this.drawerTask=!0},realTimeTaskOps:function(){var t=this,e=at(at({},this.formInline),{},{page:this.page.currPage,limit:this.page.pageSize});this.$API.post(this.$URL.realTimeTaskOps,e,(function(e){if(0==e.code){if(t.scopeRow&&t.scopeRow.menuId&&(t.scopeRow=e.page.page.list.filter((function(e){return e.menuId==t.scopeRow.menuId}))[0]),t.page=e.page.page,t.runningList&&t.runningList.length>0){var a,o=Z(t.runningList);try{for(o.s();!(a=o.n()).done;){var i,r=a.value,n=Z(t.page.list);try{for(n.s();!(i=n.n()).done;){var s=i.value;r==s.menuId&&t.$set(s,"loading",!0)}}catch(t){n.e(t)}finally{n.f()}}}catch(t){o.e(t)}finally{o.f()}}}else t.$message(e.msg),clearInterval(t.timer)}))},realTimeTaskReRun:function(t){var e=this;this.$set(t,"loading",!0),this.runningList.push(t.menuId),this.$API.get(this.$URL.realTimeTaskReRun+"/"+t.menuId,{},(function(a){e.$set(t,"loading",!1),e.runningList.remove(t.menuId),0==a.code?(e.$message.success("操作成功！"),e.$emit("getLastHourStatisticsReFresh")):e.$message.error(a.msg)}))},toDetail:function(t,e){this.$router.push({path:t,query:{id:e.procId,userId:e.createPer},name:"DataProcessTask",params:{realTimeWorkId:e.menuId,createPer:e.createPer}})},sizeChangeHandle:function(t){this.page.pageSize=t,this.realTimeTaskOps()},currentChangeHandle:function(t){this.page.currPage=t,this.realTimeTaskOps()},search:function(){this.page.currPage=1,this.realTimeTaskOps()},reset:function(){this.formInline.procId="",this.formInline.task="",this.formInline.createPer="",this.formInline.name="",this.search()},stopWork:function(t){var e=this;this.$set(t.row,"isStopLoading",!0),this.$API.get(this.$URL.realTimeTaskPause+"/"+t.row.menuId,{},(function(a){e.isLoading=!1,0==a.code?e.realTimeTaskOps():e.$message.error(a.msg),e.$set(t.row,"isStopLoading",!1)}))}},destroyed:function(){clearInterval(this.timer)},mounted:function(){var t=this;(this.$route.query.type&&"online"==this.$route.query.type||"all"==this.$route.query.type)&&(this.formInline.runState=0),this.$route.query.from&&(this.formInline.runState=""),this.realTimeTaskOps(),this.timer=setInterval((function(){t.realTimeTaskOps()}),3e3),this.$route.query.status&&(this.selectRow={menuId:this.$route.query.menuId},this.isShowDialogDetail=!0)},watch:{statistics:{handler:function(t){this.statisticsData=t},deep:!0,immediate:!0},projectList:{handler:function(t){this.projects=t},deep:!0,immediate:!0},userList:{handler:function(t){this.users=t},deep:!0,immediate:!0}}},it=(a("451e"),a("3938"),Object(d.a)(ot,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"task_operations_real_time_task"},[e("el-form",{staticStyle:{"text-align":"right"},attrs:{inline:!0,model:t.formInline,size:"small"}},[e("el-form-item",[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择项目"},on:{change:t.search},model:{value:t.formInline.procId,callback:function(e){t.$set(t.formInline,"procId",e)},expression:"formInline.procId"}},t._l(t.projects,(function(t){return e("el-option",{key:t.id+"pnode",staticStyle:{"max-width":"260px"},attrs:{title:t.name,label:t.name,value:t.id}})})),1)],1),e("el-form-item",[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择创建人"},on:{change:t.search},model:{value:t.formInline.createPer,callback:function(e){t.$set(t.formInline,"createPer",e)},expression:"formInline.createPer"}},t._l(t.users,(function(t){return e("el-option",{key:t.userId+"u",staticStyle:{"max-width":"260px"},attrs:{title:t.name,label:t.username,value:t.userId}})})),1)],1),e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入任务名称"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name","string"==typeof e?e.trim():e)},expression:"formInline.name"}})],1),e("el-form-item",{staticClass:"btn-rt",staticStyle:{"margin-right":"0"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),e("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1),e("ul",{staticClass:"status_groups"},t._l(t.statusList,(function(a,o){return e("li",{key:o+"g",staticClass:"status"},[e("span",{staticClass:"status_point",class:a.class}),e("span",[t._v(t._s(a.text)+"："+t._s(a.num))])])})),0),e("div",{staticClass:"operations_table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.page.list}},[e("el-table-column",{attrs:{"min-width":"200","show-overflow-tooltip":"",prop:"procName","header-align":"left",align:"left",label:"项目名称"}}),e("el-table-column",{attrs:{"min-width":"200","show-overflow-tooltip":"",label:"任务名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{disabled:!a.row.appId,type:"text",size:"mini"},on:{click:function(e){return t.openDrawer(a)}}},[t._v("\n            "+t._s(a.row.name)+"\n          ")])]}}])}),e("el-table-column",{attrs:{"min-width":"100","header-align":"left",align:"left"},scopedSlots:t._u([{key:"header",fn:function(a){return[e("filter-t-b-header",{attrs:{label:"任务状态",filter:t.runStates,value:t.formInline.runState},on:{"update:value":function(e){return t.$set(t.formInline,"runState",e)},comfirm:t.search}})]}},{key:"default",fn:function(a){return[e("span",{staticClass:"status_point",class:0==a.row.runState?"failed":1==a.row.runState?"success":2==a.row.runState?"runing":3==a.row.runState?"unrun":"stop"}),e("span",[t._v(t._s(0==a.row.runState?"失败":1==a.row.runState?"成功":2==a.row.runState?"运行中":3==a.row.runState?"未运行":"停止"))])]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"createPerName","header-align":"left",align:"left",label:"创建人"}}),e("el-table-column",{attrs:{prop:"runTime","header-align":"left",align:"left","min-width":"160",label:"最近运行时间"}}),e("el-table-column",{attrs:{prop:"taskType","header-align":"left",align:"left","min-width":"100",label:"任务类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.taskTypeMap[a.row.taskType]))])]}}])}),e("el-table-column",{attrs:{"min-width":"100",prop:"duration","header-align":"left",align:"left",label:"Duration"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"updatePerName","header-align":"left",align:"left",label:"最近操作人"}}),e("el-table-column",{attrs:{fixed:"right","min-width":"180",label:"操作","header-align":"right",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{style:{marginRight:"10px",cursor:1!==a.row.enableOp||2!=a.row.runState?"not-allowed":"pointer"},attrs:{type:"text",loading:a.row.isStopLoading,disabled:!(1===a.row.enableOp&&2==a.row.runState)},on:{click:function(e){return t.stopWork(a)}}},[t._v("\n                  暂停")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v("详情")]),e("el-button",{attrs:{disabled:0==a.row.enableOp,type:"text",size:"small"},on:{click:function(e){return t.toDetail("dataProcessTask",a.row)}}},[t._v("修改")]),e("el-button",{attrs:{disabled:0==a.row.enableOp,loading:a.row.loading,type:"text",size:"small"},on:{click:function(e){return t.realTimeTaskReRun(a.row)}}},[t._v("重跑")])]}}])})],1)],1),e("el-pagination",{attrs:{"current-page":t.page.currPage,"page-sizes":[10,20,50,100],"page-size":t.page.pageSize,total:t.page.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}}),e("el-drawer",{attrs:{title:"任务",withHeader:!1,"destroy-on-close":!0,visible:t.drawerTask,modal:!1,direction:"rtl",size:"70%"},on:{"update:visible":function(e){t.drawerTask=e}}},[e("task-detail",{attrs:{appId:t.appId,scopeData:t.scopeRow},on:{runAgin:function(e){return t.realTimeTaskReRun(t.scopeRow)},changeData:function(e){return t.toDetail("dataProcessTask",t.scopeRow)}}})],1),t.isShowDialogDetail?e("detail",{attrs:{row:t.selectRow},model:{value:t.isShowDialogDetail,callback:function(e){t.isShowDialogDetail=e},expression:"isShowDialogDetail"}}):t._e(),t.isShowDialogDetailCopy?e("detailsCopy",{attrs:{detail:t.detail},model:{value:t.isShowDialogDetailCopy,callback:function(e){t.isShowDialogDetailCopy=e},expression:"isShowDialogDetailCopy"}}):t._e()],1)}),[],!1,null,"25d55879",null).exports),rt=(a("55dd"),a("f400"),{props:{handlerLogVisible:{type:Boolean,default:!1},eventDetailInfo:{type:Object,default:function(){}},closeFunction:{type:Function,default:null}},data:function(){return{activeName:"logInfo"}},methods:{calcDate:function(t){if(!t)return"0秒";var e=1e3*t,a=Math.floor(e/36e5),o=Math.floor(a/24),i=Math.floor((e-60*a*60*1e3)/1e3/60),r=Math.floor((e-60*(60*a+i)*1e3)/1e3);return"".concat(o>0?o+"天":"").concat(o>0?a-24*o:a,"时").concat(i+"分").concat(r+"秒")},closeDialog:function(){this.closeFunction instanceof Function&&this.closeFunction(!1)}}}),nt=(a("b6e4"),{data:function(){return{page:{currPage:1,pageSize:10,totalCount:0},sortField:void 0,sort:void 0,formInline:{},handlerLogVisible:!1,eventListData:[],eventDetailInfo:{},isLoading:!1,eventStatusOptions:[{label:"NEW",value:"NEW"},{label:"NEW_SAVING",value:"NEW_SAVING"},{label:"SUBMITTED",value:"SUBMITTED"},{label:"ACCEPTED",value:"ACCEPTED"},{label:"RUNNING",value:"RUNNING"},{label:"FINISHED",value:"FINISHED"},{label:"FAILED",value:"FAILED"},{label:"KILLED",value:"KILLED"}],status:[{text:"NEW",class:"unrun"},{text:"NEW_SAVING",class:"unrun"},{text:"SUBMITTED",class:"runing"},{text:"ACCEPTED",class:"success"},{text:"RUNNING",class:"runing"},{text:"FINISHED",class:"runing"},{text:"FAILED",class:"failed"},{text:"KILLED",class:"failed"}],totalData:[0,0,0,0,0,0,0,0]}},components:{eventDetail:Object(d.a)(rt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"event_detail_main"},[e("el-dialog",{attrs:{title:"执行日志",visible:t.handlerLogVisible},on:{close:t.closeDialog}},[e("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"日志详情",name:"logInfo"}},[e("div",{domProps:{innerHTML:t._s(t.eventDetailInfo.wholeLog)}})]),e("el-tab-pane",{attrs:{label:"SQL执行计划",name:"sql"}},[e("div",{domProps:{innerHTML:t._s(t.eventDetailInfo.cdhLogs)}})]),e("el-tab-pane",{attrs:{label:"资源详情",name:"source"}},[t.eventDetailInfo.detail?e("el-form",{attrs:{form:t.eventDetailInfo.detail}},[e("el-form-item",{attrs:{label:"User："}},[t._v(t._s(t.eventDetailInfo.detail&&t.eventDetailInfo.detail.user))]),e("el-form-item",{attrs:{label:"Name："}},[t._v(t._s(t.eventDetailInfo.detail&&t.eventDetailInfo.detail.name))]),e("el-form-item",{attrs:{label:"application Type："}},[t._v(t._s(t.eventDetailInfo.detail.applicationType))]),e("el-form-item",{attrs:{label:"application Tag："}},t._l(t.eventDetailInfo.detail.applicationTags,(function(a,o){return e("span",{key:o},[t._v(t._s(a))])})),0),e("el-form-item",{attrs:{label:"application Priority："}},[t._v(t._s(t.eventDetailInfo.detail.applicationPriority))]),e("el-form-item",{attrs:{label:"YarnApplicationState："}},[t._v(t._s(t.eventDetailInfo.detail.applicationState))]),e("el-form-item",{attrs:{label:"Queue："}},[t._v(t._s(t.eventDetailInfo.detail.queue))]),e("el-form-item",{attrs:{label:"FinalStatus Reported by AM："}},[t._v(t._s(t.eventDetailInfo.detail.finalStatus))]),e("el-form-item",{attrs:{label:"Started："}},[t._v(t._s(t.eventDetailInfo.detail.startTime))]),e("el-form-item",{attrs:{label:"Launched："}},[t._v(t._s(t.eventDetailInfo.detail.launchTime))]),e("el-form-item",{attrs:{label:"Finished："}},[t._v(t._s(t.eventDetailInfo.detail.finishTime))]),e("el-form-item",{attrs:{label:"Elapsed："}},[t._v(t._s(t.calcDate(t.eventDetailInfo.detail.elapsed)))]),e("el-form-item",{attrs:{label:"Tracking URL："}},[t._v(t._s(t.eventDetailInfo.detail.trackingUrl))]),e("el-form-item",{attrs:{label:"Log Aggregation Status："}},[t._v(t._s(t.eventDetailInfo.detail.logStatus))]),e("el-form-item",{attrs:{label:"Application Timeout (Remaining Time)："}},[t._v(t._s("-1"==t.eventDetailInfo.detail.timeout?"Unlimited":t.eventDetailInfo.detail.timeout))]),e("el-form-item",{attrs:{label:"Diagnostice："}},[t._v(t._s(t.eventDetailInfo.detail.diagnostics))]),e("el-form-item",{attrs:{label:"Unmanaged Application："}},[t._v(t._s(t.eventDetailInfo.detail.unManagedApplication))]),e("el-form-item",{attrs:{label:"Application Node Label expression："}},[t._v(t._s(t.eventDetailInfo.detail.applicationExpression))]),e("el-form-item",{attrs:{label:"AM container Node Label expression："}},[t._v(t._s(t.eventDetailInfo.detail.containerExpression))]),e("div",{staticStyle:{height:"50px","border-bottom":"thin solid","margin-bottom":"10px"}}),e("el-form-item",{attrs:{label:"Total Resource Preempted："}},[t._v(t._s("memory:"+t.eventDetailInfo.detail.metricsDto.totalMemory+",vCores:"+t.eventDetailInfo.detail.metricsDto.totalCore))]),e("el-form-item",{attrs:{label:"Total Number of Non-AM Containers Preempted："}},[t._v(t._s(t.eventDetailInfo.detail.metricsDto.nonAmContainers))]),e("el-form-item",{attrs:{label:"Total Number of AM Containers Preempted："}},[t._v(t._s(t.eventDetailInfo.detail.metricsDto.amContainers))]),e("el-form-item",{attrs:{label:"Resource Preempted from Current Attempt："}},[t._v(t._s("memory:"+t.eventDetailInfo.detail.metricsDto.currentMemory+",vCores:"+t.eventDetailInfo.detail.metricsDto.currentCore))]),e("el-form-item",{attrs:{label:"Number of Non-AM Containers Preempted from Current Attempt："}},[t._v(t._s(t.eventDetailInfo.detail.metricsDto.currentNonAmContainers))]),e("el-form-item",{attrs:{label:"Aggregate Resource Allocation："}},[t._v(t._s(t.eventDetailInfo.detail.metricsDto.allocatedMemorySeconds+" MB-seconds,"+t.eventDetailInfo.detail.metricsDto.allocatedCoreSeconds+" vCores-seconds"))]),e("el-form-item",{attrs:{label:"Aggregate Preempted Resource Allocation："}},[t._v(t._s(t.eventDetailInfo.detail.metricsDto.allocatedPreemptedMemorySeconds+" MB-seconds,"+t.eventDetailInfo.detail.metricsDto.allocatedPreemptedCoreSeconds+" vCores-seconds"))])],1):t._e()],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{size:"mini",type:"primary"},nativeOn:{click:function(e){return t.closeDialog.apply(null,arguments)}}},[t._v("关闭")])],1)],1)],1)}),[],!1,null,"3f9ed94e",null).exports},computed:{statusList:function(){var t=this.totalData;return this.status.map((function(e,a){return e.num=t[a],e}))}},mounted:function(){this.search(),this.requestTotal()},methods:{calcDate:function(t){var e=1e3*t,a=Math.floor(e/36e5),o=Math.floor(a/24),i=Math.floor((e-60*a*60*1e3)/1e3/60),r=Math.floor((e-60*(60*a+i)*1e3)/1e3);return"".concat(o>0?o+"天":"").concat(o>0?a-24*o:a,"时").concat(i+"分").concat(r+"秒")},requestTotal:function(){var t=this;this.$API.post(this.$URL.getEventTotal,{},(function(e){if(0==e.code){var a=e.data,o=a.newCounts,i=void 0===o?0:o,r=a.newSavingCounts,n=void 0===r?0:r,s=a.submittedCounts,l=void 0===s?0:s,c=a.acceptedCounts,d=void 0===c?0:c,u=a.runningCounts,p=void 0===u?0:u,f=a.finishedCounts,m=void 0===f?0:f,h=a.failedCounts,g=void 0===h?0:h,b=a.killedCounts,v=[i,n,l,d,p,m,g,void 0===b?0:b];t.totalData=[].concat(v)}}))},sizeChangeHandle:function(t){this.page.pageSize=t,this.search()},currentChangeHandle:function(t){this.page.currPage=t,this.search()},sortChange:function(t){t.column;var e=t.prop,a=t.order,o=new Map([["descending","desc"],["ascending","asc"]]);a&&(this.sort=o.get(a)),this.sortField=e,e||(this.sortField="elapsed"),a||(this.sortField=void 0,this.sort=void 0),this.search()},showDetail:function(t){var e=this,a=t.applicationId,o=t.user;this.handlerLogVisible=!0,this.$API.post(this.$URL.getEventLog,{applicationId:a,user:o},(function(t){e.eventDetailInfo=t.data}))},closeDialog:function(t){this.handlerLogVisible=t},search:function(t){var e=this,a={pageSize:this.page.pageSize,page:t?1:this.page.currPage,applicationStates:[this.formInline.applicationStates],applicationId:this.formInline.applicationId,sortField:this.sortField,sort:this.sort};this.isLoading=!0,this.$API.post(this.$URL.getApplicationList,a,(function(t){if(e.isLoading=!1,0==t.code){var a=t.page,o=a.list,i=a.totalCount;e.page.totalCount=i,e.eventListData=o}else e.$message.error(t.msg)}))},reset:function(){var t=this;Object.keys(this.formInline).forEach((function(e){t.formInline["".concat(e)]=""})),this.search()}}}),st=(a("7bda"),{components:{offLineTask:S,realTimeTask:it,eventHandle:Object(d.a)(nt,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"event_handle_main"},[e("el-form",{staticStyle:{"text-align":"right"},attrs:{inline:!0,model:t.formInline,size:"small"}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入Application ID"},model:{value:t.formInline.applicationId,callback:function(e){t.$set(t.formInline,"applicationId",e)},expression:"formInline.applicationId"}})],1),e("el-form-item",[e("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择事件状态"},model:{value:t.formInline.applicationStates,callback:function(e){t.$set(t.formInline,"applicationStates",e)},expression:"formInline.applicationStates"}},t._l(t.eventStatusOptions,(function(t,a){return e("el-option",{key:a,staticStyle:{"max-width":"260px"},attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{staticClass:"btn-rt",staticStyle:{"margin-right":"0"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.search(!0)}}},[t._v("查询")]),e("el-button",{attrs:{size:"mini"},on:{click:t.reset}},[t._v("重置")])],1)],1),e("ul",{staticClass:"status_groups"},t._l(t.statusList,(function(a,o){return e("li",{key:o,staticClass:"status"},[e("span",{staticClass:"status_point",class:a.class}),e("span",[t._v(t._s(a.text)+"："+t._s(a.num))])])})),0),e("div",{staticClass:"event_table"},[e("el-table",{attrs:{data:t.eventListData},on:{"sort-change":t.sortChange}},[e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"applicationId","min-width":"120",label:"Application ID"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",label:"名称"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"applicationState",label:"状态"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"queue",label:"队列"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"applicationType","min-width":"130",label:"Application Type"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"startTime","min-width":"150",label:"开始时间",sortable:""}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"130",label:"Duration",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n           "+t._s(t.calcDate(e.row.elapsed))+"\n          ")]}}])}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"containers","min-width":"160",label:"Running Containers"}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"allocatedCPUCores","min-width":"180",label:"Allocated CPU VCores",sortable:""}}),e("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"allocatedMemory","min-width":"180",label:"Allocated Memor MB",sortable:""}}),e("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.showDetail(a.row)}}},[t._v("查看执行日志")])]}}])})],1)],1),e("el-pagination",{attrs:{"current-page":t.page.currPage,"page-sizes":[10,20,50,100],"page-size":t.page.pageSize,total:t.page.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}}),e("event-detail",{attrs:{handlerLogVisible:t.handlerLogVisible,eventDetailInfo:t.eventDetailInfo,closeFunction:t.closeDialog}})],1)}),[],!1,null,"3ef7e8ac",null).exports},data:function(){return{isLoading:!1,activeName:"offLineTask",statisticsData:{},projectListOff:[],projectListReal:[],offLineUserList:[],realTimeUserList:[]}},methods:{getTotalCount:function(t){this.getLastHourStatistics(t)},getLastHourStatistics:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;this.$API.post(this.$URL.getLastHourStatistics,{procId:0,workType:e},(function(e){0==e.code?t.statisticsData=e.data:t.$message.error(e.msg)}))},getProjectListOff:function(){var t=this;this.$API.get(this.$URL.getProcInfoListAll,{type:0},(function(e){if(0==e.code){var a=e.data;a&&a.length>0&&(t.projectListOff=t.projectListOff.concat(a))}else t.$message.error(e.msg)}))},getProjectListReal:function(){var t=this;this.$API.get(this.$URL.getProcInfoListAll,{type:1},(function(e){if(0==e.code){var a=e.data;a&&a.length>0&&(t.projectListReal=t.projectListReal.concat(a))}else t.$message.error(e.msg)}))},getOffLineUsers:function(){var t=this;this.$API.get(this.$URL.bdpjobRunHistoryallUsers,{targetFlage:0},(function(e){0==e.code?t.offLineUserList=e.data:t.$message.error(e.msg)}))},getRealTimeUsers:function(){var t=this;this.isLoading=!0,this.$API.get(this.$URL.bdpjobRunHistoryallUsers,{targetFlage:1},(function(e){t.isLoading=!1,0==e.code?t.realTimeUserList=e.data:t.$message.error(e.msg)}))}},mounted:function(){this.getLastHourStatistics(),this.getProjectListOff(),this.getProjectListReal(),this.getOffLineUsers(),this.getRealTimeUsers(),this.$route.query.type&&(this.activeName="online"==this.$route.query.type?"realTimeTask":"offLineTask")}}),lt=(a("6bcc"),Object(d.a)(st,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"data_factory_task_operations"},[e("el-tabs",{staticStyle:{margin:"0 10px"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"离线任务",name:"offLineTask"}},[e("off-line-task",{attrs:{projectList:t.projectListOff,userList:t.offLineUserList,statistics:t.statisticsData},on:{getLastHourStatisticsReFresh:t.getLastHourStatistics,getTotalCount:t.getTotalCount}})],1),e("el-tab-pane",{attrs:{label:"实时任务",name:"realTimeTask"}},[e("real-time-task",{ref:"realTimeTask",attrs:{userList:t.realTimeUserList,projectList:t.projectListReal,statistics:t.statisticsData},on:{getLastHourStatisticsReFresh:t.getLastHourStatistics}})],1),e("el-tab-pane",{attrs:{label:"事件管理",name:"eventManage"}},[e("event-handle")],1)],1)],1)}),[],!1,null,null,null));e.default=lt.exports},c26b:function(t,e,a){"use strict";var o=a("86cc").f,i=a("2aeb"),r=a("dcbc"),n=a("9b43"),s=a("f605"),l=a("4a59"),c=a("01f9"),d=a("d53b"),u=a("7a56"),p=a("9e1e"),f=a("67ab").fastKey,m=a("b39a"),h=p?"_s":"size",g=function(t,e){var a,o=f(e);if("F"!==o)return t._i[o];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,c){var d=t((function(t,o){s(t,d,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[h]=0,null!=o&&l(o,a,t[c],t)}));return r(d.prototype,{clear:function(){for(var t=m(this,e),a=t._i,o=t._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete a[o.i];t._f=t._l=void 0,t[h]=0},delete:function(t){var a=m(this,e),o=g(a,t);if(o){var i=o.n,r=o.p;delete a._i[o.i],o.r=!0,r&&(r.n=i),i&&(i.p=r),a._f==o&&(a._f=i),a._l==o&&(a._l=r),a[h]--}return!!o},forEach:function(t){m(this,e);for(var a,o=n(t,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(o(a.v,a.k,this);a&&a.r;)a=a.p},has:function(t){return!!g(m(this,e),t)}}),p&&o(d.prototype,"size",{get:function(){return m(this,e)[h]}}),d},def:function(t,e,a){var o,i,r=g(t,e);return r?r.v=a:(t._l=r={i:i=f(e,!0),k:e,v:a,p:o=t._l,n:void 0,r:!1},t._f||(t._f=r),o&&(o.n=r),t[h]++,"F"!==i&&(t._i[i]=r)),t},getEntry:g,setStrong:function(t,e,a){c(t,e,(function(t,a){this._t=m(t,e),this._k=a,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?d(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,d(1))}),a?"entries":"values",!a,!0),u(e)}}},c384:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,'.primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.taskView .title{padding:0 16px}.taskView #graph{width:100%;height:500px}.taskView .view-table{overflow-y:auto}.taskView .view-table .dot:before{content:"";display:inline-block;width:8px;height:8px;border-radius:50%;margin-right:5px}.taskView .view-table .notStart:before{background:#bfbfbf}.taskView .view-table .running:before{background:#0e77d1}.taskView .view-table .success:before{background:#00a854}.taskView .view-table .fail:before{background:#f04134}',""])},c466:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("3b2b"),a("a481");function o(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var o in a)if(new RegExp("(".concat(o,")")).test(e)){var r=a[o]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:i(r))}return e}function i(t){return("00"+t).substr(t.length)}},ce05:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.task_operations_real_time_task .el-drawer__body{height:100%}",""])},d032:function(t,e,a){"use strict";var o=a("53ca");e.a=function t(e){var a=Array.isArray(e)?[]:{};for(var i in e)e.hasOwnProperty(i)&&("object"===Object(o.a)(e[i])&&null!==e[i]?a[i]=t(e[i]):a[i]=e[i]);return a}},d6af:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.data_factory_task_operations .el-tabs--top .el-tabs__item.is-top{padding:0 20px}",""])},d74e:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-267a329d]{color:#1740dc}.success-color[data-v-267a329d]{color:#52c41a}.warning-color[data-v-267a329d]{color:#faad14}.error-color[data-v-267a329d]{color:#f5222d}.info-color[data-v-267a329d]{color:#909399}.border-color[data-v-267a329d]{border:1px solid #e5e6e9}.realtime_task_checkpoint[data-v-267a329d]{padding:12px}.realtime_task_checkpoint .item[data-v-267a329d]{margin-top:12px}.realtime_task_checkpoint .item .counts_ul[data-v-267a329d]{display:-webkit-box;display:-ms-flexbox;display:flex;padding:4px 4px 4px 8px}.realtime_task_checkpoint .item .counts_ul li[data-v-267a329d]{margin-right:18px}",""])},d76e:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.data_factory_task_operations_detail .no-data{font-size:12px;padding:20px;color:#040c2c}.data_factory_task_operations .data_factory_task_operations_detail .el-tabs--top .el-tabs__item.is-top{padding-left:20px}",""])},df9c:function(t,e,a){var o=a("16b7");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("6ffde8b0",o,!0,{sourceMap:!1,shadowMode:!1})},e03c:function(t,e,a){var o=a("3a0f");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("68f5be48",o,!0,{sourceMap:!1,shadowMode:!1})},e05f:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-3f9ed94e]{color:#1740dc}.success-color[data-v-3f9ed94e]{color:#52c41a}.warning-color[data-v-3f9ed94e]{color:#faad14}.error-color[data-v-3f9ed94e]{color:#f5222d}.info-color[data-v-3f9ed94e]{color:#909399}.border-color[data-v-3f9ed94e]{border:1px solid #e5e6e9}[data-v-3f9ed94e] .el-dialog{margin-top:6vh!important}[data-v-3f9ed94e] .el-tab-pane{max-height:400px;overflow:auto}",""])},e0b8:function(t,e,a){"use strict";var o=a("7726"),i=a("5ca1"),r=a("2aba"),n=a("dcbc"),s=a("67ab"),l=a("4a59"),c=a("f605"),d=a("d3f4"),u=a("79e5"),p=a("5cc5"),f=a("7f20"),m=a("5dbc");t.exports=function(t,e,a,h,g,b){var v=o[t],_=v,w=g?"set":"add",y=_&&_.prototype,k={},x=function(t){var e=y[t];r(y,t,"delete"==t||"has"==t?function(t){return!(b&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return b&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,a){return e.call(this,0===t?0:t,a),this})};if("function"==typeof _&&(b||y.forEach&&!u((function(){(new _).entries().next()})))){var D=new _,I=D[w](b?{}:-0,1)!=D,R=u((function(){D.has(1)})),S=p((function(t){new _(t)})),L=!b&&u((function(){for(var t=new _,e=5;e--;)t[w](e,e);return!t.has(-0)}));S||((_=e((function(e,a){c(e,_,t);var o=m(new v,e,_);return null!=a&&l(a,g,o[w],o),o}))).prototype=y,y.constructor=_),(R||L)&&(x("delete"),x("has"),g&&x("get")),(L||I)&&x(w),b&&y.clear&&delete y.clear}else _=h.getConstructor(e,t,g,w),n(_.prototype,a),s.NEED=!0;return f(_,t),k[t]=_,i(i.G+i.W+i.F*(_!=v),k),b||h.setStrong(_,t,g),_}},e17a:function(t,e,a){var o=a("326e");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("3f688a0b",o,!0,{sourceMap:!1,shadowMode:!1})},e399:function(t,e,a){var o=a("5d03");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("5a54855e",o,!0,{sourceMap:!1,shadowMode:!1})},ebce:function(t,e,a){var o=a("f54d");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("0c636f06",o,!0,{sourceMap:!1,shadowMode:!1})},ee26:function(t,e,a){var o=a("ce05");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("1b41a0d6",o,!0,{sourceMap:!1,shadowMode:!1})},f064:function(t,e,a){var o=a("3b60");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a("499e").default)("4a24ca6b",o,!0,{sourceMap:!1,shadowMode:!1})},f078:function(t,e,a){"use strict";a("aafb")},f1e9:function(t,e,a){"use strict";a("5d23")},f400:function(t,e,a){"use strict";var o=a("c26b"),i=a("b39a");t.exports=a("e0b8")("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=o.getEntry(i(this,"Map"),t);return e&&e.v},set:function(t,e){return o.def(i(this,"Map"),0===t?0:t,e)}},o,!0)},f54d:function(t,e,a){(t.exports=a("2350")(!1)).push([t.i,".primary-color[data-v-21682ad0]{color:#1740dc}.success-color[data-v-21682ad0]{color:#52c41a}.warning-color[data-v-21682ad0]{color:#faad14}.error-color[data-v-21682ad0]{color:#f5222d}.info-color[data-v-21682ad0]{color:#909399}.border-color[data-v-21682ad0]{border:1px solid #e5e6e9}.off_task_details #edit_menu[data-v-21682ad0]{position:fixed;padding:12px 0;line-height:2.4;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);background:#fff;color:#040c2c;z-index:2}.off_task_details #edit_menu li[data-v-21682ad0]{padding:0 20px;cursor:pointer}.off_task_details #edit_menu li[data-v-21682ad0]:hover{background:#f2f3f4;color:#1740dc}",""])},fda1:function(t,e,a){"use strict";a("f064")}}]);