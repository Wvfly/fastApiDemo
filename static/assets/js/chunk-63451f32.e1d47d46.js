(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-63451f32"],{"0006":function(t,e,i){"use strict";i("e1e5")},"0bf1":function(t,e,i){"use strict";i("8c3a")},"1b22":function(t,e,i){(t.exports=i("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.addorEditDictionary .el-form-item__label{width:auto!important}.addorEditDictionary .handle{width:100%;text-align:right}",""])},"2f21":function(t,e,i){"use strict";var o=i("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"3f65":function(t,e,i){(t.exports=i("2350")(!1)).push([t.i,".primary-color[data-v-225b7265]{color:#1740dc}.success-color[data-v-225b7265]{color:#52c41a}.warning-color[data-v-225b7265]{color:#faad14}.error-color[data-v-225b7265]{color:#f5222d}.info-color[data-v-225b7265]{color:#909399}.border-color[data-v-225b7265]{border:1px solid #e5e6e9}.dictionaryManage[data-v-225b7265]{padding:20px;padding-top:15px;text-align:left}",""])},4967:function(t,e,i){"use strict";i("5395")},5395:function(t,e,i){var o=i("dd22");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,i("499e").default)("66c4e4f7",o,!0,{sourceMap:!1,shadowMode:!1})},"55dd":function(t,e,i){"use strict";var o=i("5ca1"),a=i("d8e8"),r=i("4bf8"),l=i("79e5"),s=[].sort,n=[1,2,3];o(o.P+o.F*(l((function(){n.sort(void 0)}))||!l((function(){n.sort(null)}))||!i("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),a(t))}})},"8c3a":function(t,e,i){var o=i("3f65");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,i("499e").default)("6c9db755",o,!0,{sourceMap:!1,shadowMode:!1})},aac9:function(t,e,i){"use strict";i.r(e);i("7f7f"),i("a481"),i("6762"),i("2fdb"),i("3b2b");var o={data:function(){return{dialogVisible:!1,loading:!1,form:{dictName:"",dictCode:"",descript:"",dictId:null},rules:{dictName:[{required:!0,validator:function(t,e,i){return e&&e.trim()?e.includes(" ")||e.includes("\t")?i(new Error("字典名称不允许带有空格")):void i():i(new Error("请输入字典名称"))},trigger:"blur"},{max:20,message:"长度在20个字符以内",trigger:"blur"}],dictCode:[{required:!0,validator:function(t,e,i){RegExp("^.{5,100}$").test(e)?e.includes(" ")||e.includes("\t")?i(new Error("不允许带有空格")):i():i(new Error("必须超过4个字符"))},trigger:"blur"},{max:50,message:"长度在50个字符以内",trigger:"blur"}],descript:[{required:!0,message:"请输入字典描述",trigger:"blur"},{max:100,message:"长度在100个字符以内",trigger:"blur"}]}}},computed:{},mounted:function(){},methods:{init:function(t){this.dialogVisible=!0,t&&(this.form.dictId=t,this.getdictInfo(t))},trim:function(){this.form.name=this.form.name.replace(/^\s+|\s+$/gm,"")},getdictInfo:function(t){var e=this;this.$API.get(this.$URL.getDictInfo+t,{},(function(t){0==t.code?e.form=t.data:e.$message.error({message:t.msg})}))},closeDialog:function(){this.$refs.form.resetFields(),this.form.dictId=null},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(e){var i={dictName:t.form.dictName,dictCode:t.form.dictCode,descript:t.form.descript,dictId:t.form.dictId?t.form.dictId:""};t.loading=!0,t.$API.post(t.form.dictId?t.$URL.getDictEdit:t.$URL.getDictSave,i,(function(e){0==e.code?(t.$message({message:"保存成功！",type:"success"}),t.$emit("refreshDM"),t.dialogVisible=!1):t.$message.error(e.msg),t.loading=!1}))}}))}}},a=(i("0006"),i("2877")),r=Object(a.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"addorEditDictionary"},[e("el-dialog",{staticStyle:{"text-align":"left"},attrs:{title:(t.form.dictId?"编辑":"创建")+"字典",width:"620px",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeDialog}},[e("div",[e("el-form",{ref:"form",staticClass:"form",attrs:{inline:!0,model:t.form,rules:t.rules,"label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[e("el-input",{staticStyle:{width:"440px"},attrs:{placeholder:"请输入字典名称"},model:{value:t.form.dictName,callback:function(e){t.$set(t.form,"dictName","string"==typeof e?e.trim():e)},expression:"form.dictName "}})],1),e("el-form-item",{attrs:{label:"字典标识",prop:"dictCode"}},[e("el-input",{staticStyle:{width:"440px"},attrs:{placeholder:"请输入字典标识"},model:{value:t.form.dictCode,callback:function(e){t.$set(t.form,"dictCode","string"==typeof e?e.trim():e)},expression:"form.dictCode"}})],1),e("el-form-item",{attrs:{label:"字典描述",prop:"descript"}},[e("el-input",{staticStyle:{width:"440px"},attrs:{type:"textarea",placeholder:"请输入字典描述"},model:{value:t.form.descript,callback:function(e){t.$set(t.form,"descript",e)},expression:"form.descript"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.submitForm()}}},[t._v("保存")])],1)])],1)}),[],!1,null,null,null).exports,l=(i("55dd"),{data:function(){return{dialogVisible:!1,dictId:null,isDisabled:!1,type_options:[],loading:!1,connect_test_result:!1,form:{tableFieldInfos:[{tagName:"",tagValue:"",sort:""}]},rules:{tagName:[{required:!0,validator:function(t,e,i){RegExp("^[一-龥_a-zA-Z0-9]+$").test(e)&&0!=e?i():i(new Error("中文，英文字母和数字及下划线"))},trigger:"blur"},{max:50,message:"长度在50个字符以内",trigger:"blur"}],tagValue:[{required:!0,message:"不能为空",trigger:"blur"},{max:50,message:"长度在50个字符以内",trigger:"blur"}],sort:[{required:!0,validator:function(t,e,i){!RegExp("^[0-9]*$").test(e)||0==e||e>99?i(new Error("请输入99以内正整数")):i()},trigger:"blur"}]}}},computed:{},mounted:function(){},methods:{init:function(t){this.dialogVisible=!0,this.dictId=t,this.getDictTagList(t)},changeId:function(t){var e=this;this.$nextTick((function(){e.$refs.form.clearValidate()}))},closeDialog:function(){this.$refs.form.resetFields()},getDictTagList:function(t){var e=this;this.$API.get(this.$URL.getDictTagList+t,{},(function(t){0==t.code?e.form.tableFieldInfos=t.data:e.$message.error({message:t.msg})}))},submitForm:function(){var t=this;this.$refs.form.validate((function(e){if(e){var i={sysDictTags:t.form.tableFieldInfos,dictId:t.dictId};t.loading=!0,t.$API.post(t.$URL.getDictSaveTag,i,(function(e){0==e.code?(t.$message({message:"保存成功！",type:"success"}),t.$emit("refreshDM"),t.dialogVisible=!1):t.$message.error(e.msg),t.loading=!1}))}}))},addNew:function(){this.form.tableFieldInfos.push({tagName:"",tagValue:"",sort:""})},deleteCur:function(t){var e=this;t.row.tagId?(this.loading=!0,this.$API.delete(this.$URL.getDictDeleteDictTag+t.row.tagId,{},(function(i){e.loading=!1,0==i.code?e.form.tableFieldInfos.splice(t.$index,1):e.$message.error(i.msg)}))):this.form.tableFieldInfos.splice(t.$index,1)}}}),s=(i("4967"),{components:{addorEditDictionary:r,addorEditDictionaryData:Object(a.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"addorEditDictionaryData"},[e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"text-align":"left"},attrs:{title:"新建/编辑字典数据",width:"60% !important",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e},close:t.closeDialog}},[e("div",[e("el-form",{ref:"form",staticClass:"form",attrs:{disabled:t.isDisabled,inline:!0,model:t.form,rules:t.rules,"label-width":"100px"}},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.form.tableFieldInfos}},[e("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"}}),e("el-table-column",{attrs:{label:"字典标签"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-form-item",{attrs:{prop:"tableFieldInfos."+i.$index+".tagName",rules:t.rules.tagName}},[e("el-input",{attrs:{placeholder:"请输入中文，英文字母和数字及下划线"},model:{value:i.row.tagName,callback:function(e){t.$set(i.row,"tagName",e)},expression:"scope.row.tagName"}})],1)]}}])}),e("el-table-column",{attrs:{label:"字典值"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-form-item",{attrs:{prop:"tableFieldInfos."+i.$index+".tagValue",rules:t.rules.tagValue}},[e("el-input",{attrs:{placeholder:"请输入"},model:{value:i.row.tagValue,callback:function(e){t.$set(i.row,"tagValue",e)},expression:"scope.row.tagValue"}})],1)]}}])}),e("el-table-column",{attrs:{label:"排序"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-form-item",{attrs:{prop:"tableFieldInfos."+i.$index+".sort",rules:t.rules.sort}},[e("el-input",{attrs:{placeholder:"请输入正整数"},model:{value:i.row.sort,callback:function(e){t.$set(i.row,"sort",e)},expression:"scope.row.sort"}})],1)]}}])}),e("el-table-column",{attrs:{"header-align":"right",align:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{staticClass:"delete",attrs:{size:"mini",type:"text"},on:{click:function(e){return t.deleteCur(i)}}},[t._v("删除")])]}}])})],1),e("div",{staticClass:"addNew",on:{click:function(e){return t.addNew()}}},[e("i",{staticClass:"el-icon-plus"}),t._v("添加")])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.submitForm()}}},[t._v("保存")])],1)])],1)}),[],!1,null,null,null).exports},data:function(){return{loading:!1,pageIndex:1,pageSize:10,totalPage:0,select:{searchText:""},list:[]}},computed:{},mounted:function(){this.get_dict_list(),this.$route.query.status&&this.$route.query.dictId&&(this.$refs.addorEditDictionaryData.dialogVisible=!0,this.addorEditDictionaryData(this.$route.query.dictId))},methods:{get_dict_list:function(){var t=this,e={page:this.pageIndex,limit:this.pageSize,searchText:this.select.searchText};this.loading=!0,this.$API.post(this.$URL.getDictPage,e,(function(e){0==e.code?(t.list=e.page.list,t.totalPage=e.page.totalCount):t.$message.error(e.msg),t.loading=!1}))},typeName:function(t){for(var e in this.type_options)if(this.type_options[e].id===t)return this.type_options[e].name},addorEditDictionary:function(t){var e=this;this.$nextTick((function(){e.$refs.addorEditDictionary.init(t)}))},addorEditDictionaryData:function(t){var e=this;this.$nextTick((function(){e.$refs.addorEditDictionaryData.init(t)}))},delete_dict:function(t){var e=this;this.$confirm("确定进行删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$API.delete(e.$URL.getDictDeleteDict+t,{},(function(t){if(0==t.code){e.$message({message:"删除成功！",type:"success"});var i=Math.ceil((e.totalPage-1)/e.pageSize);e.pageIndex=e.pageIndex>i?i:e.pageIndex,e.pageIndex=e.pageIndex<1?1:e.pageIndex,e.get_dict_list()}else e.$message.error({message:t.msg})}))})).catch((function(){}))},sizeChangeHandle:function(t){this.pageSize=t,this.pageIndex=1,this.get_dict_list()},currentChangeHandle:function(t){this.pageIndex=t,this.get_dict_list()},do_search:function(){this.pageIndex=1,this.get_dict_list()},reset:function(){this.select.searchText="",this.pageIndex=1,this.get_dict_list()}}}),n=(i("0bf1"),Object(a.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dictionaryManage"},[e("el-form",{staticClass:"form",attrs:{inline:!0}},[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"dictionaryManage_add",expression:"'dictionaryManage_add'"}],attrs:{type:"primary"},on:{click:function(e){return t.addorEditDictionary(0)}}},[t._v("创建")]),e("el-form-item",{staticStyle:{float:"right","margin-right":"0"}},[e("el-button",{on:{click:function(e){return t.reset()}}},[t._v("重置")])],1),e("el-form-item",{staticStyle:{float:"right"}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.do_search()}}},[t._v("查询")])],1),e("el-form-item",{staticStyle:{float:"right"},attrs:{label:""}},[e("el-input",{attrs:{placeholder:"请输入名称或标识"},model:{value:t.select.searchText,callback:function(e){t.$set(t.select,"searchText","string"==typeof e?e.trim():e)},expression:"select.searchText"}})],1)],1),[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list}},[e("el-table-column",{attrs:{prop:"dictId",label:"字典ID",width:"80"}}),e("el-table-column",{attrs:{prop:"dictName",label:"字典名称","show-overflow-tooltip":!0,width:"180"}}),e("el-table-column",{attrs:{prop:"dictCode",label:"字典标识","show-overflow-tooltip":!0,width:"180"}}),e("el-table-column",{attrs:{prop:"createUserName",label:"创建人",width:"180"}}),e("el-table-column",{attrs:{prop:"descript","show-overflow-tooltip":!0,label:"字典描述"}}),e("el-table-column",{attrs:{"header-align":"right",align:"right",prop:"operate",label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"dictionaryManage_edit",expression:"'dictionaryManage_edit'"}],attrs:{type:"text"},on:{click:function(e){return t.addorEditDictionary(i.row.dictId)}}},[t._v("编辑")]),e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"dictionaryManage_add",expression:"'dictionaryManage_add'"}],attrs:{type:"text"},on:{click:function(e){return t.addorEditDictionaryData(i.row.dictId)}}},[t._v("字典数据")]),e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"dictionaryManage_delete",expression:"'dictionaryManage_delete'"}],staticClass:"delete",attrs:{type:"text"},on:{click:function(e){return t.delete_dict(i.row.dictId)}}},[t._v("删除")])]}}])})],1),e("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[10,20,50,100],"page-size":t.pageSize,total:t.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}})],e("addorEditDictionary",{ref:"addorEditDictionary",on:{refreshDM:t.get_dict_list}}),e("addorEditDictionaryData",{ref:"addorEditDictionaryData"})],2)}),[],!1,null,"225b7265",null));e.default=n.exports},dd22:function(t,e,i){(t.exports=i("2350")(!1)).push([t.i,".primary-color{color:#1740dc}.success-color{color:#52c41a}.warning-color{color:#faad14}.error-color{color:#f5222d}.info-color{color:#909399}.border-color{border:1px solid #e5e6e9}.addorEditDictionaryData .el-form-item__label{width:auto!important}.addorEditDictionaryData .delete{color:#f5222d}.addorEditDictionaryData .addNew{width:100%;line-height:30px;font-size:12px;color:#040c2c;text-align:center;border:1px dashed #cdced5;cursor:pointer;margin-top:10px}.addorEditDictionaryData .addNew:hover{color:#1740dc;border-color:#1740dc}.addorEditDictionaryData .handle{width:100%;text-align:right}",""])},e1e5:function(t,e,i){var o=i("1b22");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,i("499e").default)("788ad51e",o,!0,{sourceMap:!1,shadowMode:!1})}}]);