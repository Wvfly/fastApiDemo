(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-47cecc08"],{"386b":function(e,t,a){var r=a("5ca1"),i=a("79e5"),n=a("be13"),s=/"/g,o=function(e,t,a,r){var i=String(n(e)),o="<"+t;return""!==a&&(o+=" "+a+'="'+String(r).replace(s,"&quot;")+'"'),o+">"+i+"</"+t+">"};e.exports=function(e,t){var a={};a[e]=t(o),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",a)}},"5b2a":function(e,t,a){"use strict";a.r(t);a("a481"),a("386d"),a("7f7f"),a("ac6a"),a("96cf");var r,i,n,s,o,l,c,u,d,p,f,h=a("1da1"),m=(a("d263"),a("c5f6"),a("50f0")),b={name:"CustomerTable",props:{dataList:{type:Array,default:function(){return[]}},labelMap:{type:Object,default:function(){return[]}},height:{type:Number,default:540}},data:function(){return{scale:1}},components:{filterTBHeader:m.a},created:function(){},computed:{},methods:{headerCellStyle:function(){return{}},headerRowStyle:function(){return{}},cellStyle:function(){return{}},rowStyle:function(){return{}},handleSortChange:function(e){this.$emit("sortChange",e)}}},g=(a("baa5"),a("2877")),v=Object(g.a)(b,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"customer-table"},[t("el-table",e._b({staticStyle:{width:"100%"},attrs:{data:e.dataList,"header-cell-style":e.headerCellStyle,"header-row-style":e.headerRowStyle,"cell-style":e.cellStyle,"row-style":e.rowStyle},on:{"sort-change":e.handleSortChange}},"el-table",e.$attrs,!1),e._l(e.labelMap,(function(a,r){return t("el-table-column",{key:r,attrs:{"show-overflow-tooltip":a.showTip,prop:r,label:a.name,sortable:a.sortable,width:a.width,"min-width":a.minwidth,fixed:a.fixed,align:a.align||"left"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._t("row",null,{row:i,prop:r,label:a.name})]}}],null,!0)})})),1)],1)}),[],!1,null,"049e4f2b",null).exports,y=a("6c8a"),x=a("1e7c"),w={name:"EditCorSourceCompare",data:function(){return{isDialogVisible:!1,currentRow:null}},methods:{handleDialogClose:function(){this.isDialogVisible=!1,this.$refs.compareRuleSet.formRef().resetFields()},openDialog:function(e){var t=this;this.currentRow=e,this.isDialogVisible=!0,this.$nextTick((function(){t.$refs.compareRuleSet.init()}))},save:function(){this.$refs.compareRuleSet.save()}},components:{CompareRuleSet:a("7b2a").a}},S=Object(g.a)(w,(function(){var e=this._self._c;return e("div",{staticClass:"edit-cor-source-compare"},[e("el-dialog",{attrs:{title:"编辑跨源对比任务",visible:this.isDialogVisible,width:"70%"},on:{close:this.handleDialogClose}},[e("compare-rule-set",{ref:"compareRuleSet",attrs:{row:this.currentRow},on:{close:this.handleDialogClose}}),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:this.handleDialogClose}},[this._v("取消")]),e("el-button",{attrs:{type:"primary"},on:{click:this.save}},[this._v("保存")])],1)],1)],1)}),[],!1,null,"acff1edc",null).exports,k=a("8e5b"),T={name:"CorSourceCompare",props:{total:{type:Number,default:0}},data:function(){return{currentId:null,dialogVisible:!1,subscribeDialogVisible:!1,loading:!1,moreType:!1,currentPage:1,pageSize:10,pageTotal:0,form:{searchUserId:null,taskName:"",typeId:null,connectId:null},createUserList:[],typeList:[{name:"Hive",id:11},{name:"MySQL",id:1},{name:"Oracle",id:2},{name:"SQL Server",id:3}],dataSourceList:[],taskList:[],labelMap:{taskName:{name:"任务名",fixed:"left",minwidth:120,showTip:!0},sourceDataType:{name:"来源类型",width:90},sourceData:{name:"来源数据源",minwidth:80,showTip:!0},sourceSql:{name:"来源SQL",align:"left",minwidth:130,showTip:!0},targetType:{name:"目标类型",width:90},targetSource:{name:"目标数据源",minwidth:80,showTip:!0},targetSql:{name:"目标SQL",minwidth:130,showTip:!0},createPerName:{name:"责任人",minwidth:100},ruleFormula:{name:"规则公式",minwidth:130,showTip:!0},lastExecutionTime:{name:"最近修改时间",width:130},updatePer:{name:"修改人",width:100},operator:{name:"操作",minwidth:140,fixed:"right"}}}},mounted:function(){this.getCompareAcrossSourceList(),this.getQueryPerNameOfCorSource(),this.getQuerySourceOfCorSource()},methods:{getCompareAcrossSourceList:(o=Object(h.a)(regeneratorRuntime.mark((function e(){var t,a,r,i,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.W)({taskName:this.form.taskName,userId:this.form.searchUserId,sourceType:this.form.typeId,sourceDataSource:this.form.connectId,page:this.currentPage,pageSize:this.pageSize});case 2:t=e.sent,a=t.data,r=a.code,i=a.data,n=i.records,s=i.total,0===r&&(this.taskList=n,this.pageTotal=s,this.$emit("update:total",s));case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),createCompareTask:function(){this.$router.push("/createCompareTask")},search:function(){this.currentPage=1,this.getCompareAcrossSourceList()},reset:function(){this.$refs.search.resetFields(),this.dataSourceList=[],this.getCompareAcrossSourceList()},searchMore:function(){this.moreType=!this.moreType},getRuleDataSourceList:function(){},edit:function(e){this.$refs.editDialog.openDialog(e)},del:function(e){var t=this;this.$confirm("确定是否删除这个对比任务？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(h.a)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(k.Rb)({qualityId:e.qualityId,ruleId:e.ruleId});case 2:r=a.sent,0===r.data.code&&(t.$message.success("删除成功！"),t.getCompareAcrossSourceList());case 5:case"end":return a.stop()}}),a)})))).catch((function(){}))},runDataNewQualityInfo:(s=Object(h.a)(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Sb)(t.qualityId);case 2:0===(a=e.sent).data.code?this.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){r.getCompareAcrossSourceList()}}):this.$message.error(a.data.msg);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)}),handleCommand:function(e,t){var a=this;1===e?this.runDataNewQualityInfo(t):2===e?this.$router.push("/dataQualityNew/qualityTaskMonitor?taskName=".concat(t.taskName,"&tab=corSourceCompare")):3===e?(this.dialogVisible=!0,this.currentId=t.qualityId,this.$nextTick((function(){a.$refs.scheduling.init()}))):4===e&&(this.subscribeDialogVisible=!0,this.currentId=t.qualityId,this.$nextTick((function(){a.$refs.subscribe.init()})))},handleSizeChange:function(e){this.pageSize=e,this.getCompareAcrossSourceList()},handlePageChange:function(e){this.currentPage=e,this.getCompareAcrossSourceList()},cancel:function(){this.dialogVisible=!1,this.$refs.scheduling.close()},handleCancel:function(){this.subscribeDialogVisible=!1},save:function(){this.$refs.scheduling.submitForm()},handleSave:function(){this.$refs.subscribe.submit()},handleRefresh:function(){this.dialogVisible=!1,this.getCompareAcrossSourceList()},getQueryPerNameOfCorSource:(n=Object(h.a)(regeneratorRuntime.mark((function e(){var t,a,r,i,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.zb)();case 2:t=e.sent,a=t.data,r=a.code,i=a.data,0===r&&(this.createUserList=[],i.forEach((function(e){n.createUserList.push({id:e.id,name:e.name})})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),getQuerySourceTypeOfCorSource:(i=Object(h.a)(regeneratorRuntime.mark((function e(){var t,a,r,i,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.Bb)();case 2:t=e.sent,a=t.data,r=a.code,i=a.data,0===r&&(this.typeList=[],i.forEach((function(e){n.typeList.push({id:e.id,name:e.name})})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),getQuerySourceOfCorSource:(r=Object(h.a)(regeneratorRuntime.mark((function e(){var t,a,r,i,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.form.connectId="",e.next=3,Object(k.Ab)({id:this.form.typeId});case 3:t=e.sent,a=t.data,r=a.code,i=a.data,0===r&&(this.dataSourceList=[],this.form.typeId&&i.forEach((function(e){n.dataSourceList.push({id:e.id,name:e.name})})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},components:{CustomerTable:v,SchedulingNew:y.a,SubscribeNew:x.a,EditCorSourceCompare:S}},C=(a("bcc2"),Object(g.a)(T,(function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"search",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form}},[t("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between"}},[t("el-col",{staticStyle:{"font-size":"12px"},attrs:{md:4,lg:5,xl:12}},[t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"createCompareTask",expression:"'createCompareTask'"}],staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.createCompareTask}},[e._v("创建对比任务")])],1),t("el-col",{staticStyle:{padding:"0px"},attrs:{md:20,lg:19,xl:12}},[t("div",{staticClass:"fr"},[t("el-form-item",{attrs:{prop:"searchUserId"}},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择责任人"},model:{value:e.form.searchUserId,callback:function(t){e.$set(e.form,"searchUserId",t)},expression:"form.searchUserId"}},e._l(e.createUserList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{prop:"taskName"}},[t("el-input",{attrs:{placeholder:"请输入任务名",clearable:""},model:{value:e.form.taskName,callback:function(t){e.$set(e.form,"taskName","string"==typeof t?t.trim():t)},expression:"form.taskName"}})],1),t("el-form-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v("查询")]),t("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")]),t("el-button",{attrs:{type:"text"},on:{click:e.searchMore}},[e._v(e._s(e.moreType?"普通查询":"高级查询"))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.moreType,expression:"moreType"}],staticStyle:{display:"flex","justify-content":"flex-end"}},[t("el-form-item",{attrs:{prop:"typeId"}},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据源类型",size:"mini"},on:{change:e.getQuerySourceOfCorSource},model:{value:e.form.typeId,callback:function(t){e.$set(e.form,"typeId",t)},expression:"form.typeId"}},e._l(e.typeList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{prop:"connectId"}},[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据源",size:"mini"},model:{value:e.form.connectId,callback:function(t){e.$set(e.form,"connectId",t)},expression:"form.connectId"}},e._l(e.dataSourceList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1)])],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"search-list"},[t("div",{staticClass:"search-table"},[t("customer-table",{attrs:{dataList:e.taskList,labelMap:e.labelMap,"max-height":610},scopedSlots:e._u([{key:"row",fn:function(a){var r=a.row,i=a.prop,n=a.label;return["任务名"===n||"来源数据源"===n||"来源SQL"===n||"目标数据源"===n||"目标SQL"===n||"规则公式"===n?t("div",{staticClass:"over-flow"},[e._v(e._s(r[i]))]):"操作"===n?t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.edit(r)}}},[e._v("编辑")]),t("el-button",{staticStyle:{"margin-right":"8px"},attrs:{type:"text"},on:{click:function(t){return e.del(r)}}},[e._v("删除")]),t("el-dropdown",{on:{command:function(t){return e.handleCommand(t,r)}}},[t("span",{staticClass:"el-dropdown-link",staticStyle:{color:"#1740DC"}},[e._v("\n\t\t\t\t\t\t\t\t\t\t更多"),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:1}},[e._v("手动运行")]),t("el-dropdown-item",{attrs:{command:2,disabled:null==r.monitorHistoryId}},[e._v("运行结果")]),t("el-dropdown-item",{attrs:{command:3}},[e._v("调度运行")]),t("el-dropdown-item",{attrs:{command:4}},[e._v("订阅管理")])],1)],1)],1):t("div",[e._v(e._s(r[i]))])]}}])})],1),t("div",{staticClass:"search-pagination"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}})],1)]),t("el-dialog",{attrs:{title:"调度配置",visible:e.dialogVisible},on:{close:e.cancel}},[e.dialogVisible?t("scheduling-new",{ref:"scheduling",attrs:{id:e.currentId},on:{refresh:e.handleRefresh}}):e._e(),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.cancel}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1),t("el-dialog",{attrs:{title:"订阅管理",visible:e.subscribeDialogVisible,width:"40%"},on:{close:e.handleCancel}},[e.subscribeDialogVisible?t("subscribe-new",{ref:"subscribe",attrs:{id:e.currentId},on:{close:e.handleCancel}}):e._e(),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.handleCancel}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")])],1)],1),t("edit-cor-source-compare",{ref:"editDialog",on:{refresh:e.handleRefresh}})],1)}),[],!1,null,"69ce1116",null).exports),L=a("d8ad"),N=a("86b9"),_={name:"NewQualityList",data:function(){return{activeName:"tableTask",loading:!1,moreType:!1,dataSourceList:[],dataBaseList:[],dbType:null,typeList:[],conn:null,datebase:null,searchUserId:null,liable:null,tableName:null,qualityList:[],createUserList:[],labelMap:{tableName:{name:"表名",sortable:!1,minwidth:120,showTip:!0,fixed:"left"},databaseName:{name:"数据库",sortable:!1,minwidth:100,showTip:!0},sourceName:{name:"数据源名称",sortable:!1,width:130,showTip:!0},sourceType:{name:"数据源类型",sortable:!1,width:80},liableName:{name:"责任人",sortable:!1,minwidth:140,showTip:!0},ruleTotalNum:{name:"规则总数",sortable:"custom",width:100},enableRuleTotalNum:{name:"启用规则数",sortable:"custom",width:110},lastUpdateTime:{name:"最近修改时间",sortable:!1,width:130},lastUpdateName:{name:"修改人",sortable:!1,minwidth:120,showTip:!0},operator:{name:"操作",align:"right",sortable:!1,minwidth:130,fixed:"right"}},currentPage:1,pageTotal:0,pageSize:10,ruleTotalNumSort:null,exceptionTotalNumSort:null,corSourceTaskPageTotal:0}},computed:{connectName:function(){var e=this;return this.dataSourceList.length>0?this.dataSourceList.filter((function(t){return t.value===e.conn}))[0].label:""}},methods:{searchMore:function(){this.moreType=!this.moreType},getcreateUserList:(f=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.Ob)({});case 3:0===(t=e.sent).data.code?this.createUserList=t.data.data:this.$message.error(t.data.msg),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return f.apply(this,arguments)}),handleSortChange:function(e){var t={ascending:"asc",descending:"desc"};"ruleTotalNum"===e.prop?(this.ruleTotalNumSort=e.order?t[e.order]:null,this.exceptionTotalNumSort=null):"enableRuleTotalNum"===e.prop&&(this.exceptionTotalNumSort=e.order?t[e.order]:null,this.ruleTotalNumSort=null),this.getQualityInfoList()},handlePageChange:function(e){this.currentPage=e},handleSizeChange:function(e){this.pageSize=e},clearAllRules:function(e){var t=this;this.$confirm("你确定要清空全部规则吗?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then((function(){t.qualityRuleDeleteAll(e.id)})).catch((function(){}))},setRules:function(e){localStorage.tableDetail=JSON.stringify({typeId:e.sourceType,connectId:e.connectId,connectName:e.sourceName,databaseName:e.databaseName,tableName:e.tableName,id:e.id}),this.$router.push({path:"/qualityrules",query:{id:e.id,dataSource:e.sourceName,dataBase:e.databaseName,dataTable:e.tableName,typeId:e.sourceType,connectId:e.connectId,connectName:e.sourceName,databaseName:e.databaseName,tableName:e.tableName}})},fastCreateRules:function(){this.$router.push("/addQualityTask"),this.$nextTick((function(){L.a.$emit("clearSessionStorage")}))},getQualityInfoList:(p=Object(h.a)(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,t={tableName:this.tableName,conn:this.conn,datebase:this.datebase,dbType:this.dbType,liable:this.liable,limit:this.pageSize,page:this.currentPage,tenantId:0,ruleTotleOrder:this.ruleTotalNumSort,activeRuleTotleOrder:this.exceptionTotalNumSort,qualityId:this.$route.query.qualityId||""},e.prev=2,e.next=5,Object(k.yb)(t);case 5:a=e.sent,this.qualityList=a.data.data.records,this.pageTotal=a.data.data.total,this.loading=!1,e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(){return p.apply(this,arguments)}),qualityRuleDeleteAll:(d=Object(h.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.K)(t);case 3:0===e.sent.data.code&&(this.$message({type:"success",message:"清空成功!"}),this.getQualityInfoList()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return d.apply(this,arguments)}),getDatasourceTypeList:(u=Object(h.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(k.tb)();case 3:0===(t=e.sent).data.code&&(this.typeList=t.data.data,this.dbType=this.typeList[0].dbType),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return u.apply(this,arguments)}),getRuleDataSourceList:(c=Object(h.a)(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return this.dataSourceList=[],this.dataBaseList=[],this.conn="",this.datebase="",e.prev=5,e.next=8,Object(k.Db)({id:this.dbType});case 8:0===(a=e.sent).data.code&&(this.dataSourceList=[],a.data.data.forEach((function(e){r.dataSourceList.push({value:e.id,label:e.name})}))),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:e.next=20;break;case 16:this.dataSourceList=[],this.dataBaseList=[],this.conn="",this.datebase="";case 20:case"end":return e.stop()}}),e,this,[[5,12]])}))),function(e){return c.apply(this,arguments)}),qualityRuleDatabase:(l=Object(h.a)(regeneratorRuntime.mark((function e(t){var a,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.connectId,e.prev=1,e.next=4,Object(N.e)(a);case 4:if(r=e.sent,this.dataBaseList=[],"-1"!=a){e.next=8;break}return e.abrupt("return");case 8:r.data.data.forEach((function(e){i.dataBaseList.push({value:e,label:e})})),this.dataBaseList.length>0||(this.datebase=null),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e){return l.apply(this,arguments)}),search:function(){this.currentPage=1,this.getQualityInfoList()},reset:function(){this.currentPage=1,this.liable="",this.tableName="",this.typeId=this.typeList[0].typeId,this.conn="",this.datebase="",this.dbType="",this.liable="",this.getQualityInfoList()}},mounted:function(){this.conn=this.$route.query.conn||"",this.datebase=this.$route.query.datebase,this.dbType=this.$route.query.dbType,this.liable=this.$route.query.liable,this.tableName=this.$route.query.tableName,this.getDatasourceTypeList(),this.getcreateUserList(),this.getQualityInfoList()},watch:{currentPage:function(){this.getQualityInfoList()},conn:function(e){""!==e?(this.dataBaseList=[],this.datebase="",this.qualityRuleDatabase({connectId:this.conn})):(this.datebase="",this.dataBaseList=[])},databaseName:function(){this.currentPage=1},pageSize:function(){this.getQualityInfoList()}},components:{CustomerTable:v,CorSourceCompare:C}},O=(a("7acf"),Object(g.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"quality-list"},[e._m(0),t("div",{staticClass:"list-content"},[t("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"表质量任务("+e.pageTotal+")",name:"tableTask"}}),t("el-tab-pane",{attrs:{label:"跨源对比任务("+e.corSourceTaskPageTotal+")",name:"corSourceTask"}})],1),t("cor-source-compare",{directives:[{name:"show",rawName:"v-show",value:"corSourceTask"===e.activeName,expression:"activeName === 'corSourceTask'"}],ref:"corSourceTaskRef",attrs:{total:e.corSourceTaskPageTotal},on:{"update:total":function(t){e.corSourceTaskPageTotal=t}}}),"tableTask"===e.activeName?t("el-form",{ref:"search",staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-row",{attrs:{gutter:10,type:"flex",justify:"space-between"}},[t("el-col",{staticStyle:{"font-size":"12px"},attrs:{md:4,lg:5,xl:12}},[t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"qualityList_create",expression:"'qualityList_create'"}],staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.fastCreateRules}},[e._v("创建质量任务")])],1),t("el-col",{staticStyle:{padding:"0px"},attrs:{md:20,lg:19,xl:12}},[t("div",{staticClass:"fr"},[t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择责任人"},model:{value:e.liable,callback:function(t){e.liable=t},expression:"liable"}},e._l(e.createUserList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",[t("el-input",{attrs:{placeholder:"请输入表名",clearable:""},model:{value:e.tableName,callback:function(t){e.tableName="string"==typeof t?t.trim():t},expression:"tableName"}})],1),t("el-form-item",[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v("查询")]),t("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")]),t("el-button",{attrs:{type:"text"},on:{click:e.searchMore}},[e._v(e._s(e.moreType?"普通查询":"高级查询"))])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.moreType,expression:"moreType"}]},[t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据源类型",size:"mini"},on:{change:e.getRuleDataSourceList},model:{value:e.dbType,callback:function(t){e.dbType=t},expression:"dbType"}},e._l(e.typeList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据源",size:"mini"},model:{value:e.conn,callback:function(t){e.conn=t},expression:"conn"}},e._l(e.dataSourceList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",[t("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择数据库",size:"mini"},model:{value:e.datebase,callback:function(t){e.datebase=t},expression:"datebase"}},e._l(e.dataBaseList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)])],1)],1):e._e(),"tableTask"===e.activeName?t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"search-list"},[t("div",{staticClass:"search-table"},[t("customer-table",{attrs:{dataList:e.qualityList,labelMap:e.labelMap,isShowToolTip:!0},on:{sortChange:e.handleSortChange},scopedSlots:e._u([{key:"row",fn:function(a){var r=a.row,i=a.prop,n=a.label;return["表名"===n||"数据源名称"===n?t("span",[t("span",{staticClass:"textOverFlow"},[e._v(e._s(r[i]))])]):"最近修改时间"===n?t("div",[e._v("\n              "+e._s(r[i]?r[i].replace("T"," "):"")+"\n            ")]):"数据源类型"===n?t("div",[e._v("\n              "+e._s(1==r[i]?"MySQL":2==r[i]?"Oracle":3==r[i]?"SQL Server":11==r[i]?"Hive":"")+"\n            ")]):"修改人"===n?t("span",[t("span",{staticClass:"textOverFlow"},[e._v(e._s(r[i]))])]):"操作"===n?t("div",[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.setRules(r)}}},[e._v("配置规则")]),t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.clearAllRules(r)}}},[e._v("清空规则")])],1):t("div",[e._v(e._s(r[i]))])]}}],null,!1,3195037695)})],1),t("div",{staticClass:"search-pagination"},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handlePageChange}})],1)]):e._e()],1)])}),[function(){var e=this._self._c;return e("div",{staticClass:"list-top"},[e("div",{staticClass:"title"},[this._v("质量任务")])])}],!1,null,"261158c8",null));t.default=O.exports},7935:function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-69ce1116]{color:#1740dc}.success-color[data-v-69ce1116]{color:#52c41a}.warning-color[data-v-69ce1116]{color:#faad14}.error-color[data-v-69ce1116]{color:#f5222d}.info-color[data-v-69ce1116]{color:#909399}.border-color[data-v-69ce1116]{border:1px solid #e5e6e9}.over-flow[data-v-69ce1116]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}",""])},"7acf":function(e,t,a){"use strict";a("f9e9")},"86b9":function(e,t,a){"use strict";a.d(t,"n",(function(){return c})),a.d(t,"g",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"a",(function(){return h})),a.d(t,"f",(function(){return m})),a.d(t,"m",(function(){return b})),a.d(t,"b",(function(){return g})),a.d(t,"q",(function(){return v})),a.d(t,"p",(function(){return y})),a.d(t,"o",(function(){return x})),a.d(t,"i",(function(){return w})),a.d(t,"k",(function(){return S})),a.d(t,"j",(function(){return k})),a.d(t,"l",(function(){return T})),a.d(t,"c",(function(){return C}));a("8e6e"),a("ac6a"),a("456d");var r=a("ade3"),i=a("2b0e"),n=a("fedb"),s=a("ca00");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=function(e){return i.default.http.post(n.a.saveNodeData,e)},u=function(e){return i.default.http.get(n.a.getMetaDbListByConnect+"/".concat(e))},d=function(e){return i.default.http.get(n.a.getConfDbListByConnect+"/".concat(e))},p=function(e){return i.default.http.get(n.a.getConfConnectListAllKafka,{params:e})},f=function(e){return i.default.http.get(n.a.getNodeDetail,{params:e})},h=function(e){return i.default.http.post(n.a.deleteNodeConnect,e)},m=function(){return i.default.http.get(n.a.getFieldTypes)},b=function(e){return i.default.http.get(Object(s.e)(n.a.reviewSql,{id:e}))},g=function(){return i.default.http.get(n.a.downLoadFieldFile,{responseType:"arraybuffer"})},v=function(e){return i.default.http.post(n.a.uploadFieldFile,e)},y=function(e){return i.default.http.get(n.a.taskGetPartFields,{params:e})},x=function(e){return i.default.http.post(n.a.tableViewData,e)},w=function(e){return i.default.http.post(n.a.getProcInfoListDbs,l({},e))},S=function(e){return i.default.http.post(n.a.getRealTimeTableList,e)},k=function(e){var t=e.id;return i.default.http.get(n.a.getRealTimeDetail+"/".concat(t))},T=function(e){return i.default.http.post(n.a.getTableInfoListNew,e)},C=function(e){return i.default.http.get(n.a.getAllFields,{params:e})}},"8e44":function(e,t,a){var r=a("df01");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("a58b19e2",r,!0,{sourceMap:!1,shadowMode:!1})},baa5:function(e,t,a){"use strict";a("8e44")},bcc2:function(e,t,a){"use strict";a("c1a6")},c1a6:function(e,t,a){var r=a("7935");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("1d4758af",r,!0,{sourceMap:!1,shadowMode:!1})},d263:function(e,t,a){"use strict";a("386b")("fixed",(function(e){return function(){return e(this,"tt","","")}}))},d490:function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-261158c8]{color:#1740dc}.success-color[data-v-261158c8]{color:#52c41a}.warning-color[data-v-261158c8]{color:#faad14}.error-color[data-v-261158c8]{color:#f5222d}.info-color[data-v-261158c8]{color:#909399}.border-color[data-v-261158c8]{border:1px solid #e5e6e9}.flex-column[data-v-261158c8]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.flex-align-center[data-v-261158c8],.flex-column[data-v-261158c8]{display:-webkit-box;display:-ms-flexbox;display:flex}.flex-align-center[data-v-261158c8]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.quality-list[data-v-261158c8]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.quality-list .list-top[data-v-261158c8]{width:100%}.quality-list .list-top .title[data-v-261158c8]{height:48px;line-height:48px;border-bottom:1px solid #e5e6e9;font-weight:400;color:#040c2c;font-size:16px;padding:0 20px}.quality-list .list-top .list-choice[data-v-261158c8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px}.quality-list .list-top .list-choice span[data-v-261158c8]{font-size:14px}.quality-list .list-top .list-choice span[data-v-261158c8]:nth-child(3){margin-left:20px}.quality-list .list-content[data-v-261158c8]{width:100%;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:0 20px 15px 20px;height:48px;font-weight:400;color:#040c2c;font-size:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.quality-list .list-content .search[data-v-261158c8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.quality-list .list-content .search .right i[data-v-261158c8]{margin-left:10px}.quality-list .list-content .search[data-v-261158c8] .el-input{margin-right:10px;width:200px}.quality-list .list-content .search[data-v-261158c8] .el-button{padding:7px 15px!important}.quality-list .list-content .search span[data-v-261158c8]:nth-child(3){margin-left:15px}.quality-list .list-content .search-list[data-v-261158c8]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-ms-flex:1;flex:1}.quality-list .list-content .search-list .search-table[data-v-261158c8]{font-size:14px}.quality-list .list-content .search-list .search-table .blue[data-v-261158c8]{color:#1740dc;cursor:pointer;margin-right:15px}.quality-list .list-content .search-list .search-table .red[data-v-261158c8]{color:#d9001b;margin-left:10px;cursor:pointer}.quality-list .list-content .search-list .search-pagination[data-v-261158c8]{height:50px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}[data-v-261158c8] .el-table:before{height:0}.textOverFlow[data-v-261158c8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}",""])},d8ad:function(e,t,a){"use strict";var r=new(a("2b0e").default);t.a=r},df01:function(e,t,a){(e.exports=a("2350")(!1)).push([e.i,".primary-color[data-v-049e4f2b]{color:#1740dc}.success-color[data-v-049e4f2b]{color:#52c41a}.warning-color[data-v-049e4f2b]{color:#faad14}.error-color[data-v-049e4f2b]{color:#f5222d}.info-color[data-v-049e4f2b]{color:#909399}.border-color[data-v-049e4f2b]{border:1px solid #e5e6e9}.customer-table[data-v-049e4f2b]{width:100%}.customer-table[data-v-049e4f2b] .el-table__row .el-table__cell .cell div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},f9e9:function(e,t,a){var r=a("d490");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("8f32ce74",r,!0,{sourceMap:!1,shadowMode:!1})}}]);